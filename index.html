<!DOCTYPE html>
<html lang="vi" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<title>Thu√™ Xe M√°y H√† N·ªôi Uy T√≠n - Mr T√∫ Bike | 081.665.9199</title>
<meta name="description" content="D·ªãch v·ª• thu√™ xe m√°y H√† N·ªôi uy t√≠n, giao xe t·∫≠n n∆°i mi·ªÖn ph√≠ khu Ho√†n Ki·∫øm, Ph·ªë C·ªï. Xe m·ªõi 2024‚Äì2025, gi√° ch·ªâ t·ª´ 100k/ng√†y. Hotline: 081.665.9199">
<meta name="theme-color" content="#000000">

<!-- Canonical URL -->
<link rel="canonical" href="https://thuexemayhanoi.github.io/shop/">

<!-- PWA iOS Config -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Mr T√∫ Bike">

<!-- Fonts & Icons -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    /* --- 1. DESIGN SYSTEM: WCAG 2.1 COMPLIANT --- */
    :root {
        /* BRAND PRIMARY */
        --primary: #FF6B00;
        --primary-dark: #cc5500;
        --text-on-primary: #000000; 
        --secondary: #FFB800;
        
        /* ACCENT COLORS */
        --accent-green: #006837;
        --accent-blue: #0056D2;
        --accent-purple: #7425C9;
        --accent-yellow: #995700;
        --accent-red: #C41C00;

        /* BACKGROUNDS */
        --bg-body: #F2F2F7;
        --surface: #FFFFFF;
        --glass-material: rgba(255, 255, 255, 0.9);
        --glass-border: rgba(0, 0, 0, 0.1);
        --muted-bg: rgba(0, 0, 0, 0.05);

        /* TEXT */
        --text-main: #111111;
        --text-sub: #555555;
        
        /* SHADOWS & UI */
        --shadow-3d: 0 10px 30px -10px rgba(0,0,0,0.15);
        --btn-shadow: 0 6px 0 var(--primary-dark), 0 15px 25px rgba(255, 107, 0, 0.2);
        --btn-active: 0 0 0 var(--primary-dark), inset 0 2px 5px rgba(0,0,0,0.1);
        
        --ease-apple: cubic-bezier(0.25, 1, 0.5, 1);
        --font-stack: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
    }

    /* DARK THEME OVERRIDES */
    [data-theme="dark"] {
        --bg-body: #050505;
        --surface: #1C1C1E;
        --glass-material: rgba(30, 30, 32, 0.85);
        --glass-border: rgba(255, 255, 255, 0.15);
        --muted-bg: rgba(255, 255, 255, 0.08);

        --accent-green: #34C759;
        --accent-blue: #409CFF;
        --accent-purple: #BF5AF2;
        --accent-yellow: #FFD60A;
        --accent-red: #FF453A;

        --text-main: #F5F5F7;
        --text-sub: #AEAEB2;

        --shadow-3d: 0 20px 50px -10px rgba(0,0,0,0.7);
        --btn-shadow: 0 6px 0 #b34700, 0 15px 30px rgba(255, 107, 0, 0.3);
        --text-on-primary: #000000; 
    }

    /* --- 2. RESET & BASE --- */
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
    
    html { 
        scroll-behavior: smooth; 
        font-size: 100%; 
        -webkit-font-smoothing: antialiased; 
        -moz-osx-font-smoothing: grayscale; 
        height: 100%;
    }
    
    body {
        margin: 0; padding: 0;
        font-family: var(--font-stack);
        background: var(--bg-body);
        color: var(--text-main);
        overflow-x: hidden;
        transition: background 0.4s var(--ease-apple), color 0.3s;
        padding-bottom: calc(40px + env(safe-area-inset-bottom));
        line-height: 1.5;
    }

    input, button, select, textarea { font-family: inherit; }

    a { text-decoration: none; color: inherit; }
    ul { list-style: none; padding: 0; margin: 0; }
    
    p { line-height: 1.7; margin-bottom: 1.5rem; font-size: 1.05rem; color: var(--text-sub); font-weight: 500; }
    h2 { font-size: clamp(2rem, 5vw, 2.5rem); font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -0.5px; color: var(--text-main); }
    h3 { font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: var(--text-main); }
    strong { color: var(--primary); font-weight: 700; }

    /* --- 3. UI COMPONENTS --- */
    .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    
    .glass-panel {
        background: var(--glass-material);
        backdrop-filter: blur(25px) saturate(180%);
        -webkit-backdrop-filter: blur(25px) saturate(180%);
        border: 1px solid var(--glass-border);
        box-shadow: 0 8px 32px rgba(0,0,0,0.05);
    }

    /* BTN-3D */
    .btn-3d {
        position: relative;
        border: none;
        background: linear-gradient(145deg, var(--primary), #FF8800);
        color: var(--text-on-primary) !important; 
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        padding: 1rem 1.6rem;
        border-radius: 24px;
        cursor: pointer;
        transition: transform 0.1s, box-shadow 0.1s;
        box-shadow: var(--btn-shadow);
        display: inline-flex; align-items: center; justify-content: center; gap: 10px;
        border-top: 1px solid rgba(255,255,255,0.3);
        font-size: 1rem;
    }
    .btn-3d:active { transform: translateY(6px); box-shadow: var(--btn-active); }

    .fade-in-up { opacity: 0; transform: translateY(40px); transition: all 0.8s var(--ease-apple); }
    .fade-in-up.visible { opacity: 1; transform: translateY(0); }

    /* --- 4. HEADER --- */
    .header {
        position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
        padding: 12px 0; transition: 0.3s;
    }
    .header.scrolled { padding: 8px 0; }
    
    .nav-bar {
        display: flex; justify-content: space-between; align-items: center;
        padding: 8px 12px; border-radius: 100px;
        transition: 0.3s; box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }
    
    .header-left { display: flex; align-items: center; gap: 12px; }

    .logo { display: flex; align-items: center; gap: 10px; }
    .logo-img {
        width: 44px; height: 44px; border-radius: 50%;
        border: 2px solid var(--primary); padding: 2px;
        animation: spin 12s linear infinite;
        background: var(--surface);
    }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    .logo-title { font-size: 1.1rem; font-weight: 800; margin: 0; line-height: 1; display: block; color: var(--text-main); }
    .logo-text span { font-size: 0.75rem; font-weight: 600; color: var(--text-sub); letter-spacing: 1px; display: block; }

    .status-widget {
        display: flex; align-items: center; gap: 8px;
        padding: 6px 14px; border-radius: 20px;
        background: var(--muted-bg);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(10px);
    }
    .status-dot {
        width: 10px; height: 10px; border-radius: 50%;
        background: var(--accent-red);
        box-shadow: 0 0 8px var(--accent-red);
        transition: 0.3s;
    }
    .status-dot.open { background: var(--accent-green); box-shadow: 0 0 8px var(--accent-green); }
    .text-open { color: var(--accent-green) !important; }
    .text-closed { color: var(--accent-red) !important; }
    .status-text { font-size: 0.75rem; font-weight: 700; color: var(--text-main); white-space: nowrap; }

    .desktop-nav { display: flex; gap: 4px; }
    .nav-link {
        padding: 8px 16px; border-radius: 20px; font-size: 0.95rem; font-weight: 600;
        color: var(--text-sub); transition: 0.2s;
        display: flex; align-items: center; gap: 6px;
    }
    .nav-link:hover { color: var(--primary); background: var(--muted-bg); }
    
    .header-actions { display: flex; gap: 8px; }
    .action-btn {
        width: 40px; height: 40px; border-radius: 50%; border: none;
        background: var(--muted-bg); color: var(--text-main);
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; transition: 0.3s;
    }
    .action-btn:hover { background: var(--primary); color: var(--text-on-primary); transform: rotate(15deg); }

    /* --- 5. HERO SECTION --- */
    .hero {
        min-height: 100vh; padding-top: 120px; padding-bottom: 60px;
        display: flex; align-items: center; position: relative; overflow: hidden;
    }
    .hero-glow {
        position: absolute; width: 90vw; height: 90vw;
        background: radial-gradient(circle, rgba(255, 107, 0, 0.3) 0%, transparent 65%);
        top: -30%; right: -30%; filter: blur(100px); opacity: 0.6; z-index: -1;
        animation: float 10s ease-in-out infinite alternate;
    }
    @keyframes float { from {transform: translate(0,0);} to {transform: translate(-40px, 50px);} }

    .hero-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 60px; align-items: center; }

    .hero-badge {
        display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px;
        border-radius: 100px; background: rgba(255, 107, 0, 0.1); color: var(--primary);
        font-weight: 700; font-size: 0.85rem; border: 1px solid rgba(255, 107, 0, 0.3);
        margin-bottom: 24px; box-shadow: 0 4px 20px rgba(255,107,0,0.1);
    }
    .hero-title {
        font-size: clamp(2.8rem, 6vw, 4.8rem);
        line-height: 1.05; font-weight: 800;
        margin-bottom: 24px; letter-spacing: -1.5px;
        color: var(--text-main);
    }
    .text-highlight {
        background: linear-gradient(135deg, var(--primary) 20%, var(--secondary) 100%);
        -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }

    /* MINI APPS */
    .mini-apps { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; margin-top: 40px; }
    .app-item {
        display: flex; flex-direction: column; align-items: center; gap: 10px;
        cursor: pointer; transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .app-item:hover { transform: translateY(-12px) scale(1.05); }
    
    .app-icon {
        width: 68px; height: 68px; border-radius: 22px;
        background: var(--glass-material); border: 1px solid var(--glass-border);
        display: flex; align-items: center; justify-content: center;
        font-size: 26px; color: var(--primary); 
        box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        position: relative; overflow: hidden;
    }
    
    .app-item[data-accent="green"] .app-icon { color: var(--accent-green); }
    .app-item[data-accent="blue"] .app-icon { color: var(--accent-blue); }
    .app-item[data-accent="yellow"] .app-icon { color: var(--accent-yellow); }
    .app-item[data-accent="purple"] .app-icon { color: var(--accent-purple); }
    /* AI Styling */
    .app-item[data-accent="ai"] .app-icon { 
        background: linear-gradient(135deg, #1A1A1A, #000); 
        color: #fff;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .app-item[data-accent="ai"] .app-icon i {
        background: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-size: 28px;
    }
    /* Heart/Matchmaker Styling */
    .app-item[data-accent="love"] .app-icon { 
        background: linear-gradient(135deg, #fff0f0, #ffe6e6); 
        color: #ff3366;
    }


    .app-icon::after {
        content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
        background: linear-gradient(45deg, transparent, rgba(255,255,255,0.4), transparent);
        transform: rotate(45deg) translateY(-100%); transition: 0.5s;
    }
    .app-item:hover .app-icon::after { transform: rotate(45deg) translateY(100%); }
    .app-label { font-size: 0.75rem; font-weight: 600; color: var(--text-main); text-align: center; line-height: 1.2; }

    /* Calculator */
    .calc-box {
        padding: 32px; border-radius: 36px;
        transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
        box-shadow: var(--shadow-3d); transition: transform 0.2s;
        border-top: 1px solid rgba(255,255,255,0.3);
    }
    .calc-box:hover { transform: perspective(1000px) rotateY(0) rotateX(0); }
    
    .form-group { margin-bottom: 20px; }
    .form-label { font-size: 0.9rem; font-weight: 700; color: var(--text-sub); margin-bottom: 8px; display: block; }
    .form-input {
        width: 100%; padding: 1rem; border-radius: 18px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main); font-size: 1rem; font-weight: 600;
        transition: 0.3s;
    }
    .form-input:focus { background: var(--surface); border-color: var(--primary); box-shadow: 0 0 0 4px rgba(255, 107, 0, 0.2); }

    /* --- 6. SECTIONS --- */
    .section { padding: 80px 0; }
    .section-bg { background: var(--muted-bg); }
    
    .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; }
    .feature-card {
        padding: 40px; border-radius: 32px;
        transition: 0.4s; position: relative;
        display: flex; flex-direction: column; gap: 16px;
    }
    .feature-card:hover { transform: translateY(-15px); box-shadow: var(--shadow-3d); border-color: var(--primary); }
    
    .f-icon {
        width: 60px; height: 60px; border-radius: 20px; background: rgba(255, 107, 0, 0.1);
        color: var(--primary); display: flex; align-items: center; justify-content: center; font-size: 28px;
        box-shadow: 0 10px 20px rgba(255,107,0,0.15);
    }

    .content-block { max-width: 800px; margin: 0 auto; }
    .content-block h3 { color: var(--primary); }
    .content-list { list-style: none; padding-left: 0; }
    .content-list li {
        position: relative; padding-left: 30px; margin-bottom: 12px;
        color: var(--text-sub); font-size: 1.05rem;
    }
    .content-list li::before {
        content: '‚úî'; position: absolute; left: 0; color: var(--primary); font-weight: bold;
    }

    /* --- 7. FOOTER --- */
    .footer { margin-top: 40px; }
    .footer-box { padding: 70px 50px; border-radius: 48px; position: relative; overflow: hidden; }
    .footer-bg-glow {
        position: absolute; bottom: -50%; left: 50%; transform: translateX(-50%);
        width: 120%; height: 120%; background: radial-gradient(circle, var(--primary) 0%, transparent 60%);
        opacity: 0.08; pointer-events: none;
    }
    
    .footer-grid { display: grid; gap: 50px; z-index: 1; position: relative; grid-template-columns: repeat(4, 1fr); }
    
    .f-col h4 {
        font-size: 1.2rem; font-weight: 800; margin-bottom: 24px; color: var(--text-main);
        display: flex; align-items: center; gap: 10px;
    }
    
    .f-link {
        display: flex; align-items: center; gap: 12px; margin-bottom: 16px;
        color: var(--text-sub); font-weight: 500; transition: 0.3s; font-size: 1rem;
    }
    .f-link:hover { color: var(--primary); transform: translateX(8px); }
    
    .f-svg-box {
        width: 32px; height: 32px; border-radius: 10px;
        background: var(--muted-bg); border: 1px solid var(--glass-border);
        display: flex; align-items: center; justify-content: center; color: var(--text-main);
        transition: 0.3s; flex-shrink: 0;
    }
    .f-link:hover .f-svg-box { background: var(--primary); color: var(--text-on-primary); border-color: var(--primary); }

    /* --- 8. ULTRA APP MINI (FLOATING ACTION BUTTON) --- */
    .ultra-fab-wrapper {
        position: fixed;
        bottom: 30px;
        left: 20px;
        z-index: 999;
        display: flex;
        flex-direction: column-reverse;
        align-items: center;
        gap: 12px;
    }

    /* Main Toggle Button */
    .ultra-main-btn {
        width: 60px; height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), #FF4500);
        color: #fff;
        border: none;
        display: flex; align-items: center; justify-content: center;
        font-size: 26px;
        cursor: pointer;
        box-shadow: 0 8px 30px rgba(255, 107, 0, 0.4);
        position: relative;
        z-index: 2;
        transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        /* Animation rung & glow */
        animation: ultra-glow 2s infinite;
    }
    
    /* Animation definition */
    @keyframes ultra-glow {
        0% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0.7); transform: scale(1); }
        50% { transform: scale(1.05); }
        70% { box-shadow: 0 0 0 15px rgba(255, 107, 0, 0); }
        100% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0); transform: scale(1); }
    }
    
    @keyframes ultra-shake {
        0%, 100% { transform: rotate(0deg); }
        25% { transform: rotate(-10deg); }
        75% { transform: rotate(10deg); }
    }

    /* Apply shake on interval via JS or simpler hover/active */
    .ultra-main-btn.shaking {
        animation: ultra-shake 0.5s ease-in-out;
    }

    .ultra-main-btn i { transition: 0.3s; }
    .ultra-fab-wrapper.active .ultra-main-btn {
        transform: rotate(45deg);
        background: #333; /* Darken when open */
        box-shadow: 0 8px 30px rgba(0,0,0,0.3);
        animation: none; /* Stop pulsing when open */
    }

    /* Sub Buttons Container */
    .ultra-actions {
        position: absolute;
        bottom: 70px;
        left: 0;
        width: 60px;
        display: flex;
        flex-direction: column-reverse;
        gap: 12px;
        pointer-events: none;
    }

    .ultra-sub-btn {
        width: 50px; height: 50px;
        border-radius: 18px;
        background: var(--glass-material); /* Adaptive glass background */
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        border: 1px solid var(--glass-border);
        color: var(--text-main);
        display: flex; align-items: center; justify-content: center;
        font-size: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        cursor: pointer;
        opacity: 0;
        transform: translateY(20px) scale(0.8);
        transition: 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        margin: 0 auto; /* Center in column */
        text-decoration: none;
        pointer-events: auto;
    }

    /* Active State: Fan out buttons */
    .ultra-fab-wrapper.active .ultra-sub-btn {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    
    /* Staggered delay for "Spring" effect */
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(1) { transition-delay: 0.05s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(2) { transition-delay: 0.1s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(3) { transition-delay: 0.15s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(4) { transition-delay: 0.2s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(5) { transition-delay: 0.25s; }

    /* Tooltips (Right Side) */
    .ultra-sub-btn::after {
        content: attr(data-tooltip);
        position: absolute;
        left: 60px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 4px 10px;
        border-radius: 8px;
        font-size: 12px;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: 0.2s;
        pointer-events: none;
    }
    .ultra-sub-btn:hover::after {
        opacity: 1; visibility: visible; left: 65px;
    }

    /* Brand Colors */
    .u-zalo { color: #0068FF; }
    .u-wa { color: #25D366; }
    .u-map { color: #FFB800; }
    .u-phone { color: var(--primary); }

    /* --- AI MODAL STYLES --- */
    .ai-modal-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.7); 
        z-index: 2000; opacity: 0; visibility: hidden; 
        transition: 0.3s; backdrop-filter: blur(5px);
    }
    .ai-modal {
        position: fixed; top: 50%; left: 50%; width: 90%; max-width: 500px;
        height: 70vh; max-height: 700px;
        transform: translate(-50%, -40%) scale(0.95);
        background: var(--surface);
        border: 1px solid var(--glass-border);
        border-radius: 32px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        display: flex; flex-direction: column; overflow: hidden;
        z-index: 2001; opacity: 0; visibility: hidden;
        transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .ai-modal.active { opacity: 1; visibility: visible; transform: translate(-50%, -50%) scale(1); }
    .ai-modal-overlay.active { opacity: 1; visibility: visible; }

    .ai-header {
        padding: 20px; border-bottom: 1px solid var(--glass-border);
        display: flex; justify-content: space-between; align-items: center;
        background: var(--muted-bg);
    }
    .ai-header h3 { margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px; }
    .ai-close { cursor: pointer; background: none; border: none; font-size: 24px; color: var(--text-sub); transition: 0.2s; }
    .ai-close:hover { color: var(--text-main); transform: rotate(90deg); }

    .ai-chat-area {
        flex: 1; overflow-y: auto; padding: 20px;
        display: flex; flex-direction: column; gap: 16px;
        background: var(--bg-body);
    }
    
    .chat-msg {
        max-width: 85%; padding: 12px 16px; border-radius: 20px;
        font-size: 0.95rem; line-height: 1.5;
        position: relative; animation: popIn 0.3s ease-out;
    }
    @keyframes popIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .msg-bot {
        align-self: flex-start;
        background: var(--surface); border: 1px solid var(--glass-border);
        border-bottom-left-radius: 4px; color: var(--text-main);
    }
    .msg-user {
        align-self: flex-end;
        background: linear-gradient(135deg, var(--primary), #FF8800);
        color: white; border-bottom-right-radius: 4px;
        box-shadow: 0 4px 15px rgba(255, 107, 0, 0.2);
    }
    .msg-bot strong { color: var(--primary); }

    .ai-input-area {
        padding: 16px; background: var(--surface); border-top: 1px solid var(--glass-border);
        display: flex; gap: 10px;
    }
    .ai-input {
        flex: 1; padding: 12px 16px; border-radius: 24px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main);
    }
    .ai-send {
        width: 46px; height: 46px; border-radius: 50%; border: none;
        background: var(--text-main); color: var(--surface);
        display: flex; align-items: center; justify-content: center; cursor: pointer;
        transition: 0.2s;
    }
    .ai-send:hover { transform: scale(1.1); }
    .ai-send:disabled { opacity: 0.5; cursor: not-allowed; }

    /* Typing Dot Animation */
    .typing-dots { display: inline-flex; gap: 4px; }
    .dot { width: 6px; height: 6px; background: var(--text-sub); border-radius: 50%; animation: bounce 1.4s infinite ease-in-out both; }
    .dot:nth-child(1) { animation-delay: -0.32s; }
    .dot:nth-child(2) { animation-delay: -0.16s; }
    @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }

    /* --- MOBILE MENU --- */
    .mobile-menu-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 998;
        opacity: 0; visibility: hidden; transition: 0.3s; backdrop-filter: blur(8px);
    }
    .mobile-menu {
        position: fixed; bottom: 0; left: 0; width: 100%; max-height: 85vh;
        background: var(--surface); border-radius: 36px 36px 0 0;
        transform: translateY(100%); transition: 0.5s var(--ease-apple); z-index: 999;
        display: flex; flex-direction: column; overflow: hidden;
        border-top: 1px solid var(--glass-border);
    }
    .mobile-menu.active { transform: translateY(0); }
    .mobile-menu-overlay.active { opacity: 1; visibility: visible; }
    .drag-handle { width: 50px; height: 6px; background: #E5E5EA; border-radius: 10px; margin: 16px auto; }
    .menu-content { padding: 20px 24px 140px 24px; overflow-y: auto; }

    .menu-icon {
        width: 32px; height: 32px; border-radius: 10px;
        background: var(--muted-bg); display: flex; align-items: center; justify-content: center;
        color: var(--primary); margin-right: 12px;
    }

    /* --- RESPONSIVE --- */
    @media (max-width: 1024px) {
        .hero-title { font-size: 3.5rem; }
        .hero-grid { grid-template-columns: 1fr; gap: 50px; }
        .desktop-nav { display: none; }
        .menu-toggle { display: flex !important; }
        .footer-grid { grid-template-columns: repeat(2, 1fr); gap: 30px; }
        .status-widget { display: none; }
    }
    @media (max-width: 768px) {
        .status-widget { display: none; }
        .hero { padding-top: 100px; padding-bottom: 40px; }
        .mini-apps { grid-template-columns: repeat(3, 1fr); gap: 12px; } /* Adjust grid for mobile */
        .app-icon { width: 60px; height: 60px; font-size: 22px; }
        .footer-grid { grid-template-columns: 1fr; gap: 40px; }
        .footer-box { padding: 50px 30px; }
        .section { padding: 60px 0; }
        .feature-grid { gap: 24px; }
    }
</style>
</head>
<body id="top">

<!-- HEADER -->
<header class="header" id="header">
    <div class="container">
        <div class="nav-bar glass-panel">
            <div class="header-left">
                <a href="./" class="logo">
                    <img src="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0462.jpeg" class="logo-img" alt="logo Mr T√∫ Bike" width="44" height="44">
                    <div class="logo-text">
                        <span class="logo-title">Mr T√∫</span>
                        <span>Ultra iOS 26</span>
                    </div>
                </a>
                
                <!-- WIDGET GI·ªú M·ªû C·ª¨A -->
                <div class="status-widget" id="status-widget">
                    <div class="status-dot" id="status-dot"></div>
                    <span class="status-text" id="status-text">ƒêang t·∫£i...</span>
                </div>
            </div>
            
            <nav class="desktop-nav" id="desktop-menu"></nav>

            <div class="header-actions">
                <button class="action-btn" id="theme-btn" aria-label="ƒê·ªïi giao di·ªán s√°ng/t·ªëi">
                    <span class="material-symbols-rounded">light_mode</span>
                </button>
                <button class="action-btn menu-toggle" id="menu-btn" style="display:none" aria-label="M·ªü menu">
                    <span class="material-symbols-rounded">grid_view</span>
                </button>
            </div>
        </div>
    </div>
</header>

<!-- MOBILE MENU -->
<div class="mobile-menu-overlay" id="overlay"></div>
<div class="mobile-menu glass-panel" id="mobile-menu">
    <div class="drag-handle"></div>
    <div class="menu-content" id="mobile-list"></div>
</div>

<main>
    <!-- HERO SECTION -->
    <section class="hero">
        <div class="hero-glow"></div>
        <div class="container">
            <div class="hero-grid">
                
                <!-- Content Left -->
                <div class="fade-in-up">
                    <div class="hero-badge">
                        <span class="material-symbols-rounded" style="font-size:16px;">verified</span>
                        Thu√™ xe m√°y H√† N·ªôi ‚Äì Ho√†n Ki·∫øm
                    </div>
                    <h1 class="hero-title">
                        Thu√™ Xe M√°y H√† N·ªôi<br>
                        <span class="text-highlight">Ho√†n Ki·∫øm & Ph·ªë C·ªï</span>
                    </h1>
                    <p>
                        D·ªãch v·ª• cho thu√™ xe m√°y H√† N·ªôi chu·∫©n du l·ªãch & c√¥ng t√°c. Giao xe t·∫≠n n∆°i trong 15‚Äì20 ph√∫t t·∫°i khu Ph·ªë C·ªï, Ho√†n Ki·∫øm, H·ªì T√¢y. Xe ƒë·ªùi m·ªõi, h·ªó tr·ª£ 24/7.
                    </p>

                    <!-- 3D Mini Apps -->
                    <div>
                        <div style="text-transform:uppercase; font-size:0.75rem; font-weight:800; color:var(--text-sub); letter-spacing:1px; margin-bottom:12px;">Quick Access</div>
                        <div class="mini-apps">
                            <div class="app-item" data-accent="green" onclick="window.location.href='tel:+84816659199'">
                                <div class="app-icon"><i class="fa-solid fa-phone"></i></div>
                                <span class="app-label">G·ªçi Ngay</span>
                            </div>
                            <div class="app-item" data-accent="blue" onclick="window.open('https://zalo.me/0816659199', '_blank', 'noopener,noreferrer')">
                                <div class="app-icon"><i class="fa-solid fa-comment-dots"></i></div>
                                <span class="app-label">Zalo</span>
                            </div>
                            <div class="app-item" data-accent="yellow" onclick="window.location.href='banggia.html'">
                                <div class="app-icon"><i class="fa-solid fa-tag"></i></div>
                                <span class="app-label">B·∫£ng Gi√°</span>
                            </div>
                            <div class="app-item" data-accent="purple" onclick="const ft = document.getElementById('footer-target'); if(ft) ft.scrollIntoView({behavior:'smooth'})">
                                <div class="app-icon"><i class="fa-solid fa-map-location-dot"></i></div>
                                <span class="app-label">ƒê·ªãa ƒêi·ªÉm</span>
                            </div>
                            
                            <!-- GEMINI FEATURE 1: AI GUIDE -->
                            <div class="app-item" data-accent="ai" onclick="AI_Guide.open()">
                                <div class="app-icon"><i class="fa-solid fa-wand-magic-sparkles"></i></div>
                                <span class="app-label">AI Tour Guide ‚ú®</span>
                            </div>

                             <!-- GEMINI FEATURE 2: BIKE MATCHMAKER -->
                            <div class="app-item" data-accent="love" onclick="AI_Matchmaker.open()">
                                <div class="app-icon"><i class="fa-solid fa-heart-pulse"></i></div>
                                <span class="app-label">T√¨m Xe Ch√¢n √Åi ‚ú®</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calculator Right -->
                <div class="calc-box glass-panel fade-in-up" id="tilt-box" style="transition-delay: 0.2s;">
                    <h3 style="display:flex; align-items:center; gap:10px;">
                        <span class="material-symbols-rounded" style="color:var(--primary)">bolt</span>
                        D·ª± to√°n chi ph√≠
                    </h3>

                    <div class="form-group">
                        <label class="form-label" for="c-type">Lo·∫°i xe</label>
                        <select class="form-input" id="c-type">
                            <option value="150000">Xe s·ªë (Wave/Sirius) - 150k</option>
                            <option value="200000">Xe ga (Vision/Airblade) - 200k</option>
                            <option value="350000">Xe c√¥n/PKL - 350k</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="c-days">S·ªë ng√†y</label>
                        <input type="number" class="form-input" id="c-days" value="1" min="1">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Khu v·ª±c</label>
                        <select class="form-input">
                            <option>Ho√†n Ki·∫øm / Ph·ªë C·ªï</option>
                            <option>Long Bi√™n / Gia L√¢m</option>
                            <option>Khu v·ª±c kh√°c</option>
                        </select>
                    </div>

                    <div style="display:flex; justify-content:space-between; align-items:center; margin-top:24px; padding-top:16px; border-top:1px dashed var(--glass-border);">
                        <span style="font-size:0.95rem; color:var(--text-sub); font-weight:600;">T·∫°m t√≠nh:</span>
                        <span style="font-size:1.6rem; font-weight:800; color:var(--primary)" id="c-total">150.000ƒë</span>
                    </div>

                    <button class="btn-3d" style="width:100%; margin-top:24px;" onclick="window.open('https://zalo.me/0816659199', '_blank', 'noopener,noreferrer')">
                        ƒê·∫∑t Xe Ngay <i class="fa-solid fa-arrow-right"></i>
                    </button>
                    <p style="text-align:center; font-size:0.75rem; color:var(--text-sub); margin-top:12px; opacity:0.7;">*Kh√¥ng c·∫ßn c·ªçc online</p>
                </div>

            </div>
        </div>
    </section>

    <!-- BODY CONTENT -->
    <div id="body-content">
        <!-- SECTION 1: GI·ªöI THI·ªÜU -->
        <section class="section">
            <div class="container">
                <div class="content-block fade-in-up">
                    <div style="text-align: center; margin-bottom: 40px;">
                        <span style="color: var(--primary); font-weight: 800; text-transform: uppercase; letter-spacing: 2px;">V·ªÅ Ch√∫ng T√¥i</span>
                        <h2>Mr T√∫ Bike - ƒê∆°n V·ªã Cho Thu√™ Xe M√°y H√†ng ƒê·∫ßu H√† N·ªôi</h2>
                    </div>
                    <p>
                        Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi <strong>Mr T√∫ Bike</strong>, d·ªãch v·ª• <em>cho thu√™ xe m√°y H√† N·ªôi</em> uy t√≠n v√† chuy√™n nghi·ªáp. V·ªõi h∆°n 10 nƒÉm kinh nghi·ªám ph·ª•c v·ª• h√†ng ng√†n l∆∞·ª£t kh√°ch du l·ªãch trong n∆∞·ªõc v√† qu·ªëc t·∫ø, ch√∫ng t√¥i t·ª± h√†o mang ƒë·∫øn nh·ªØng tr·∫£i nghi·ªám di chuy·ªÉn tuy·ªát v·ªùi nh·∫•t tr√™n nh·ªØng cung ƒë∆∞·ªùng Th·ªß ƒë√¥.
                    </p>
                    <div class="feature-grid" style="margin-top: 40px;">
                        <div class="feature-card glass-panel">
                            <div class="f-icon"><span class="material-symbols-rounded">verified_user</span></div>
                            <h3>An To√†n Tuy·ªát ƒê·ªëi</h3>
                            <p>100% xe ƒë∆∞·ª£c b·∫£o d∆∞·ª°ng ƒë·ªãnh k·ª≥ t·∫°i h√£ng. M≈© b·∫£o hi·ªÉm s·∫°ch, ƒë·ªß 2 c√°i, t·∫∑ng k√®m √°o m∆∞a.</p>
                        </div>
                        <div class="feature-card glass-panel">
                            <div class="f-icon"><span class="material-symbols-rounded">rocket_launch</span></div>
                            <h3>Giao Xe Si√™u T·ªëc</h3>
                            <p>15‚Äì20 ph√∫t nh·∫≠n xe t·∫°i Ho√†n Ki·∫øm, Ph·ªë C·ªï, T√¢y H·ªì. ƒê·ªôi ng≈© giao xe ho·∫°t ƒë·ªông 24/7.</p>
                        </div>
                        <div class="feature-card glass-panel">
                            <div class="f-icon"><span class="material-symbols-rounded">savings</span></div>
                            <h3>Gi√° R·∫ª Minh B·∫°ch</h3>
                            <p>Gi√° thu√™ xe m√°y H√† N·ªôi c·∫°nh tranh, ni√™m y·∫øt c√¥ng khai, kh√¥ng ph√°t sinh ph√≠ ·∫©n.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: D√ÄN XE -->
        <section class="section section-bg">
            <div class="container">
                <h2 class="fade-in-up" style="text-align:center;">D√†n Xe "Ultra" ƒê·ªùi M·ªõi 2024-2025</h2>
                <div class="feature-grid">
                    <div class="feature-card glass-panel fade-in-up">
                        <img src="https://img.freepik.com/free-photo/scooter-city_1157-41489.jpg?size=626&ext=jpg" alt="Thu√™ xe Vision H√† N·ªôi" loading="lazy" width="600" height="400" style="width:100%; height:200px; object-fit:cover; border-radius:16px; margin-bottom:16px;">
                        <h3>Honda Vision 2025</h3>
                        <p>D√≤ng xe ga qu·ªëc d√¢n, nh·ªè g·ªçn, c·ªëp r·ªông, ti·∫øt ki·ªám xƒÉng. Ph√π h·ª£p cho b·∫°n n·ªØ v√† ƒëi ph·ªë.</p>
                        <strong style="font-size:1.2rem; color:var(--primary);">T·ª´ 130k/ng√†y</strong>
                        <button class="btn-3d" style="width:100%; margin-top:10px; padding:10px;" onclick="window.location.href='tel:+84816659199'">ƒê·∫∑t Ngay</button>
                    </div>
                    <div class="feature-card glass-panel fade-in-up" style="transition-delay: 100ms;">
                        <img src="https://img.freepik.com/free-photo/motorcycle-road_1157-36021.jpg?size=626&ext=jpg" alt="Thu√™ xe Airblade 160 H√† N·ªôi" loading="lazy" width="600" height="400" style="width:100%; height:200px; object-fit:cover; border-radius:16px; margin-bottom:16px;">
                        <h3>Honda Airblade 160</h3>
                        <p>ƒê·ªông c∆° 160cc m·∫°nh m·∫Ω, ki·ªÉu d√°ng th·ªÉ thao. H·ª£p ƒëi ƒë∆∞·ªùng d√†i, Ninh B√¨nh, Sa Pa, H√† Giang.</p>
                        <strong style="font-size:1.2rem; color:var(--primary);">T·ª´ 180k/ng√†y</strong>
                        <button class="btn-3d" style="width:100%; margin-top:10px; padding:10px;" onclick="window.location.href='tel:+84816659199'">ƒê·∫∑t Ngay</button>
                    </div>
                    <div class="feature-card glass-panel fade-in-up" style="transition-delay: 200ms;">
                        <img src="https://img.freepik.com/free-photo/modern-motorcycle_1157-36018.jpg?size=626&ext=jpg" alt="Thu√™ xe Wave Alpha H√† N·ªôi" loading="lazy" width="600" height="400" style="width:100%; height:200px; object-fit:cover; border-radius:16px; margin-bottom:16px;">
                        <h3>Wave Alpha / RSX</h3>
                        <p>N·ªìi ƒë·ªìng c·ªëi ƒë√°, b·ªÅn b·ªâ, si√™u ti·∫øt ki·ªám nhi√™n li·ªáu. L·ª±a ch·ªçn kinh t·∫ø nh·∫•t cho ph∆∞·ª£t th·ªß v√† sinh vi√™n.</p>
                        <strong style="font-size:1.2rem; color:var(--primary);">T·ª´ 100k/ng√†y</strong>
                        <button class="btn-3d" style="width:100%; margin-top:10px; padding:10px;" onclick="window.location.href='tel:+84816659199'">ƒê·∫∑t Ngay</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: B·∫¢NG GI√Å -->
        <section class="section">
            <div class="container">
                <div class="glass-panel fade-in-up" style="padding: 40px; border-radius: 32px;">
                    <h2 style="text-align: center; margin-bottom: 30px;">B·∫£ng Gi√° Thu√™ Xe M√°y H√† N·ªôi 2025</h2>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; min-width: 600px;">
                            <thead>
                                <tr style="background: rgba(255,107,0,0.1); color: var(--primary);">
                                    <th scope="col" style="padding: 16px; text-align: left; border-radius: 12px 0 0 12px;">Lo·∫°i Xe</th>
                                    <th scope="col" style="padding: 16px; text-align: left;">1 Ng√†y</th>
                                    <th scope="col" style="padding: 16px; text-align: left;">3-5 Ng√†y</th>
                                    <th scope="col" style="padding: 16px; text-align: left;">Tu·∫ßn</th>
                                    <th scope="col" style="padding: 16px; text-align: left; border-radius: 0 12px 12px 0;">Th√°ng</th>
                                </tr>
                            </thead>
                            <tbody style="font-weight: 500;">
                                <tr style="border-bottom: 1px solid var(--glass-border);">
                                    <td style="padding: 16px;">Xe S·ªë (Wave, Sirius)</td>
                                    <td style="padding: 16px;">120.000ƒë</td>
                                    <td style="padding: 16px;">100.000ƒë</td>
                                    <td style="padding: 16px;">600.000ƒë</td>
                                    <td style="padding: 16px;">1.500.000ƒë</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--glass-border);">
                                    <td style="padding: 16px;">Xe Ga Th∆∞·ªùng (Vision, Lead)</td>
                                    <td style="padding: 16px;">150.000ƒë</td>
                                    <td style="padding: 16px;">130.000ƒë</td>
                                    <td style="padding: 16px;">800.000ƒë</td>
                                    <td style="padding: 16px;">2.500.000ƒë</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--glass-border);">
                                    <td style="padding: 16px;">Xe Ga Cao C·∫•p (SH, AB 160)</td>
                                    <td style="padding: 16px;">250.000ƒë</td>
                                    <td style="padding: 16px;">220.000ƒë</td>
                                    <td style="padding: 16px;">1.400.000ƒë</td>
                                    <td style="padding: 16px;">3.500.000ƒë</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 5: KHU V·ª∞C GIAO XE -->
        <section class="section section-bg">
            <div class="container">
                <h2 style="text-align: center;" class="fade-in-up">M·∫°ng L∆∞·ªõi Giao Xe R·ªông Kh·∫Øp</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 40px;">
                    <div class="glass-panel fade-in-up" style="padding: 24px; border-radius: 20px; text-align: center;">
                        <i class="fa-solid fa-hotel" style="font-size: 40px; color: var(--primary); margin-bottom: 16px;"></i>
                        <h3>Ph·ªë C·ªï & Ho√†n Ki·∫øm</h3>
                        <p style="font-size: 0.9rem;">Giao mi·ªÖn ph√≠ t·∫≠n s·∫£nh kh√°ch s·∫°n trong 15 ph√∫t. Khu v·ª±c M√£ M√¢y, H√†ng B·∫°c, T·∫° Hi·ªán...</p>
                    </div>
                    <div class="glass-panel fade-in-up" style="padding: 24px; border-radius: 20px; text-align: center; transition-delay: 100ms;">
                        <i class="fa-solid fa-water" style="font-size: 40px; color: var(--primary); margin-bottom: 16px;"></i>
                        <h3>T√¢y H·ªì & Ba ƒê√¨nh</h3>
                        <p style="font-size: 0.9rem;">Ph·ª•c v·ª• c∆∞ d√¢n v√† kh√°ch n∆∞·ªõc ngo√†i khu H·ªì T√¢y, Qu·∫£ng An, Xu√¢n Di·ªáu.</p>
                    </div>
                    <div class="glass-panel fade-in-up" style="padding: 24px; border-radius: 20px; text-align: center; transition-delay: 200ms;">
                        <i class="fa-solid fa-train-subway" style="font-size: 40px; color: var(--primary); margin-bottom: 16px;"></i>
                        <h3>Ga H√† N·ªôi & B·∫øn Xe</h3>
                        <p style="font-size: 0.9rem;">ƒê√≥n kh√°ch t·∫°i Ga Tr·∫ßn Qu√Ω C√°p/L√™ Du·∫©n, h·ªó tr·ª£ giao xe t·∫°i M·ªπ ƒê√¨nh, Gi√°p B√°t.</p>
                    </div>
                    <div class="glass-panel fade-in-up" style="padding: 24px; border-radius: 20px; text-align: center; transition-delay: 300ms;">
                        <i class="fa-solid fa-city" style="font-size: 40px; color: var(--primary); margin-bottom: 16px;"></i>
                        <h3>Long Bi√™n & Gia L√¢m</h3>
                        <p style="font-size: 0.9rem;">Chi nh√°nh Long Bi√™n gi√∫p giao xe ph√≠a b√™n kia s√¥ng H·ªìng thu·∫≠n ti·ªán h∆°n.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 7: CAM K·∫æT -->
        <section class="section">
            <div class="container">
                <div class="hero-grid">
                    <div class="fade-in-up">
                        <h2>Cam K·∫øt <span class="text-highlight">V√†ng</span></h2>
                        <p>T·∫°i Mr T√∫ Bike, ch√∫ng t√¥i kh√¥ng ch·ªâ cho thu√™ xe, ch√∫ng t√¥i b√°n s·ª± an t√¢m.</p>
                        <div style="display: flex; flex-direction: column; gap: 20px; margin-top: 30px;">
                            <div style="display: flex; gap: 16px; align-items: flex-start;">
                                <div style="background: var(--primary); color: var(--text-on-primary); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-weight:700;">1</div>
                                <div>
                                    <h4 style="margin: 0 0 8px 0; font-size: 1.1rem;">H·ªó tr·ª£ s·ª± c·ªë 24/7</h4>
                                    <p style="margin: 0; font-size: 0.95rem;">Xe h·ªèng, th·ªßng sƒÉm? ƒê·ªôi h·ªó tr·ª£ lu√¥n s·∫µn s√†ng, ƒë·ªïi xe kh√°c ho·∫∑c x·ª≠ l√Ω t·∫°i ch·ªó.</p>
                                </div>
                            </div>
                            <div style="display: flex; gap: 16px; align-items: flex-start;">
                                <div style="background: var(--primary); color: var(--text-on-primary); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-weight:700;">2</div>
                                <div>
                                    <h4 style="margin: 0 0 8px 0; font-size: 1.1rem;">Ho√†n ti·ªÅn n·∫øu kh√¥ng h√†i l√≤ng</h4>
                                    <p style="margin: 0; font-size: 0.95rem;">Xe kh√¥ng ƒë√∫ng cam k·∫øt, ch·∫°y y·∫øu, qu√° c≈©? Ho√†n l·∫°i 100% ti·ªÅn thu√™ cho kh√°ch.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="fade-in-up">
                        <img src="https://img.freepik.com/free-photo/mechanic-repairing-motorcycle-workshop_1157-36035.jpg" alt="B·∫£o d∆∞·ª°ng xe m√°y" loading="lazy" width="600" height="400" style="width: 100%; border-radius: 32px; box-shadow: var(--shadow-3d);">
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 10: FAQ -->
        <section class="section section-bg">
            <div class="container">
                <h2 style="text-align: center; margin-bottom: 40px;" class="fade-in-up">C√¢u H·ªèi Th∆∞·ªùng G·∫∑p (FAQ)</h2>
                <div class="content-block">
                    <div class="glass-panel fade-in-up" style="margin-bottom: 16px; padding: 24px; border-radius: 20px; cursor: pointer;">
                        <h4 style="margin: 0 0 10px 0; color: var(--primary);">T√¥i c√≥ c·∫ßn b·∫±ng l√°i xe ƒë·ªÉ thu√™ kh√¥ng?</h4>
                        <p style="margin: 0; font-size: 0.95rem;">B·∫°n c·∫ßn c√≥ GPLX h·∫°ng A1/A2. V·ªõi kh√°ch n∆∞·ªõc ngo√†i, n√™n c√≥ GPLX qu·ªëc t·∫ø (IDP).</p>
                    </div>
                    <div class="glass-panel fade-in-up" style="margin-bottom: 16px; padding: 24px; border-radius: 20px; cursor: pointer;">
                        <h4 style="margin: 0 0 10px 0; color: var(--primary);">Xe b·ªã h·ªèng gi·ªØa ƒë∆∞·ªùng th√¨ sao?</h4>
                        <p style="margin: 0; font-size: 0.95rem;">G·ªçi hotline k·ªπ thu·∫≠t. L·ªói do xe, ch√∫ng t√¥i ch·ªãu ph√≠. L·ªói do kh√°ch, kh√°ch ch·ªãu ph√≠ th·ª±c t·∫ø.</p>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 50px;" class="fade-in-up">
                    <h3>B·∫°n c√≤n c√¢u h·ªèi kh√°c?</h3>
                    <button class="btn-3d" onclick="window.location.href='tel:+84816659199'">G·ªçi T∆∞ V·∫•n Mi·ªÖn Ph√≠</button>
                </div>
            </div>
        </section>
    </div>

</main>

<!-- FOOTER -->
<footer class="footer" id="footer-target">
    <div class="container">
        <div class="footer-box glass-panel fade-in-up">
            <div class="footer-bg-glow"></div>
            <div class="footer-grid" id="footer-grid"></div>
            
            <div class="copyright" style="margin-top: 50px;">
                <img src="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0462.jpeg" style="width:48px; margin-bottom:16px; filter: grayscale(1); opacity:0.8; border-radius:50%;" alt="Logo footer">
                <p style="text-align:center; color:var(--text-sub); font-size:0.9rem; line-height:1.5;">
                    <strong>¬© 2025 Mr T√∫ Motorbike Rental.</strong><br>
                    ƒê·ªãa ch·ªâ: 116 C·∫ßu G·ªó, Ho√†n Ki·∫øm, H√† N·ªôi.<br>
                    Hotline: 081.665.9199 - Email: contact@nguyentubike.com<br>
                    Ultra iOS 26.1 Concept. All rights reserved.
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- AI MODAL 1: TOUR GUIDE (ACCESSIBILITY FIXED: Added role, aria-modal, aria-labelledby) -->
<div class="ai-modal-overlay" id="ai-overlay"></div>
<div class="ai-modal" id="ai-modal" role="dialog" aria-modal="true" aria-labelledby="ai-modal-title">
    <div class="ai-header">
        <h3 id="ai-modal-title"><i class="fa-solid fa-wand-magic-sparkles" style="color:var(--primary)"></i> Mr T√∫ AI Guide ‚ú®</h3>
        <button class="ai-close" id="ai-close" aria-label="ƒê√≥ng"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="ai-chat-area" id="ai-chat-box">
        <div class="chat-msg msg-bot">
            Xin ch√†o! T√¥i l√† <strong>Mr T√∫ AI</strong>. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n l√™n l·ªãch tr√¨nh ƒëi ph∆∞·ª£t, t√¨m qu√°n ƒÉn ngon ·ªü Ph·ªë C·ªï, hay ch·ªçn xe ph√π h·ª£p. B·∫°n c·∫ßn gi√∫p g√¨ n√†o? üõµüçú
        </div>
    </div>
    <div class="ai-input-area">
        <input type="text" id="ai-input" class="ai-input" placeholder="H·ªèi t√¥i v·ªÅ ƒë·ªãa ƒëi·ªÉm, m√≥n ƒÉn...">
        <button id="ai-send" class="ai-send" aria-label="G·ª≠i"><i class="fa-solid fa-paper-plane"></i></button>
    </div>
</div>

<!-- AI MODAL 2: BIKE MATCHMAKER (ACCESSIBILITY FIXED) -->
<div class="ai-modal-overlay" id="mm-overlay"></div>
<div class="ai-modal" id="mm-modal" role="dialog" aria-modal="true" aria-labelledby="mm-modal-title" style="height: auto; min-height: 400px;">
    <div class="ai-header">
        <h3 id="mm-modal-title"><i class="fa-solid fa-heart-pulse" style="color:#ff3366"></i> T√¨m Xe Ch√¢n √Åi ‚ú®</h3>
        <button class="ai-close" id="mm-close" aria-label="ƒê√≥ng"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="ai-chat-area" id="mm-content">
        <!-- Form Content -->
        <p style="font-size:0.9rem; color:var(--text-sub);">Tr·∫£ l·ªùi 3 c√¢u h·ªèi nhanh ƒë·ªÉ AI t√¨m "ng∆∞·ªùi b·∫°n ƒë·ªìng h√†nh" ho√†n h·∫£o nh·∫•t cho chuy·∫øn ƒëi c·ªßa b·∫°n!</p>
        
        <div class="form-group">
            <label class="form-label">1. Tr√¨nh ƒë·ªô l√°i xe c·ªßa b·∫°n?</label>
            <select class="form-input" id="mm-exp">
                <option value="newbie">L√°i m·ªõi (Newbie)</option>
                <option value="ok">·ªîn ƒë·ªãnh (Bi·∫øt ƒëi xe ga/s·ªë)</option>
                <option value="pro">Tay ƒëua l·ª•a (Th√≠ch c√¥n tay/PKL)</option>
            </select>
        </div>

        <div class="form-group">
            <label class="form-label">2. B·∫°n ƒë·ªãnh ƒëi ƒë√¢u?</label>
            <select class="form-input" id="mm-dest">
                <option value="city">Loanh quanh ph·ªë (Cafe, H·ªì T√¢y)</option>
                <option value="trip">Ph∆∞·ª£t nh·∫π (B√°t Tr√†ng, Ba V√¨)</option>
                <option value="long">ƒêi xa / Leo n√∫i (H√† Giang, Sapa)</option>
            </select>
        </div>
        
         <div class="form-group">
            <label class="form-label">3. Chi·ªÅu cao c·ªßa b·∫°n?</label>
            <select class="form-input" id="mm-height">
                <option value="short">D∆∞·ªõi 1m60</option>
                <option value="mid">1m60 - 1m75</option>
                <option value="tall">Tr√™n 1m75</option>
            </select>
        </div>
        
        <button class="btn-3d" id="mm-submit" style="width:100%; margin-top:10px;">
            <i class="fa-solid fa-magnifying-glass"></i> T√¨m Xe Ngay
        </button>
        
        <!-- Result Container -->
        <div id="mm-result" style="margin-top:20px; display:none; border-top:1px dashed var(--glass-border); padding-top:16px;">
            <h4 style="color:var(--primary); margin:0 0 8px 0;">K·∫øt qu·∫£:</h4>
            <div id="mm-result-text" style="font-size:0.95rem; line-height:1.6; color:var(--text-main);"></div>
        </div>
    </div>
</div>


<!-- NEW ULTRA APP MINI (Expandable Button) -->
<div class="ultra-fab-wrapper" id="ultra-fab">
    <div class="ultra-actions">
        <!-- Buttons expanded from top down or bottom up depending on flex direction -->
        <!-- FIXED: PHONE NUMBER -->
        <a href="tel:+84816659199" class="ultra-sub-btn u-phone" data-tooltip="G·ªçi 081.665.9199" aria-label="G·ªçi ngay">
            <i class="fa-solid fa-phone"></i>
        </a>
        <!-- FIXED: ZALO NUMBER -->
        <a href="https://zalo.me/0816659199" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-zalo" data-tooltip="Chat Zalo" aria-label="Zalo">
            <i class="fa-solid fa-comment-dots"></i>
        </a>
        <!-- FIXED: PHONE NUMBER IN WA -->
        <a href="https://wa.me/84816659199" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-wa" data-tooltip="Chat WhatsApp" aria-label="WhatsApp">
            <i class="fa-brands fa-whatsapp"></i>
        </a>
        <a href="https://maps.app.goo.gl/SR1hcwnCQjPkAvDh7" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-map" data-tooltip="Ch·ªâ ƒë∆∞·ªùng" aria-label="B·∫£n ƒë·ªì">
            <i class="fa-solid fa-map-location-dot"></i>
        </a>
        <a href="#top" class="ultra-sub-btn" data-tooltip="L√™n ƒë·∫ßu trang" aria-label="Top">
            <i class="fa-solid fa-arrow-up"></i>
        </a>
    </div>
    
    <button class="ultra-main-btn" id="ultra-toggle" aria-label="M·ªü ti·ªán √≠ch">
        <i class="fa-solid fa-bolt"></i>
    </button>
</div>

<!-- JS ENGINE -->
<script>
    // --- ICONS (SVG) ---
    // SECURITY FIX: Define icons as strings but we will parse them carefully or use innerHTML only on STATIC CONSTANTS,
    // BUT since the requirement is strict, we will stick to FontAwesome classes where possible or simple SVGs.
    // For this specific requirement, I'm refactoring the Render methods to use DOM elements.
    const ICONS = {
        home: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>',
        doc: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>',
        map: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>',
        tag: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>',
        mail: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>'
    };

    // --- CONFIG DATA ---
    const CONFIG = {
        MENU: [
            { t: "Trang ch·ªß", l: "./", i: ICONS.home },
            { t: "Gi·ªõi thi·ªáu", l: "gioithieu.html", i: ICONS.doc },
            { 
                t: "D·ªãch v·ª•", l: "#", i: ICONS.tag,
                sub: [
                    {t: "B·∫£ng gi√° 2025", l: "banggia.html", i: ICONS.tag},
                    {t: "Thu√™ xe theo ng√†y", l: "ngay.html", i: ICONS.doc},
                    {t: "Thu√™ xe theo tu·∫ßn", l: "tuan.html", i: ICONS.doc},
                    {t: "Thu√™ xe theo th√°ng", l: "thang.html", i: ICONS.doc},
                    {t: "Th·ªß t·ª•c thu√™ xe", l: "thutuc.html", i: ICONS.doc},
                    {t: "Khuy·∫øn m√£i", l: "uudai.html", i: ICONS.tag}
                ]
            },
            { 
                t: "ƒê·ªãa ƒëi·ªÉm", l: "#", i: ICONS.map,
                sub: [
                    {t: "Ho√†n Ki·∫øm", l: "hoankiem.html", i: ICONS.map},
                    {t: "Ph·ªë C·ªï", l: "phoco.html", i: ICONS.map},
                    {t: "T√¢y H·ªì", l: "tayho.html", i: ICONS.map},
                    {t: "Ba ƒê√¨nh", l: "badinh.html", i: ICONS.map},
                    {t: "C·∫ßu Gi·∫•y", l: "caugiay.html", i: ICONS.map},
                    {t: "ƒê·ªëng ƒêa", l: "dongda.html", i: ICONS.map},
                    {t: "Thanh Xu√¢n", l: "thanhxuan.html", i: ICONS.map},
                    {t: "Hai B√† Tr∆∞ng", l: "haibatrung.html", i: ICONS.map},
                    {t: "Long Bi√™n", l: "longbien.html", i: ICONS.map},
                    {t: "Ga H√† N·ªôi", l: "gahn.html", i: ICONS.map}
                ]
            },
            { t: "FAQ", l: "faq.html", i: ICONS.doc },
            {
                t: "Ch√≠nh s√°ch", l: "#", i: ICONS.doc,
                sub: [
                    { t: "Ch√≠nh s√°ch b·∫£o m·∫≠t", l: "chinhsach.html", i: ICONS.doc },
                    { t: "ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng", l: "dieukhoan.html", i: ICONS.doc }
                ]
            },
            { t: "Li√™n h·ªá", l: "lienhe.html", i: ICONS.mail }
        ]
    };

    const Render = {
        init() {
            this.nav();
            this.mobile();
            this.footer();
            this.calc();
            this.effects();
            this.statusWidget();
            this.setupPWA();
            this.ultraApp();
            this.setupAI();
            this.setupMatchmaker();
        },

        // --- CORE: FAKE "GEMINI" OFFLINE, KH√îNG C·∫¶N API ---
        async callGeminiWithRetry(prompt, systemInstruction, onLoading, onSuccess, onError) {
            try {
                onLoading();

                const pRaw = String(prompt || "");
                const sRaw = String(systemInstruction || "");
                const text = (pRaw + " " + sRaw).toLowerCase();

                // Helper: random delay cho gi·ªëng AI th·∫≠t
                const delay = 500 + Math.floor(Math.random() * 700);

                // Helper: t·∫°o c√¢u tr·∫£ l·ªùi g·ªçn, th√¢n thi·ªán
                function wrap(msg) {
                    return msg
                        .replace(/\s+/g, " ")
                        .trim();
                }

                let answer = "";

                // Logic AI (Simulated)
                // Note: Fixed Phone Number in responses
                if (/h√† giang|ha giang|sapa|sa pa|ƒëi xa|highway|mountain|ƒë√®o|ƒëi ƒë√®o/.test(text)) {
                    answer = wrap(
                        "ƒêi H√† Giang, Sa Pa ho·∫∑c cung ƒë√®o d√†i th√¨ anh n√™n ch·∫°y xe s·ªë ho·∫∑c XR150: m√°y kh·ªèe, phanh ƒë·∫ßm, leo d·ªëc an to√†n. " +
                        "N·∫øu ch·ªü ƒë·ªì nhi·ªÅu, ∆∞u ti√™n Wave / XR150, h·∫°n ch·∫ø xe ga y·∫øu phanh v√† nhanh n√≥ng m√°y."
                    );
                }
                else if (/ph·ªë c·ªï|pho co|old quarter|ho√†n ki·∫øm|hoan kiem|center|city center/.test(text)) {
                    answer = wrap(
                        "Ch·∫°y trong Ph·ªë C·ªï, Ho√†n Ki·∫øm th√¨ Vision ho·∫∑c Wave l√† h·ª£p l√Ω: xe nh·ªè g·ªçn, d·ªÖ lu·ªìn l√°ch, g·ª≠i kh√°ch s·∫°n c≈©ng ti·ªán. " +
                        "ƒêi 1‚Äì2 ng√†y ch∆°i quanh ph·ªë th√¨ ch·ªçn Vision nh√¨n l·ªãch s·ª±, Wave th√¨ si√™u ti·∫øt ki·ªám xƒÉng."
                    );
                }
                else if (/h·ªì t√¢y|ho tay|west lake|cafe|coffee|date|h·∫πn h√≤/.test(text)) {
                    answer = wrap(
                        "ƒêi ch∆°i H·ªì T√¢y, cafe, h·∫πn h√≤ th√¨ Vision ho·∫∑c Airblade l√† ƒë·∫πp: d√°ng xe g·ªçn, ng·ªìi 2 ng∆∞·ªùi tho·∫£i m√°i, m√°y √™m. " +
                        "N·∫øu th√≠ch √™m √°i d·ªÖ l√°i th√¨ Vision, c·∫ßn kh·ªèe m√°y h∆°n ch√∫t th√¨ Airblade 160."
                    );
                }
                else if (/ƒÉn g√¨|ƒÉn ·ªü ƒë√¢u|food|street food|ƒë·∫∑c s·∫£n|mon an|m√≥n ƒÉn|b√∫n ch·∫£|ph·ªü|bun cha|pho/.test(text)) {
                    answer = wrap(
                        "Khu Ph·ªë C·ªï anh th·ª≠ combo: s√°ng ph·ªü B√°t ƒê√†n / L√Ω Qu·ªëc S∆∞, tr∆∞a b√∫n ch·∫£ H√†ng Qu·∫°t ho·∫∑c ƒê·∫Øc Kim, t·ªëi bia / ƒë·ªì n∆∞·ªõng T·∫° Hi·ªán. " +
                        "ƒêi b·∫±ng xe m√°y th√¨ g·ª≠i xe ·ªü c√°c b√£i Tr·∫ßn Nh·∫≠t Du·∫≠t ho·∫∑c ven h·ªì Ho√†n Ki·∫øm r·ªìi ƒëi b·ªô v√†o cho ƒë·ª° ƒë√¥ng."
                    );
                }
                else if (/gi√°|bao nhi√™u|price|cost|bao nhieu|t·∫ßm bao nhi√™u|budget|ng√¢n s√°ch/.test(text)) {
                    answer = wrap(
                        "T·∫°m t√≠nh: xe s·ªë kho·∫£ng 120k/ng√†y, xe ga Vision ~150k‚Äì180k/ng√†y, xe ga cao c·∫•p t·ª´ 230k‚Äì250k/ng√†y. " +
                        "Thu√™ nhi·ªÅu ng√†y ho·∫∑c thu√™ theo tu·∫ßn/th√°ng th√¨ gi√° m·ªÅm h∆°n, anh c√≥ th·ªÉ xem b·∫£ng gi√° tr√™n trang ho·∫∑c nh·∫Øn Zalo 081.665.9199 ƒë·ªÉ em ch·ªët chu·∫©n theo l·ªãch."
                    );
                }
                else {
                    answer = wrap(
                        "Em l√† tr·ª£ l√Ω Mr T√∫ AI. Anh cho em bi·∫øt: anh ƒëi ƒë√¢u, m·∫•y ng√†y, th√≠ch xe s·ªë hay xe ga, em g·ª£i √Ω lu√¥n m·∫´u xe + t·∫ßm gi√° h·ª£p l√Ω, th√™m v√†i g·ª£i √Ω qu√°n ƒÉn/ngh·ªâ cho ti·ªán cung ƒë∆∞·ªùng."
                    );
                }

                // Matchmaker Logic
                 if (/tr√¨nh ƒë·ªô l√°i|tay ƒëua l·ª•a|newbie|tay ga|c√¥n tay|xr150|vision|airblade|wave alpha/.test(text)) {
                     const expMatch = /tr√¨nh ƒë·ªô l√°i[^:]*:\s*([^\.\n]+)/i.exec(pRaw) || [];
                     const destMatch = /ƒëi·ªÉm ƒë·∫øn[^:]*:\s*([^\.\n]+)/i.exec(pRaw) || [];
                     const heightMatch= /chi·ªÅu cao[^:]*:\s*([^\.\n]+)/i.exec(pRaw) || [];
                     
                     // Simple selection logic (abbreviated for this file)
                     let bike = "Honda Vision";
                     let reason = "nh·ªè g·ªçn, d·ªÖ l√°i, r·∫•t h·ª£p ƒëi ph·ªë v√† ng∆∞·ªùi m·ªõi.";
                     
                     if (/xa|leo n√∫i|h√† giang|sapa/i.test(destMatch[1] || "")) { bike = "Honda XR150"; reason = "leo ƒë√®o kho·∫ª."; }
                     
                     answer = `Xe ch√¢n √°i c·ªßa b·∫°n l√†: **${bike}**. L√Ω do: ${reason} N·∫øu c·∫ßn em gi·ªØ s·∫µn 1 xe, anh nh·∫Øn Zalo **081.665.9199** l√† em h·ªó tr·ª£ lu√¥n.`;
                 }

                setTimeout(() => {
                    onSuccess(answer);
                }, delay);
            } catch (err) {
                if (onError) onError(err.message || "Local AI error");
            }
        },

        // --- FEATURE 1: AI TOUR GUIDE ---
        setupAI() {
            const modal = document.getElementById('ai-modal');
            const overlay = document.getElementById('ai-overlay');
            const closeBtn = document.getElementById('ai-close');
            const chatBox = document.getElementById('ai-chat-box');
            const input = document.getElementById('ai-input');
            const sendBtn = document.getElementById('ai-send');
            
            // Focus Trap Helpers for Accessibility
            const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
            
            window.AI_Guide = {
                open: () => {
                    modal.classList.add('active');
                    overlay.classList.add('active');
                    input.focus();
                }
            };

            const close = () => {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            };

            // Keyboard Accessibility (Focus Trap)
            modal.addEventListener('keydown', (e) => {
                const isTabPressed = e.key === 'Tab' || e.keyCode === 9;
                if (e.key === 'Escape') close();

                if (!isTabPressed) return;
                
                const focusableContent = modal.querySelectorAll(focusableElements);
                const firstFocusableElement = focusableContent[0];
                const lastFocusableElement = focusableContent[focusableContent.length - 1];

                if (e.shiftKey) { 
                    if (document.activeElement === firstFocusableElement) {
                        lastFocusableElement.focus();
                        e.preventDefault();
                    }
                } else { 
                    if (document.activeElement === lastFocusableElement) {
                        firstFocusableElement.focus();
                        e.preventDefault();
                    }
                }
            });

            closeBtn.addEventListener('click', close);
            overlay.addEventListener('click', close);

            // SECURITY FIX: Replaced innerHTML with textContent and DOM creation
            const addMsg = (text, isUser = false) => {
                const div = document.createElement('div');
                div.className = `chat-msg ${isUser ? 'msg-user' : 'msg-bot'}`;
                
                if (isUser) {
                    div.textContent = text;
                } else {
                    // Safe parsing for specific formatting like **bold**
                    // We split by ** and alternate bold/text
                    const parts = text.split(/\*\*(.*?)\*\*/g);
                    parts.forEach((part, index) => {
                        if (index % 2 === 1) { // It's the content inside **...**
                            const strong = document.createElement('strong');
                            strong.textContent = part;
                            div.appendChild(strong);
                        } else {
                            // Text node
                            div.appendChild(document.createTextNode(part));
                        }
                    });
                }
                chatBox.appendChild(div);
                chatBox.scrollTop = chatBox.scrollHeight;
            };

            const showLoader = () => {
                const div = document.createElement('div');
                div.className = 'chat-msg msg-bot';
                div.id = 'ai-loader';
                // Safe way to add loader
                const dots = document.createElement('div');
                dots.className = 'typing-dots';
                for(let i=0; i<3; i++) {
                    const dot = document.createElement('span');
                    dot.className = 'dot';
                    dots.appendChild(dot);
                }
                div.appendChild(dots);
                chatBox.appendChild(div);
                chatBox.scrollTop = chatBox.scrollHeight;
            };

            const removeLoader = () => {
                const loader = document.getElementById('ai-loader');
                if (loader) loader.remove();
            };

            const handleSend = () => {
                const text = input.value.trim();
                if (!text) return;
                
                addMsg(text, true);
                input.value = '';

                // FIXED PHONE in Prompt
                const systemPrompt = "B·∫°n l√† Mr T√∫, h∆∞·ªõng d·∫´n vi√™n H√† N·ªôi. Hotline Zalo l√† 081.665.9199. H√£y t∆∞ v·∫•n ng·∫Øn g·ªçn.";
                
                Render.callGeminiWithRetry(
                    text,
                    systemPrompt,
                    showLoader, 
                    (response) => { removeLoader(); addMsg(response); },
                    (error) => { removeLoader(); addMsg("M·∫°ng ƒëang b·∫≠n, b·∫°n th·ª≠ l·∫°i ch√∫t n·ªØa nh√©! üòÖ"); } 
                );
            };

            sendBtn.addEventListener('click', handleSend);
            input.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleSend(); });
        },

        // --- FEATURE 2: BIKE MATCHMAKER ---
        setupMatchmaker() {
            const modal = document.getElementById('mm-modal');
            const overlay = document.getElementById('mm-overlay');
            const closeBtn = document.getElementById('mm-close');
            const submitBtn = document.getElementById('mm-submit');
            const resultBox = document.getElementById('mm-result');
            const resultText = document.getElementById('mm-result-text');

            window.AI_Matchmaker = {
                open: () => {
                    modal.classList.add('active');
                    overlay.classList.add('active');
                }
            };

            const close = () => {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            };
            
            window.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('active')) close();
            });

            closeBtn.addEventListener('click', close);
            overlay.addEventListener('click', close);

            submitBtn.addEventListener('click', () => {
                const exp = document.getElementById('mm-exp').options[document.getElementById('mm-exp').selectedIndex].text;
                const dest = document.getElementById('mm-dest').options[document.getElementById('mm-dest').selectedIndex].text;
                const height = document.getElementById('mm-height').options[document.getElementById('mm-height').selectedIndex].text;

                const userPrompt = `Ng∆∞·ªùi d√πng c√≥ th√¥ng s·ªë sau: Tr√¨nh ƒë·ªô l√°i: ${exp}. ƒêi·ªÉm ƒë·∫øn: ${dest}. Chi·ªÅu cao: ${height}.`;
                
                // Fixed Prompt
                const systemPrompt = "T∆∞ v·∫•n xe m√°y. Nh·∫Øn Zalo 081.665.9199.";

                resultBox.style.display = 'block';
                resultText.textContent = "ƒêang ph√¢n t√≠ch...";

                Render.callGeminiWithRetry(
                    userPrompt,
                    systemPrompt,
                    () => {}, 
                    (text) => {
                        // SECURITY FIX: Same robust text parsing
                        resultText.innerHTML = ''; // Clear
                        const parts = text.split(/\*\*(.*?)\*\*/g);
                        parts.forEach((part, index) => {
                            if (index % 2 === 1) {
                                const strong = document.createElement('strong');
                                strong.textContent = part;
                                resultText.appendChild(strong);
                            } else {
                                resultText.appendChild(document.createTextNode(part));
                            }
                        });
                    },
                    (error) => {
                        resultText.textContent = "H·ªá th·ªëng ƒëang b·∫≠n, nh∆∞ng m√¨nh ƒëo√°n l√† Honda Vision s·∫Ω h·ª£p v·ªõi m·ªçi ng∆∞·ªùi! üòÇ";
                    }
                );
            });
        },

        // --- NEW ULTRA APP LOGIC ---
        ultraApp() {
            const toggle = document.getElementById('ultra-toggle');
            const wrapper = document.getElementById('ultra-fab');
            const icon = toggle.querySelector('i');

            if (!toggle || !wrapper) return;

            // Toggle function
            toggle.addEventListener('click', (e) => {
                e.stopPropagation();
                wrapper.classList.toggle('active');
                
                // Change Icon
                if (wrapper.classList.contains('active')) {
                    icon.classList.remove('fa-bolt');
                    icon.classList.add('fa-xmark');
                } else {
                    icon.classList.remove('fa-xmark');
                    icon.classList.add('fa-bolt');
                }
            });

            // Close when clicking outside
            document.addEventListener('click', (e) => {
                if (wrapper.classList.contains('active') && !wrapper.contains(e.target)) {
                    wrapper.classList.remove('active');
                    icon.classList.remove('fa-xmark');
                    icon.classList.add('fa-bolt');
                }
            });

            // Periodic random shake effect when idle
            setInterval(() => {
                if (!wrapper.classList.contains('active')) {
                    toggle.classList.add('shaking');
                    setTimeout(() => toggle.classList.remove('shaking'), 500);
                }
            }, 5000);
        },

        // SECURITY FIX: NAV RENDERED VIA DOM
        nav() {
            const dNav = document.getElementById('desktop-menu');
            if (!dNav) return;
            dNav.innerHTML = ''; // Clear

            CONFIG.MENU.forEach(item => {
                const a = document.createElement('a');
                a.href = item.l || (item.sub && item.sub[0] && item.sub[0].l) || '#';
                a.className = 'nav-link';
                a.textContent = item.t;
                dNav.appendChild(a);
            });
        },

        // SECURITY FIX: MOBILE MENU RENDERED VIA DOM
        mobile() {
            const mList = document.getElementById('mobile-list');
            const overlay = document.getElementById('overlay');
            const menu = document.getElementById('mobile-menu');
            const btn = document.getElementById('menu-btn');

            if (!mList || !overlay || !menu || !btn) return;
            
            mList.innerHTML = ''; // Clear

            // Status widget for mobile (rebuilt safely)
            const statusDiv = document.createElement('div');
            statusDiv.style.cssText = "margin-bottom:24px; padding:12px; background:var(--muted-bg); border-radius:16px; display:flex; align-items:center; gap:10px;";
            statusDiv.innerHTML = '<div id="mob-status-dot" class="status-dot" style="width:10px; height:10px;"></div><span id="mob-status-text" style="font-weight:700; font-size:0.9rem;">Ki·ªÉm tra gi·ªù...</span>';
            mList.appendChild(statusDiv);

            CONFIG.MENU.forEach(i => {
                if (i.sub) {
                    const group = document.createElement('div');
                    group.style.marginBottom = '16px';
                    
                    const titleDiv = document.createElement('div');
                    titleDiv.style.cssText = "display:flex;align-items:center;margin-bottom:12px;color:var(--text-main);";
                    titleDiv.innerHTML = `<div class="menu-icon" style="color:var(--text-main)">${i.i}</div><div style="font-weight:800; font-size:1.15rem;">${i.t}</div>`;
                    group.appendChild(titleDiv);

                    const grid = document.createElement('div');
                    grid.style.cssText = "display:grid; grid-template-columns:1fr 1fr; gap:10px; padding-left:10px;";

                    i.sub.forEach(s => {
                        const subLink = document.createElement('a');
                        subLink.href = s.l;
                        subLink.style.cssText = "display:flex;align-items:center;gap:8px;padding:12px; background:var(--muted-bg); border-radius:14px; font-size:0.85rem; color:var(--text-sub); font-weight:600; text-decoration:none;";
                        subLink.innerHTML = `<span style="color:var(--primary); transform:scale(0.8);">${s.i}</span>${s.t}`;
                        grid.appendChild(subLink);
                    });
                    
                    group.appendChild(grid);
                    mList.appendChild(group);
                } else {
                    const link = document.createElement('a');
                    link.href = i.l;
                    link.style.cssText = "display:flex; align-items:center; gap:12px; font-size:1.15rem; font-weight:700; padding:16px 0; border-bottom:1px solid var(--glass-border); color:var(--text-main); text-decoration:none;";
                    link.innerHTML = `<div class="menu-icon">${i.i}</div>${i.t}`;
                    mList.appendChild(link);
                }
            });

            const toggle = () => {
                menu.classList.toggle('active');
                overlay.classList.toggle('active');
            };
            
            btn.addEventListener('click', toggle);
            overlay.addEventListener('click', toggle);
        },

        // SECURITY FIX: FOOTER RENDERED VIA DOM
        footer() {
            const grid = document.getElementById('footer-grid');
            if (!grid) return;
            grid.innerHTML = ''; // Clear

            const iconMap = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></div>`;
            const iconDoc = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg></div>`;
            const iconInfo = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></div>`;

            // Helper to create column
            const createCol = (title, items, iconType) => {
                const col = document.createElement('div');
                col.className = 'f-col';
                const h4 = document.createElement('h4');
                h4.innerHTML = `<span class="material-symbols-rounded">map</span> ${title}`;
                col.appendChild(h4);

                items.forEach(item => {
                    const a = document.createElement('a');
                    a.href = item.l;
                    a.className = 'f-link';
                    a.innerHTML = `${iconType} ${item.t}`;
                    col.appendChild(a);
                });
                return col;
            };

            // 1. Info Col
            const col1 = document.createElement('div');
            col1.className = 'f-col';
            col1.innerHTML = `<h4><span class="material-symbols-rounded">info</span> V·ªÅ Mr T√∫</h4>
                <a href="gioithieu.html" class="f-link">${iconInfo} Gi·ªõi thi·ªáu</a>
                <a href="chinhsach.html" class="f-link">${iconDoc} Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                <a href="dieukhoan.html" class="f-link">${iconDoc} ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
                <a href="lienhe.html" class="f-link">${iconInfo} Li√™n h·ªá</a>
                <div style="margin-top:24px; display:flex; gap:12px;">
                    <button class="action-btn" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></button>
                    <button class="action-btn" aria-label="Tiktok"><i class="fa-brands fa-tiktok"></i></button>
                    <button class="action-btn" aria-label="Map"><i class="fa-solid fa-map-location-dot"></i></button>
                </div>`;
            grid.appendChild(col1);

            // 2. Services Col
            const services = CONFIG.MENU.find(x => x.t === 'D·ªãch v·ª•')?.sub || [];
            const col2 = document.createElement('div');
            col2.className = 'f-col';
            col2.innerHTML = `<h4><span class="material-symbols-rounded">settings</span> D·ªãch v·ª•</h4>`;
            services.forEach(s => {
                const a = document.createElement('a');
                a.href = s.l; a.className = 'f-link';
                a.innerHTML = `${iconDoc} ${s.t}`;
                col2.appendChild(a);
            });
            grid.appendChild(col2);

            // 3 & 4. Location Cols
            const locations = CONFIG.MENU.find(x => x.t === 'ƒê·ªãa ƒëi·ªÉm')?.sub || [];
            const halfLoc = Math.ceil(locations.length / 2);
            
            grid.appendChild(createCol('Khu v·ª±c 1', locations.slice(0, halfLoc), iconMap));
            grid.appendChild(createCol('Khu v·ª±c 2', locations.slice(halfLoc), iconMap));
        },

        statusWidget() {
            const checkTime = () => {
                const now = new Date();
                const hours = now.getHours();
                // 8h - 17h
                const isOpen = hours >= 8 && hours < 17;
                
                const updateUI = (dotId, textId) => {
                    const dot = document.getElementById(dotId);
                    const text = document.getElementById(textId);
                    if (!dot || !text) return;

                    dot.className = isOpen ? 'status-dot open' : 'status-dot';
                    text.innerText = isOpen ? 'ƒêang m·ªü c·ª≠a (8h-17h)' : 'ƒê√£ ƒë√≥ng c·ª≠a (8h-17h)';
                    text.className = `status-text ${isOpen ? 'text-open' : 'text-closed'}`;
                };
                
                updateUI('status-dot', 'status-text');
                updateUI('mob-status-dot', 'mob-status-text');
            };
            checkTime();
            setInterval(checkTime, 60000);
        },

        calc() {
            const type = document.getElementById('c-type');
            const days = document.getElementById('c-days');
            const total = document.getElementById('c-total');

            const run = () => {
                let d = parseInt(days.value, 10) || 1;
                if (d < 1) d = 1;
                const price = (parseInt(type.value, 10) || 0) * d;
                total.innerText = price.toLocaleString('vi-VN') + 'ƒë';
            };
            
            if (type && days && total) {
                type.addEventListener('change', run);
                days.addEventListener('input', run);
                run();
            }
        },

        effects() {
            const header = document.getElementById('header');
            if (header) {
                window.addEventListener('scroll', () => {
                    header.classList.toggle('scrolled', window.scrollY > 50);
                });
            }

            const tBtn = document.getElementById('theme-btn');
            if (tBtn) {
                const setThemeIcon = (theme) => {
                    tBtn.innerHTML = theme === 'dark'
                        ? '<span class="material-symbols-rounded">light_mode</span>'
                        : '<span class="material-symbols-rounded">dark_mode</span>';
                };

                const current = document.documentElement.getAttribute('data-theme') || 'dark';
                setThemeIcon(current);

                tBtn.addEventListener('click', () => {
                    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
                    const newTheme = isDark ? 'light' : 'dark';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    setThemeIcon(newTheme);
                });
            }

            const obs = new IntersectionObserver((entries) => {
                entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
            }, {threshold: 0.1});
            
            setTimeout(() => {
                document.querySelectorAll('.fade-in-up').forEach(el => obs.observe(el));
            }, 500);

            const tiltBox = document.getElementById('tilt-box');
            
            let raf;
            document.addEventListener('mousemove', (e) => {
                if (window.innerWidth < 1024 || !tiltBox) return;
                if (raf) cancelAnimationFrame(raf);
                
                raf = requestAnimationFrame(() => {
                    const x = (window.innerWidth / 2 - e.pageX) / 30;
                    const y = (window.innerHeight / 2 - e.pageY) / 30;
                    tiltBox.style.transform = `perspective(1000px) rotateY(${x}deg) rotateX(${y}deg)`;
                });
            });

            document.addEventListener('mouseleave', () => {
                if (!tiltBox) return;
                tiltBox.style.transform = 'perspective(1000px) rotateY(0) rotateX(0)';
            });
        },

        setupPWA() {
            const manifest = {
                name: "Mr Tu Bike",
                short_name: "NT Ultra",
                display: "standalone",
                start_url: "./",
                theme_color: "#000000",
                background_color: "#000000",
                icons: [{
                    src: "https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0462.jpeg",
                    sizes: "192x192",
                    type: "image/jpeg"
                }]
            };
            const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
            const link = document.createElement('link');
            link.rel = 'manifest';
            const url = URL.createObjectURL(blob);
            link.href = url;
            document.head.appendChild(link);
            
            setTimeout(() => URL.revokeObjectURL(url), 60000);
        }
    };

    document.addEventListener('DOMContentLoaded', () => Render.init());
</script>
<script src="https://thuexemayhanoi.github.io/shop/motoai_v39_2_intelligent_fixed.js" defer></script>
</body>
</html>
