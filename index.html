<!DOCTYPE html>
<html lang="vi" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<title>Thuê Xe Máy Hà Nội Uy Tín - Mr Tú Bike | Giá Rẻ & Giao Tận Nơi</title>
<meta name="description" content="Dịch vụ thuê xe máy Hà Nội uy tín, giao xe tận nơi miễn phí khu Hoàn Kiếm, Phố Cổ. Xe mới 2024–2025, giá chỉ từ 100k/ngày, không cần đặt cọc.">
<meta name="theme-color" content="#000000">

<!-- Canonical URL Updated -->
<link rel="canonical" href="https://thuexemayhanoi.github.io/shop/">

<!-- PWA iOS Config -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="NT Ultra">

<!-- Fonts & Icons -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    /* --- 1. DESIGN SYSTEM: WCAG 2.1 COMPLIANT --- */
    :root {
        /* BRAND PRIMARY */
        --primary: #FF6B00;
        --primary-dark: #cc5500;
        --text-on-primary: #000000; 
        --secondary: #FFB800;
        
        /* ACCENT COLORS */
        --accent-green: #006837;
        --accent-blue: #0056D2;
        --accent-purple: #7425C9;
        --accent-yellow: #995700;
        --accent-red: #C41C00;

        /* BACKGROUNDS */
        --bg-body: #F2F2F7;
        --surface: #FFFFFF;
        --glass-material: rgba(255, 255, 255, 0.9);
        --glass-border: rgba(0, 0, 0, 0.1);
        --muted-bg: rgba(0, 0, 0, 0.05);

        /* TEXT */
        --text-main: #111111;
        --text-sub: #555555;
        
        /* SHADOWS & UI */
        --shadow-3d: 0 10px 30px -10px rgba(0,0,0,0.15);
        --btn-shadow: 0 6px 0 var(--primary-dark), 0 15px 25px rgba(255, 107, 0, 0.2);
        --btn-active: 0 0 0 var(--primary-dark), inset 0 2px 5px rgba(0,0,0,0.1);
        
        --ease-apple: cubic-bezier(0.25, 1, 0.5, 1);
        --font-stack: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
    }

    /* DARK THEME OVERRIDES */
    [data-theme="dark"] {
        --bg-body: #050505;
        --surface: #1C1C1E;
        --glass-material: rgba(30, 30, 32, 0.85);
        --glass-border: rgba(255, 255, 255, 0.15);
        --muted-bg: rgba(255, 255, 255, 0.08);

        --accent-green: #34C759;
        --accent-blue: #409CFF;
        --accent-purple: #BF5AF2;
        --accent-yellow: #FFD60A;
        --accent-red: #FF453A;

        --text-main: #F5F5F7;
        --text-sub: #AEAEB2;

        --shadow-3d: 0 20px 50px -10px rgba(0,0,0,0.7);
        --btn-shadow: 0 6px 0 #b34700, 0 15px 30px rgba(255, 107, 0, 0.3);
        --text-on-primary: #000000; 
    }

    /* --- 2. RESET & BASE --- */
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
    
    html { 
        scroll-behavior: smooth; 
        font-size: 100%; 
        -webkit-font-smoothing: antialiased; 
        -moz-osx-font-smoothing: grayscale; 
        height: 100%;
    }
    
    body {
        margin: 0; padding: 0;
        font-family: var(--font-stack);
        background: var(--bg-body);
        color: var(--text-main);
        overflow-x: hidden;
        transition: background 0.4s var(--ease-apple), color 0.3s;
        padding-bottom: calc(40px + env(safe-area-inset-bottom));
        line-height: 1.5;
    }

    /* Font Inheritance Fix */
    input, button, select, textarea { font-family: inherit; }

    a { text-decoration: none; color: inherit; }
    ul { list-style: none; padding: 0; margin: 0; }
    
    p { line-height: 1.7; margin-bottom: 1.5rem; font-size: 1.05rem; color: var(--text-sub); font-weight: 500; }
    h2 { font-size: clamp(2rem, 5vw, 2.5rem); font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -0.5px; color: var(--text-main); }
    h3 { font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: var(--text-main); }
    strong { color: var(--primary); font-weight: 700; }

    /* --- 3. UI COMPONENTS --- */
    .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    
    .glass-panel {
        background: var(--glass-material);
        backdrop-filter: blur(25px) saturate(180%);
        -webkit-backdrop-filter: blur(25px) saturate(180%);
        border: 1px solid var(--glass-border);
        box-shadow: 0 8px 32px rgba(0,0,0,0.05);
    }

    /* BTN-3D */
    .btn-3d {
        position: relative;
        border: none;
        background: linear-gradient(145deg, var(--primary), #FF8800);
        color: var(--text-on-primary) !important; 
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        padding: 1rem 1.6rem;
        border-radius: 24px;
        cursor: pointer;
        transition: transform 0.1s, box-shadow 0.1s;
        box-shadow: var(--btn-shadow);
        display: inline-flex; align-items: center; justify-content: center; gap: 10px;
        border-top: 1px solid rgba(255,255,255,0.3);
        font-size: 1rem;
    }
    .btn-3d:active { transform: translateY(6px); box-shadow: var(--btn-active); }

    .fade-in-up { opacity: 0; transform: translateY(40px); transition: all 0.8s var(--ease-apple); }
    .fade-in-up.visible { opacity: 1; transform: translateY(0); }

    /* --- 4. HEADER --- */
    .header {
        position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
        padding: 12px 0; transition: 0.3s;
    }
    .header.scrolled { padding: 8px 0; }
    
    .nav-bar {
        display: flex; justify-content: space-between; align-items: center;
        padding: 8px 12px; border-radius: 100px;
        transition: 0.3s; box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }
    
    .header-left { display: flex; align-items: center; gap: 12px; }

    .logo { display: flex; align-items: center; gap: 10px; }
    .logo-img {
        width: 44px; height: 44px; border-radius: 50%;
        border: 2px solid var(--primary); padding: 2px;
        animation: spin 12s linear infinite;
        background: var(--surface);
    }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    .logo-title { font-size: 1.1rem; font-weight: 800; margin: 0; line-height: 1; display: block; color: var(--text-main); }
    .logo-text span { font-size: 0.75rem; font-weight: 600; color: var(--text-sub); letter-spacing: 1px; display: block; }

    .status-widget {
        display: flex; align-items: center; gap: 8px;
        padding: 6px 14px; border-radius: 20px;
        background: var(--muted-bg);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(10px);
    }
    .status-dot {
        width: 10px; height: 10px; border-radius: 50%;
        background: var(--accent-red);
        box-shadow: 0 0 8px var(--accent-red);
        transition: 0.3s;
    }
    .status-dot.open { background: var(--accent-green); box-shadow: 0 0 8px var(--accent-green); }
    .text-open { color: var(--accent-green) !important; }
    .text-closed { color: var(--accent-red) !important; }
    .status-text { font-size: 0.75rem; font-weight: 700; color: var(--text-main); white-space: nowrap; }

    .desktop-nav { display: flex; gap: 4px; }
    .nav-link {
        padding: 8px 16px; border-radius: 20px; font-size: 0.95rem; font-weight: 600;
        color: var(--text-sub); transition: 0.2s;
    }
    .nav-link:hover { color: var(--primary); background: var(--muted-bg); }
    
    .header-actions { display: flex; gap: 8px; }
    .action-btn {
        width: 40px; height: 40px; border-radius: 50%; border: none;
        background: var(--muted-bg); color: var(--text-main);
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; transition: 0.3s;
    }
    .action-btn:hover { background: var(--primary); color: var(--text-on-primary); transform: rotate(15deg); }

    /* --- 5. HERO SECTION --- */
    .hero {
        min-height: 100vh; padding-top: 120px; padding-bottom: 60px;
        display: flex; align-items: center; position: relative; overflow: hidden;
    }
    .hero-glow {
        position: absolute; width: 90vw; height: 90vw;
        background: radial-gradient(circle, rgba(255, 107, 0, 0.3) 0%, transparent 65%);
        top: -30%; right: -30%; filter: blur(100px); opacity: 0.6; z-index: -1;
        animation: float 10s ease-in-out infinite alternate;
    }
    @keyframes float { from {transform: translate(0,0);} to {transform: translate(-40px, 50px);} }

    .hero-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 60px; align-items: center; }

    .hero-badge {
        display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px;
        border-radius: 100px; background: rgba(255, 107, 0, 0.1); color: var(--primary);
        font-weight: 700; font-size: 0.85rem; border: 1px solid rgba(255, 107, 0, 0.3);
        margin-bottom: 24px; box-shadow: 0 4px 20px rgba(255,107,0,0.1);
    }
    .hero-title {
        font-size: clamp(2.8rem, 6vw, 4.8rem);
        line-height: 1.05; font-weight: 800;
        margin-bottom: 24px; letter-spacing: -1.5px;
        color: var(--text-main);
    }
    .text-highlight {
        background: linear-gradient(135deg, var(--primary) 20%, var(--secondary) 100%);
        -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }

    /* MINI APPS */
    .mini-apps { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; margin-top: 40px; }
    .app-item {
        display: flex; flex-direction: column; align-items: center; gap: 10px;
        cursor: pointer; transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .app-item:hover { transform: translateY(-12px) scale(1.05); }
    
    .app-icon {
        width: 68px; height: 68px; border-radius: 22px;
        background: var(--glass-material); border: 1px solid var(--glass-border);
        display: flex; align-items: center; justify-content: center;
        font-size: 26px; color: var(--primary); 
        box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        position: relative; overflow: hidden;
    }
    
    .app-item[data-accent="green"] .app-icon { color: var(--accent-green); }
    .app-item[data-accent="blue"] .app-icon { color: var(--accent-blue); }
    .app-item[data-accent="yellow"] .app-icon { color: var(--accent-yellow); }
    .app-item[data-accent="purple"] .app-icon { color: var(--accent-purple); }
    /* AI Styling */
    .app-item[data-accent="ai"] .app-icon { 
        background: linear-gradient(135deg, #1A1A1A, #000); 
        color: #fff;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .app-item[data-accent="ai"] .app-icon i {
        background: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-size: 28px;
    }
    /* Heart/Matchmaker Styling */
    .app-item[data-accent="love"] .app-icon { 
        background: linear-gradient(135deg, #fff0f0, #ffe6e6); 
        color: #ff3366;
    }


    .app-icon::after {
        content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
        background: linear-gradient(45deg, transparent, rgba(255,255,255,0.4), transparent);
        transform: rotate(45deg) translateY(-100%); transition: 0.5s;
    }
    .app-item:hover .app-icon::after { transform: rotate(45deg) translateY(100%); }
    .app-label { font-size: 0.75rem; font-weight: 600; color: var(--text-main); text-align: center; line-height: 1.2; }

    /* Calculator */
    .calc-box {
        padding: 32px; border-radius: 36px;
        transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
        box-shadow: var(--shadow-3d); transition: transform 0.2s;
        border-top: 1px solid rgba(255,255,255,0.3);
    }
    .calc-box:hover { transform: perspective(1000px) rotateY(0) rotateX(0); }
    
    .form-group { margin-bottom: 20px; }
    .form-label { font-size: 0.9rem; font-weight: 700; color: var(--text-sub); margin-bottom: 8px; display: block; }
    .form-input {
        width: 100%; padding: 1rem; border-radius: 18px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main); font-size: 1rem; font-weight: 600;
        transition: 0.3s;
    }
    .form-input:focus { background: var(--surface); border-color: var(--primary); box-shadow: 0 0 0 4px rgba(255, 107, 0, 0.2); }

    /* --- 6. SECTIONS --- */
    .section { padding: 80px 0; }
    .section-bg { background: var(--muted-bg); }
    
    .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; }
    .feature-card {
        padding: 40px; border-radius: 32px;
        transition: 0.4s; position: relative;
        display: flex; flex-direction: column; gap: 16px;
    }
    .feature-card:hover { transform: translateY(-15px); box-shadow: var(--shadow-3d); border-color: var(--primary); }
    
    .f-icon {
        width: 60px; height: 60px; border-radius: 20px; background: rgba(255, 107, 0, 0.1);
        color: var(--primary); display: flex; align-items: center; justify-content: center; font-size: 28px;
        box-shadow: 0 10px 20px rgba(255,107,0,0.15);
    }

    .content-block { max-width: 800px; margin: 0 auto; }
    .content-block h3 { color: var(--primary); }
    .content-list { list-style: none; padding-left: 0; }
    .content-list li {
        position: relative; padding-left: 30px; margin-bottom: 12px;
        color: var(--text-sub); font-size: 1.05rem;
    }
    .content-list li::before {
        content: '✔'; position: absolute; left: 0; color: var(--primary); font-weight: bold;
    }

    /* --- 7. FOOTER --- */
    .footer { margin-top: 40px; }
    .footer-box { padding: 70px 50px; border-radius: 48px; position: relative; overflow: hidden; }
    .footer-bg-glow {
        position: absolute; bottom: -50%; left: 50%; transform: translateX(-50%);
        width: 120%; height: 120%; background: radial-gradient(circle, var(--primary) 0%, transparent 60%);
        opacity: 0.08; pointer-events: none;
    }
    
    .footer-grid { display: grid; gap: 50px; z-index: 1; position: relative; grid-template-columns: repeat(4, 1fr); }
    
    .f-col h4 {
        font-size: 1.2rem; font-weight: 800; margin-bottom: 24px; color: var(--text-main);
        display: flex; align-items: center; gap: 10px;
    }
    
    .f-link {
        display: flex; align-items: center; gap: 12px; margin-bottom: 16px;
        color: var(--text-sub); font-weight: 500; transition: 0.3s; font-size: 1rem;
    }
    .f-link:hover { color: var(--primary); transform: translateX(8px); }
    
    .f-svg-box {
        width: 32px; height: 32px; border-radius: 10px;
        background: var(--muted-bg); border: 1px solid var(--glass-border);
        display: flex; align-items: center; justify-content: center; color: var(--text-main);
        transition: 0.3s; flex-shrink: 0;
    }
    .f-link:hover .f-svg-box { background: var(--primary); color: var(--text-on-primary); border-color: var(--primary); }

    /* --- 8. ULTRA APP MINI (FLOATING ACTION BUTTON) --- */
    .ultra-fab-wrapper {
        position: fixed;
        bottom: 30px;
        left: 20px;
        z-index: 999;
        display: flex;
        flex-direction: column-reverse;
        align-items: center;
        gap: 12px;
    }

    /* Main Toggle Button */
    .ultra-main-btn {
        width: 60px; height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), #FF4500);
        color: #fff;
        border: none;
        display: flex; align-items: center; justify-content: center;
        font-size: 26px;
        cursor: pointer;
        box-shadow: 0 8px 30px rgba(255, 107, 0, 0.4);
        position: relative;
        z-index: 2;
        transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        /* Animation rung & glow */
        animation: ultra-glow 2s infinite;
    }
    
    /* Animation definition */
    @keyframes ultra-glow {
        0% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0.7); transform: scale(1); }
        50% { transform: scale(1.05); }
        70% { box-shadow: 0 0 0 15px rgba(255, 107, 0, 0); }
        100% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0); transform: scale(1); }
    }
    
    @keyframes ultra-shake {
        0%, 100% { transform: rotate(0deg); }
        25% { transform: rotate(-10deg); }
        75% { transform: rotate(10deg); }
    }

    /* Apply shake on interval via JS or simpler hover/active */
    .ultra-main-btn.shaking {
        animation: ultra-shake 0.5s ease-in-out;
    }

    .ultra-main-btn i { transition: 0.3s; }
    .ultra-fab-wrapper.active .ultra-main-btn {
        transform: rotate(45deg);
        background: #333; /* Darken when open */
        box-shadow: 0 8px 30px rgba(0,0,0,0.3);
        animation: none; /* Stop pulsing when open */
    }

    /* Sub Buttons Container */
    .ultra-actions {
        position: absolute;
        bottom: 70px;
        left: 0;
        width: 60px;
        display: flex;
        flex-direction: column-reverse;
        gap: 12px;
        pointer-events: none;
    }

    .ultra-sub-btn {
        width: 50px; height: 50px;
        border-radius: 18px;
        background: var(--glass-material); /* Adaptive glass background */
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        border: 1px solid var(--glass-border);
        color: var(--text-main);
        display: flex; align-items: center; justify-content: center;
        font-size: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        cursor: pointer;
        opacity: 0;
        transform: translateY(20px) scale(0.8);
        transition: 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        margin: 0 auto; /* Center in column */
        text-decoration: none;
        pointer-events: auto;
    }

    /* Active State: Fan out buttons */
    .ultra-fab-wrapper.active .ultra-sub-btn {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    
    /* Staggered delay for "Spring" effect */
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(1) { transition-delay: 0.05s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(2) { transition-delay: 0.1s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(3) { transition-delay: 0.15s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(4) { transition-delay: 0.2s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(5) { transition-delay: 0.25s; }

    /* Tooltips (Right Side) */
    .ultra-sub-btn::after {
        content: attr(data-tooltip);
        position: absolute;
        left: 60px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 4px 10px;
        border-radius: 8px;
        font-size: 12px;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: 0.2s;
        pointer-events: none;
    }
    .ultra-sub-btn:hover::after {
        opacity: 1; visibility: visible; left: 65px;
    }

    /* Brand Colors */
    .u-zalo { color: #0068FF; }
    .u-wa { color: #25D366; }
    .u-map { color: #FFB800; }
    .u-phone { color: var(--primary); }

    /* --- AI MODAL STYLES --- */
    .ai-modal-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.7); 
        z-index: 2000; opacity: 0; visibility: hidden; 
        transition: 0.3s; backdrop-filter: blur(5px);
    }
    .ai-modal {
        position: fixed; top: 50%; left: 50%; width: 90%; max-width: 500px;
        height: 70vh; max-height: 700px;
        transform: translate(-50%, -40%) scale(0.95);
        background: var(--surface);
        border: 1px solid var(--glass-border);
        border-radius: 32px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        display: flex; flex-direction: column; overflow: hidden;
        z-index: 2001; opacity: 0; visibility: hidden;
        transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .ai-modal.active { opacity: 1; visibility: visible; transform: translate(-50%, -50%) scale(1); }
    .ai-modal-overlay.active { opacity: 1; visibility: visible; }

    .ai-header {
        padding: 20px; border-bottom: 1px solid var(--glass-border);
        display: flex; justify-content: space-between; align-items: center;
        background: var(--muted-bg);
    }
    .ai-header h3 { margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px; }
    .ai-close { cursor: pointer; background: none; border: none; font-size: 24px; color: var(--text-sub); transition: 0.2s; }
    .ai-close:hover { color: var(--text-main); transform: rotate(90deg); }

    .ai-chat-area {
        flex: 1; overflow-y: auto; padding: 20px;
        display: flex; flex-direction: column; gap: 16px;
        background: var(--bg-body);
    }
    
    .chat-msg {
        max-width: 85%; padding: 12px 16px; border-radius: 20px;
        font-size: 0.95rem; line-height: 1.5;
        position: relative; animation: popIn 0.3s ease-out;
    }
    @keyframes popIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .msg-bot {
        align-self: flex-start;
        background: var(--surface); border: 1px solid var(--glass-border);
        border-bottom-left-radius: 4px; color: var(--text-main);
    }
    .msg-user {
        align-self: flex-end;
        background: linear-gradient(135deg, var(--primary), #FF8800);
        color: white; border-bottom-right-radius: 4px;
        box-shadow: 0 4px 15px rgba(255, 107, 0, 0.2);
    }
    .msg-bot strong { color: var(--primary); }

    .ai-input-area {
        padding: 16px; background: var(--surface); border-top: 1px solid var(--glass-border);
        display: flex; gap: 10px;
    }
    .ai-input {
        flex: 1; padding: 12px 16px; border-radius: 24px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main);
    }
    .ai-send {
        width: 46px; height: 46px; border-radius: 50%; border: none;
        background: var(--text-main); color: var(--surface);
        display: flex; align-items: center; justify-content: center; cursor: pointer;
        transition: 0.2s;
    }
    .ai-send:hover { transform: scale(1.1); }
    .ai-send:disabled { opacity: 0.5; cursor: not-allowed; }

    /* Typing Dot Animation */
    .typing-dots { display: inline-flex; gap: 4px; }
    .dot { width: 6px; height: 6px; background: var(--text-sub); border-radius: 50%; animation: bounce 1.4s infinite ease-in-out both; }
    .dot:nth-child(1) { animation-delay: -0.32s; }
    .dot:nth-child(2) { animation-delay: -0.16s; }
    @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }

    /* --- MOBILE MENU --- */
    .mobile-menu-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 998;
        opacity: 0; visibility: hidden; transition: 0.3s; backdrop-filter: blur(8px);
    }
    .mobile-menu {
        position: fixed; bottom: 0; left: 0; width: 100%; max-height: 85vh;
        background: var(--surface); border-radius: 36px 36px 0 0;
        transform: translateY(100%); transition: 0.5s var(--ease-apple); z-index: 999;
        display: flex; flex-direction: column; overflow: hidden;
        border-top: 1px solid var(--glass-border);
    }
    .mobile-menu.active { transform: translateY(0); }
    .mobile-menu-overlay.active { opacity: 1; visibility: visible; }
    .drag-handle { width: 50px; height: 6px; background: #E5E5EA; border-radius: 10px; margin: 16px auto; }
    .menu-content { padding: 20px 24px 140px 24px; overflow-y: auto; }

    .menu-icon {
        width: 32px; height: 32px; border-radius: 10px;
        background: var(--muted-bg); display: flex; align-items: center; justify-content: center;
        color: var(--primary); margin-right: 12px;
    }

    /* --- RESPONSIVE --- */
    @media (max-width: 1024px) {
        .hero-title { font-size: 3.5rem; }
        .hero-grid { grid-template-columns: 1fr; gap: 50px; }
        .desktop-nav { display: none; }
        .menu-toggle { display: flex !important; }
        .footer-grid { grid-template-columns: repeat(2, 1fr); gap: 30px; }
        .status-widget { display: none; }
    }
    @media (max-width: 768px) {
        .status-widget { display: none; }
        .hero { padding-top: 100px; padding-bottom: 40px; }
        .mini-apps { grid-template-columns: repeat(3, 1fr); gap: 12px; } /* Adjust grid for mobile */
        .app-icon { width: 60px; height: 60px; font-size: 22px; }
        .footer-grid { grid-template-columns: 1fr; gap: 40px; }
        .footer-box { padding: 50px 30px; }
        .section { padding: 60px 0; }
        .feature-grid { gap: 24px; }
    }
</style>
</head>
<body id="top">

<!-- HEADER -->
<header class="header" id="header">
    <div class="container">
        <div class="nav-bar glass-panel">
            <div class="header-left">
                <a href="./" class="logo">
                    <!-- CHANGED LOGO -->
                    <img src="https://raw.githubusercontent.com/thuexemayhanoi/shop/refs/heads/main/IMG_0462.jpeg" class="logo-img" alt="logo Mr Tú Bike" width="44" height="44">
                    <div class="logo-text">
                        <!-- CHANGED NAME -->
                        <span class="logo-title">Mr Tú</span>
                        <span>Ultra iOS 26</span>
                    </div>
                </a>
                
                <!-- WIDGET GIỜ MỞ CỬA -->
                <div class="status-widget" id="status-widget">
                    <div class="status-dot" id="status-dot"></div>
                    <span class="status-text" id="status-text">Đang tải...</span>
                </div>
            </div>
            
            <nav class="desktop-nav" id="desktop-menu"></nav>

            <div class="header-actions">
                <button class="action-btn" id="theme-btn" aria-label="Đổi giao diện sáng/tối">
                    <span class="material-symbols-rounded">light_mode</span>
                </button>
                <button class="action-btn menu-toggle" id="menu-btn" style="display:none" aria-label="Mở menu">
                    <span class="material-symbols-rounded">grid_view</span>
                </button>
            </div>
        </div>
    </div>
</header>

<!-- MOBILE MENU -->
<div class="mobile-menu-overlay" id="overlay"></div>
<div class="mobile-menu glass-panel" id="mobile-menu">
    <div class="drag-handle"></div>
    <div class="menu-content" id="mobile-list"></div>
</div>

<main>
    <!-- HERO SECTION -->
    <section class="hero">
        <div class="hero-glow"></div>
        <div class="container">
            <div class="hero-grid">
                
                <!-- Content Left -->
                <div class="fade-in-up">
                    <div class="hero-badge">
                        <span class="material-symbols-rounded" style="font-size:16px;">verified</span>
                        Thuê xe máy Hà Nội – Hoàn Kiếm
                    </div>
                    <!-- CHANGED NAME -->
                    <h1 class="hero-title">
                        Thuê Xe Máy Hà Nội<br>
                        <span class="text-highlight">Hoàn Kiếm & Phố Cổ</span>
                    </h1>
                    <p>
                        Dịch vụ cho thuê xe máy Hà Nội chuẩn du lịch & công tác. Giao xe tận nơi trong 15–20 phút tại khu Phố Cổ, Hoàn Kiếm, Hồ Tây. Xe đời mới, hỗ trợ 24/7.
                    </p>

                    <!-- 3D Mini Apps -->
                    <div>
                        <div style="text-transform:uppercase; font-size:0.75rem; font-weight:800; color:var(--text-sub); letter-spacing:1px; margin-bottom:12px;">Quick Access</div>
                        <div class="mini-apps">
                            <div class="app-item" data-accent="green" onclick="window.location.href='tel:0942467674'">
                                <div class="app-icon"><i class="fa-solid fa-phone"></i></div>
                                <span class="app-label">Gọi Ngay</span>
                            </div>
                            <div class="app-item" data-accent="blue" onclick="window.open('https://zalo.me/0942467674', '_blank')">
                                <div class="app-icon"><i class="fa-solid fa-comment-dots"></i></div>
                                <span class="app-label">Zalo</span>
                            </div>
                            <div class="app-item" data-accent="yellow" onclick="window.location.href='banggia.html'">
                                <div class="app-icon"><i class="fa-solid fa-tag"></i></div>
                                <span class="app-label">Bảng Giá</span>
                            </div>
                            <div class="app-item" data-accent="purple" onclick="const ft = document.getElementById('footer-target'); if(ft) ft.scrollIntoView({behavior:'smooth'})">
                                <div class="app-icon"><i class="fa-solid fa-map-location-dot"></i></div>
                                <span class="app-label">Địa Điểm</span>
                            </div>
                            
                            <!-- GEMINI FEATURE 1: AI GUIDE -->
                            <div class="app-item" data-accent="ai" onclick="AI_Guide.open()">
                                <div class="app-icon"><i class="fa-solid fa-wand-magic-sparkles"></i></div>
                                <span class="app-label">AI Tour Guide ✨</span>
                            </div>

                             <!-- GEMINI FEATURE 2: BIKE MATCHMAKER -->
                            <div class="app-item" data-accent="love" onclick="AI_Matchmaker.open()">
                                <div class="app-icon"><i class="fa-solid fa-heart-pulse"></i></div>
                                <span class="app-label">Tìm Xe Chân Ái ✨</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Calculator Right -->
                <div class="calc-box glass-panel fade-in-up" id="tilt-box" style="transition-delay: 0.2s;">
                    <h3 style="display:flex; align-items:center; gap:10px;">
                        <span class="material-symbols-rounded" style="color:var(--primary)">bolt</span>
                        Dự toán chi phí
                    </h3>

                    <div class="form-group">
                        <label class="form-label" for="c-type">Loại xe</label>
                        <select class="form-input" id="c-type">
                            <option value="150000">Xe số (Wave/Sirius) - 150k</option>
                            <option value="200000">Xe ga (Vision/Airblade) - 200k</option>
                            <option value="350000">Xe côn/PKL - 350k</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="c-days">Số ngày</label>
                        <input type="number" class="form-input" id="c-days" value="1" min="1">
                    </div>

                    <div class="form-group">
                        <label class="form-label">Khu vực</label>
                        <select class="form-input">
                            <option>Hoàn Kiếm / Phố Cổ</option>
                            <option>Long Biên / Gia Lâm</option>
                            <option>Khu vực khác</option>
                        </select>
                    </div>

                    <div style="display:flex; justify-content:space-between; align-items:center; margin-top:24px; padding-top:16px; border-top:1px dashed var(--glass-border);">
                        <span style="font-size:0.95rem; color:var(--text-sub); font-weight:600;">Tạm tính:</span>
                        <span style="font-size:1.6rem; font-weight:800; color:var(--primary)" id="c-total">150.000đ</span>
                    </div>

                    <button class="btn-3d" style="width:100%; margin-top:24px;" onclick="window.open('https://zalo.me/0942467674', '_blank')">
                        Đặt Xe Ngay <i class="fa-solid fa-arrow-right"></i>
                    </button>
                    <p style="text-align:center; font-size:0.75rem; color:var(--text-sub); margin-top:12px; opacity:0.7;">*Không cần cọc online</p>
                </div>

            </div>
        </div>
    </section>

    <!-- BODY CONTENT -->
    <div id="body-content">
        <!-- SECTION 1: GIỚI THIỆU -->
        <section class="section">
            <div class="container">
                <div class="content-block fade-in-up">
                    <div style="text-align: center; margin-bottom: 40px;">
                        <span style="color: var(--primary); font-weight: 800; text-transform: uppercase; letter-spacing: 2px;">Về Chúng Tôi</span>
                        <!-- CHANGED NAME -->
                        <h2>Mr Tú Bike - Đơn Vị Cho Thuê Xe Máy Hàng Đầu Hà Nội</h2>
                    </div>
                    <p>
                        <!-- CHANGED NAME -->
                        Chào mừng bạn đến với <strong>Mr Tú Bike</strong>, dịch vụ <em>cho thuê xe máy Hà Nội</em> uy tín và chuyên nghiệp. Với hơn 10 năm kinh nghiệm phục vụ hàng ngàn lượt khách du lịch trong nước và quốc tế, chúng tôi tự hào mang đến những trải nghiệm di chuyển tuyệt vời nhất trên những cung đường Thủ đô.
                    </p>
                    <div class="feature-grid" style="margin-top: 40px;">
                        <div class="feature-card glass-panel">
                            <div class="f-icon"><span class="material-symbols-rounded">verified_user</span></div>
                            <h3>An Toàn Tuyệt Đối</h3>
                            <p>100% xe được bảo dưỡng định kỳ tại hãng. Mũ bảo hiểm sạch, đủ 2 cái, tặng kèm áo mưa.</p>
                        </div>
                        <div class="feature-card glass-panel">
                            <div class="f-icon"><span class="material-symbols-rounded">rocket_launch</span></div>
                            <h3>Giao Xe Siêu Tốc</h3>
                            <p>15–20 phút nhận xe tại Hoàn Kiếm, Phố Cổ, Tây Hồ. Đội ngũ giao xe hoạt động 24/7.</p>
                        </div>
                        <div class="feature-card glass-panel">
                            <div class="f-icon"><span class="material-symbols-rounded">savings</span></div>
                            <h3>Giá Rẻ Minh Bạch</h3>
                            <p>Giá thuê xe máy Hà Nội cạnh tranh, niêm yết công khai, không phát sinh phí ẩn.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 2: DÀN XE -->
        <section class="section section-bg">
            <div class="container">
                <h2 class="fade-in-up" style="text-align:center;">Dàn Xe "Ultra" Đời Mới 2024-2025</h2>
                <div class="feature-grid">
                    <div class="feature-card glass-panel fade-in-up">
                        <img src="https://img.freepik.com/free-photo/scooter-city_1157-41489.jpg?size=626&ext=jpg" alt="Thuê xe Vision Hà Nội" loading="lazy" width="600" height="400" style="width:100%; height:200px; object-fit:cover; border-radius:16px; margin-bottom:16px;">
                        <h3>Honda Vision 2025</h3>
                        <p>Dòng xe ga quốc dân, nhỏ gọn, cốp rộng, tiết kiệm xăng. Phù hợp cho bạn nữ và đi phố.</p>
                        <strong style="font-size:1.2rem; color:var(--primary);">Từ 130k/ngày</strong>
                        <button class="btn-3d" style="width:100%; margin-top:10px; padding:10px;" onclick="window.location.href='tel:0942467674'">Đặt Ngay</button>
                    </div>
                    <div class="feature-card glass-panel fade-in-up" style="transition-delay: 100ms;">
                        <img src="https://img.freepik.com/free-photo/motorcycle-road_1157-36021.jpg?size=626&ext=jpg" alt="Thuê xe Airblade 160 Hà Nội" loading="lazy" width="600" height="400" style="width:100%; height:200px; object-fit:cover; border-radius:16px; margin-bottom:16px;">
                        <h3>Honda Airblade 160</h3>
                        <p>Động cơ 160cc mạnh mẽ, kiểu dáng thể thao. Hợp đi đường dài, Ninh Bình, Sa Pa, Hà Giang.</p>
                        <strong style="font-size:1.2rem; color:var(--primary);">Từ 180k/ngày</strong>
                        <button class="btn-3d" style="width:100%; margin-top:10px; padding:10px;" onclick="window.location.href='tel:0942467674'">Đặt Ngay</button>
                    </div>
                    <div class="feature-card glass-panel fade-in-up" style="transition-delay: 200ms;">
                        <img src="https://img.freepik.com/free-photo/modern-motorcycle_1157-36018.jpg?size=626&ext=jpg" alt="Thuê xe Wave Alpha Hà Nội" loading="lazy" width="600" height="400" style="width:100%; height:200px; object-fit:cover; border-radius:16px; margin-bottom:16px;">
                        <h3>Wave Alpha / RSX</h3>
                        <p>Nồi đồng cối đá, bền bỉ, siêu tiết kiệm nhiên liệu. Lựa chọn kinh tế nhất cho phượt thủ và sinh viên.</p>
                        <strong style="font-size:1.2rem; color:var(--primary);">Từ 100k/ngày</strong>
                        <button class="btn-3d" style="width:100%; margin-top:10px; padding:10px;" onclick="window.location.href='tel:0942467674'">Đặt Ngay</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 3: BẢNG GIÁ -->
        <section class="section">
            <div class="container">
                <div class="glass-panel fade-in-up" style="padding: 40px; border-radius: 32px;">
                    <h2 style="text-align: center; margin-bottom: 30px;">Bảng Giá Thuê Xe Máy Hà Nội 2025</h2>
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse; min-width: 600px;">
                            <thead>
                                <tr style="background: rgba(255,107,0,0.1); color: var(--primary);">
                                    <th scope="col" style="padding: 16px; text-align: left; border-radius: 12px 0 0 12px;">Loại Xe</th>
                                    <th scope="col" style="padding: 16px; text-align: left;">1 Ngày</th>
                                    <th scope="col" style="padding: 16px; text-align: left;">3-5 Ngày</th>
                                    <th scope="col" style="padding: 16px; text-align: left;">Tuần</th>
                                    <th scope="col" style="padding: 16px; text-align: left; border-radius: 0 12px 12px 0;">Tháng</th>
                                </tr>
                            </thead>
                            <tbody style="font-weight: 500;">
                                <tr style="border-bottom: 1px solid var(--glass-border);">
                                    <td style="padding: 16px;">Xe Số (Wave, Sirius)</td>
                                    <td style="padding: 16px;">120.000đ</td>
                                    <td style="padding: 16px;">100.000đ</td>
                                    <td style="padding: 16px;">600.000đ</td>
                                    <td style="padding: 16px;">1.500.000đ</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--glass-border);">
                                    <td style="padding: 16px;">Xe Ga Thường (Vision, Lead)</td>
                                    <td style="padding: 16px;">150.000đ</td>
                                    <td style="padding: 16px;">130.000đ</td>
                                    <td style="padding: 16px;">800.000đ</td>
                                    <td style="padding: 16px;">2.500.000đ</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--glass-border);">
                                    <td style="padding: 16px;">Xe Ga Cao Cấp (SH, AB 160)</td>
                                    <td style="padding: 16px;">250.000đ</td>
                                    <td style="padding: 16px;">220.000đ</td>
                                    <td style="padding: 16px;">1.400.000đ</td>
                                    <td style="padding: 16px;">3.500.000đ</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 5: KHU VỰC GIAO XE -->
        <section class="section section-bg">
            <div class="container">
                <h2 style="text-align: center;" class="fade-in-up">Mạng Lưới Giao Xe Rộng Khắp</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 40px;">
                    <div class="glass-panel fade-in-up" style="padding: 24px; border-radius: 20px; text-align: center;">
                        <i class="fa-solid fa-hotel" style="font-size: 40px; color: var(--primary); margin-bottom: 16px;"></i>
                        <h3>Phố Cổ & Hoàn Kiếm</h3>
                        <p style="font-size: 0.9rem;">Giao miễn phí tận sảnh khách sạn trong 15 phút. Khu vực Mã Mây, Hàng Bạc, Tạ Hiện...</p>
                    </div>
                    <div class="glass-panel fade-in-up" style="padding: 24px; border-radius: 20px; text-align: center; transition-delay: 100ms;">
                        <i class="fa-solid fa-water" style="font-size: 40px; color: var(--primary); margin-bottom: 16px;"></i>
                        <h3>Tây Hồ & Ba Đình</h3>
                        <p style="font-size: 0.9rem;">Phục vụ cư dân và khách nước ngoài khu Hồ Tây, Quảng An, Xuân Diệu.</p>
                    </div>
                    <div class="glass-panel fade-in-up" style="padding: 24px; border-radius: 20px; text-align: center; transition-delay: 200ms;">
                        <i class="fa-solid fa-train-subway" style="font-size: 40px; color: var(--primary); margin-bottom: 16px;"></i>
                        <h3>Ga Hà Nội & Bến Xe</h3>
                        <p style="font-size: 0.9rem;">Đón khách tại Ga Trần Quý Cáp/Lê Duẩn, hỗ trợ giao xe tại Mỹ Đình, Giáp Bát.</p>
                    </div>
                    <div class="glass-panel fade-in-up" style="padding: 24px; border-radius: 20px; text-align: center; transition-delay: 300ms;">
                        <i class="fa-solid fa-city" style="font-size: 40px; color: var(--primary); margin-bottom: 16px;"></i>
                        <h3>Long Biên & Gia Lâm</h3>
                        <p style="font-size: 0.9rem;">Chi nhánh Long Biên giúp giao xe phía bên kia sông Hồng thuận tiện hơn.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 7: CAM KẾT -->
        <section class="section">
            <div class="container">
                <div class="hero-grid">
                    <div class="fade-in-up">
                        <h2>Cam Kết <span class="text-highlight">Vàng</span></h2>
                        <!-- CHANGED NAME -->
                        <p>Tại Mr Tú Bike, chúng tôi không chỉ cho thuê xe, chúng tôi bán sự an tâm.</p>
                        <div style="display: flex; flex-direction: column; gap: 20px; margin-top: 30px;">
                            <div style="display: flex; gap: 16px; align-items: flex-start;">
                                <div style="background: var(--primary); color: var(--text-on-primary); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-weight:700;">1</div>
                                <div>
                                    <h4 style="margin: 0 0 8px 0; font-size: 1.1rem;">Hỗ trợ sự cố 24/7</h4>
                                    <p style="margin: 0; font-size: 0.95rem;">Xe hỏng, thủng săm? Đội hỗ trợ luôn sẵn sàng, đổi xe khác hoặc xử lý tại chỗ.</p>
                                </div>
                            </div>
                            <div style="display: flex; gap: 16px; align-items: flex-start;">
                                <div style="background: var(--primary); color: var(--text-on-primary); width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-weight:700;">2</div>
                                <div>
                                    <h4 style="margin: 0 0 8px 0; font-size: 1.1rem;">Hoàn tiền nếu không hài lòng</h4>
                                    <p style="margin: 0; font-size: 0.95rem;">Xe không đúng cam kết, chạy yếu, quá cũ? Hoàn lại 100% tiền thuê cho khách.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="fade-in-up">
                        <img src="https://img.freepik.com/free-photo/mechanic-repairing-motorcycle-workshop_1157-36035.jpg" alt="Bảo dưỡng xe máy" loading="lazy" width="600" height="400" style="width: 100%; border-radius: 32px; box-shadow: var(--shadow-3d);">
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 10: FAQ -->
        <section class="section section-bg">
            <div class="container">
                <h2 style="text-align: center; margin-bottom: 40px;" class="fade-in-up">Câu Hỏi Thường Gặp (FAQ)</h2>
                <div class="content-block">
                    <div class="glass-panel fade-in-up" style="margin-bottom: 16px; padding: 24px; border-radius: 20px; cursor: pointer;">
                        <h4 style="margin: 0 0 10px 0; color: var(--primary);">Tôi có cần bằng lái xe để thuê không?</h4>
                        <p style="margin: 0; font-size: 0.95rem;">Bạn cần có GPLX hạng A1/A2. Với khách nước ngoài, nên có GPLX quốc tế (IDP).</p>
                    </div>
                    <div class="glass-panel fade-in-up" style="margin-bottom: 16px; padding: 24px; border-radius: 20px; cursor: pointer;">
                        <h4 style="margin: 0 0 10px 0; color: var(--primary);">Xe bị hỏng giữa đường thì sao?</h4>
                        <p style="margin: 0; font-size: 0.95rem;">Gọi hotline kỹ thuật. Lỗi do xe, chúng tôi chịu phí. Lỗi do khách, khách chịu phí thực tế.</p>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 50px;" class="fade-in-up">
                    <h3>Bạn còn câu hỏi khác?</h3>
                    <button class="btn-3d" onclick="window.location.href='tel:0942467674'">Gọi Tư Vấn Miễn Phí</button>
                </div>
            </div>
        </section>
    </div>

</main>

<!-- FOOTER -->
<footer class="footer" id="footer-target">
    <div class="container">
        <div class="footer-box glass-panel fade-in-up">
            <div class="footer-bg-glow"></div>
            <div class="footer-grid" id="footer-grid"></div>
            
            <div class="copyright" style="margin-top: 50px;">
                <!-- CHANGED LOGO FOOTER -->
                <img src="https://raw.githubusercontent.com/thuexemayhanoi/shop/refs/heads/main/IMG_0462.jpeg" style="width:48px; margin-bottom:16px; filter: grayscale(1); opacity:0.8; border-radius:50%;" alt="Logo footer">
                <p style="text-align:center; color:var(--text-sub); font-size:0.9rem; line-height:1.5;">
                    <!-- CHANGED NAME -->
                    <strong>© 2025 Mr Tú Motorbike Rental.</strong><br>
                    Địa chỉ: 116 Cầu Gỗ, Hoàn Kiếm, Hà Nội.<br>
                    Hotline: 0942.467.674 - Email: contact@nguyentubike.com<br>
                    Ultra iOS 26.1 Concept. All rights reserved.
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- AI MODAL 1: TOUR GUIDE -->
<div class="ai-modal-overlay" id="ai-overlay"></div>
<div class="ai-modal" id="ai-modal">
    <div class="ai-header">
        <h3><i class="fa-solid fa-wand-magic-sparkles" style="color:var(--primary)"></i> Mr Tú AI Guide ✨</h3>
        <button class="ai-close" id="ai-close"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="ai-chat-area" id="ai-chat-box">
        <div class="chat-msg msg-bot">
            Xin chào! Tôi là <strong>Mr Tú AI</strong>. Tôi có thể giúp bạn lên lịch trình đi phượt, tìm quán ăn ngon ở Phố Cổ, hay chọn xe phù hợp. Bạn cần giúp gì nào? 🛵🍜
        </div>
    </div>
    <div class="ai-input-area">
        <input type="text" id="ai-input" class="ai-input" placeholder="Hỏi tôi về địa điểm, món ăn...">
        <button id="ai-send" class="ai-send"><i class="fa-solid fa-paper-plane"></i></button>
    </div>
</div>

<!-- AI MODAL 2: BIKE MATCHMAKER -->
<div class="ai-modal-overlay" id="mm-overlay"></div>
<div class="ai-modal" id="mm-modal" style="height: auto; min-height: 400px;">
    <div class="ai-header">
        <h3><i class="fa-solid fa-heart-pulse" style="color:#ff3366"></i> Tìm Xe Chân Ái ✨</h3>
        <button class="ai-close" id="mm-close"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="ai-chat-area" id="mm-content">
        <!-- Form Content -->
        <p style="font-size:0.9rem; color:var(--text-sub);">Trả lời 3 câu hỏi nhanh để AI tìm "người bạn đồng hành" hoàn hảo nhất cho chuyến đi của bạn!</p>
        
        <div class="form-group">
            <label class="form-label">1. Trình độ lái xe của bạn?</label>
            <select class="form-input" id="mm-exp">
                <option value="newbie">Lái mới (Newbie)</option>
                <option value="ok">Ổn định (Biết đi xe ga/số)</option>
                <option value="pro">Tay đua lụa (Thích côn tay/PKL)</option>
            </select>
        </div>

        <div class="form-group">
            <label class="form-label">2. Bạn định đi đâu?</label>
            <select class="form-input" id="mm-dest">
                <option value="city">Loanh quanh phố (Cafe, Hồ Tây)</option>
                <option value="trip">Phượt nhẹ (Bát Tràng, Ba Vì)</option>
                <option value="long">Đi xa / Leo núi (Hà Giang, Sapa)</option>
            </select>
        </div>
        
         <div class="form-group">
            <label class="form-label">3. Chiều cao của bạn?</label>
            <select class="form-input" id="mm-height">
                <option value="short">Dưới 1m60</option>
                <option value="mid">1m60 - 1m75</option>
                <option value="tall">Trên 1m75</option>
            </select>
        </div>
        
        <button class="btn-3d" id="mm-submit" style="width:100%; margin-top:10px;">
            <i class="fa-solid fa-magnifying-glass"></i> Tìm Xe Ngay
        </button>
        
        <!-- Result Container -->
        <div id="mm-result" style="margin-top:20px; display:none; border-top:1px dashed var(--glass-border); padding-top:16px;">
            <h4 style="color:var(--primary); margin:0 0 8px 0;">Kết quả:</h4>
            <div id="mm-result-text" style="font-size:0.95rem; line-height:1.6; color:var(--text-main);"></div>
        </div>
    </div>
</div>


<!-- NEW ULTRA APP MINI (Expandable Button) -->
<div class="ultra-fab-wrapper" id="ultra-fab">
    <div class="ultra-actions">
        <!-- Buttons expanded from top down or bottom up depending on flex direction -->
        <a href="tel:0942467674" class="ultra-sub-btn u-phone" data-tooltip="Gọi 0942.467.674" aria-label="Gọi ngay">
            <i class="fa-solid fa-phone"></i>
        </a>
        <a href="https://zalo.me/0942467674" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-zalo" data-tooltip="Chat Zalo" aria-label="Zalo">
            <i class="fa-solid fa-comment-dots"></i>
        </a>
        <a href="https://wa.me/84942467674" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-wa" data-tooltip="Chat WhatsApp" aria-label="WhatsApp">
            <i class="fa-brands fa-whatsapp"></i>
        </a>
        <a href="https://maps.app.goo.gl/SR1hcwnCQjPkAvDh7" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-map" data-tooltip="Chỉ đường" aria-label="Bản đồ">
            <i class="fa-solid fa-map-location-dot"></i>
        </a>
        <a href="#top" class="ultra-sub-btn" data-tooltip="Lên đầu trang" aria-label="Top">
            <i class="fa-solid fa-arrow-up"></i>
        </a>
    </div>
    
    <button class="ultra-main-btn" id="ultra-toggle" aria-label="Mở tiện ích">
        <i class="fa-solid fa-bolt"></i>
    </button>
</div>

<!-- JS ENGINE -->
<script>
    // --- ICONS (SVG) ---
    const ICONS = {
        home: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>',
        doc: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>',
        map: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>',
        tag: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>',
        mail: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>'
    };

    // --- CONFIG DATA ---
    const CONFIG = {
        MENU: [
            { t: "Trang chủ", l: "./", i: ICONS.home },
            { t: "Giới thiệu", l: "gioithieu.html", i: ICONS.doc },
            { 
                t: "Dịch vụ", l: "#", i: ICONS.tag,
                sub: [
                    {t: "Bảng giá 2025", l: "banggia.html", i: ICONS.tag},
                    {t: "Thuê xe theo ngày", l: "ngay.html", i: ICONS.doc},
                    {t: "Thuê xe theo tuần", l: "tuan.html", i: ICONS.doc},
                    {t: "Thuê xe theo tháng", l: "thang.html", i: ICONS.doc},
                    {t: "Thủ tục thuê xe", l: "thutuc.html", i: ICONS.doc},
                    {t: "Khuyến mãi", l: "uudai.html", i: ICONS.tag}
                ]
            },
            { 
                t: "Địa điểm", l: "#", i: ICONS.map,
                sub: [
                    {t: "Hoàn Kiếm", l: "hoankiem.html", i: ICONS.map},
                    {t: "Phố Cổ", l: "phoco.html", i: ICONS.map},
                    {t: "Tây Hồ", l: "tayho.html", i: ICONS.map},
                    {t: "Ba Đình", l: "badinh.html", i: ICONS.map},
                    {t: "Cầu Giấy", l: "caugiay.html", i: ICONS.map},
                    {t: "Đống Đa", l: "dongda.html", i: ICONS.map},
                    {t: "Thanh Xuân", l: "thanhxuan.html", i: ICONS.map},
                    {t: "Hai Bà Trưng", l: "haibatrung.html", i: ICONS.map},
                    {t: "Long Biên", l: "longbien.html", i: ICONS.map},
                    {t: "Ga Hà Nội", l: "gahn.html", i: ICONS.map}
                ]
            },
            { t: "FAQ", l: "faq.html", i: ICONS.doc },
            {
                t: "Chính sách", l: "#", i: ICONS.doc,
                sub: [
                    { t: "Chính sách bảo mật", l: "chinhsach.html", i: ICONS.doc },
                    { t: "Điều khoản sử dụng", l: "dieukhoan.html", i: ICONS.doc }
                ]
            },
            { t: "Liên hệ", l: "lienhe.html", i: ICONS.mail }
        ]
    };

    const Render = {
        init() {
            this.nav();
            this.mobile();
            this.footer();
            this.calc();
            this.effects();
            this.statusWidget();
            this.setupPWA();
            this.ultraApp();
            this.setupAI();
            this.setupMatchmaker();
        },

        // --- CORE: FAKE "GEMINI" OFFLINE, KHÔNG CẦN API ---
        async callGeminiWithRetry(prompt, systemInstruction, onLoading, onSuccess, onError) {
            try {
                onLoading();

                const pRaw = String(prompt || "");
                const sRaw = String(systemInstruction || "");
                const text = (pRaw + " " + sRaw).toLowerCase();

                // Helper: random delay cho giống AI thật
                const delay = 500 + Math.floor(Math.random() * 700);

                // Helper: tạo câu trả lời gọn, thân thiện
                function wrap(msg) {
                    return msg
                        .replace(/\s+/g, " ")
                        .trim();
                }

                let answer = "";

                /* ====== CASE 1: Dùng trong AI Guide (tour, ăn uống, lịch trình) ====== */

                // Đi Hà Giang / Sa Pa / phượt dài ngày
                if (/hà giang|ha giang|sapa|sa pa|đi xa|highway|mountain|đèo|đi đèo/.test(text)) {
                    answer = wrap(
                        "Đi Hà Giang, Sa Pa hoặc cung đèo dài thì anh nên chạy xe số hoặc XR150: máy khỏe, phanh đầm, leo dốc an toàn. " +
                        "Nếu chở đồ nhiều, ưu tiên Wave / XR150, hạn chế xe ga yếu phanh và nhanh nóng máy."
                    );
                }
                // Phố Cổ / Hoàn Kiếm / Old Quarter
                else if (/phố cổ|pho co|old quarter|hoàn kiếm|hoan kiem|center|city center/.test(text)) {
                    answer = wrap(
                        "Chạy trong Phố Cổ, Hoàn Kiếm thì Vision hoặc Wave là hợp lý: xe nhỏ gọn, dễ luồn lách, gửi khách sạn cũng tiện. " +
                        "Đi 1–2 ngày chơi quanh phố thì chọn Vision nhìn lịch sự, Wave thì siêu tiết kiệm xăng."
                    );
                }
                // Hồ Tây, cafe, hẹn hò
                else if (/hồ tây|ho tay|west lake|cafe|coffee|date|hẹn hò/.test(text)) {
                    answer = wrap(
                        "Đi chơi Hồ Tây, cafe, hẹn hò thì Vision hoặc Airblade là đẹp: dáng xe gọn, ngồi 2 người thoải mái, máy êm. " +
                        "Nếu thích êm ái dễ lái thì Vision, cần khỏe máy hơn chút thì Airblade 160."
                    );
                }
                // Ăn uống, street food, đặc sản
                else if (/ăn gì|ăn ở đâu|food|street food|đặc sản|mon an|món ăn|bún chả|phở|bun cha|pho/.test(text)) {
                    answer = wrap(
                        "Khu Phố Cổ anh thử combo: sáng phở Bát Đàn / Lý Quốc Sư, trưa bún chả Hàng Quạt hoặc Đắc Kim, tối bia / đồ nướng Tạ Hiện. " +
                        "Đi bằng xe máy thì gửi xe ở các bãi Trần Nhật Duật hoặc ven hồ Hoàn Kiếm rồi đi bộ vào cho đỡ đông."
                    );
                }
                // Hỏi lịch trình 1 ngày / 2 ngày / 3 ngày
                else if (/lịch trình|itinerary|1 ngày|2 ngày|3 ngày|one day|two days|three days/.test(text)) {
                    answer = wrap(
                        "Nếu ở Hà Nội 1–2 ngày: sáng chạy hồ Hoàn Kiếm – Phố Cổ, trưa qua Hồ Tây, chiều lên Long Biên / Gia Lâm ngắm sông Hồng. " +
                        "Có xe máy thì đi được nhiều điểm hơn, không mất thời gian chờ taxi, chi phí rẻ hơn khá nhiều."
                    );
                }
                // Hỏi giá / chi phí
                else if (/giá|bao nhiêu|price|cost|bao nhieu|tầm bao nhiêu|budget|ngân sách/.test(text)) {
                    answer = wrap(
                        "Tạm tính: xe số khoảng 120k/ngày, xe ga Vision ~150k–180k/ngày, xe ga cao cấp từ 230k–250k/ngày. " +
                        "Thuê nhiều ngày hoặc thuê theo tuần/tháng thì giá mềm hơn, anh có thể xem bảng giá trên trang hoặc nhắn Zalo để em chốt chuẩn theo lịch."
                    );
                }
                // Giấy tờ, cọc
                else if (/cọc|đặt cọc|deposit|giấy tờ|passport|hộ chiếu|cccd/.test(text)) {
                    answer = wrap(
                        "Thủ tục cơ bản: CCCD hoặc hộ chiếu + cọc theo giá trị xe. " +
                        "Nếu anh thuê dài ngày hoặc có đủ giấy tờ thì có thể giảm cọc. Chi tiết em hay trao đổi trực tiếp qua Zalo / điện thoại cho nhanh."
                    );
                }

                /* ====== CASE 2: Dùng trong Matchmaker (chọn xe chân ái) ====== */

                else if (/trình độ lái|tay đua lụa|newbie|tay ga|côn tay|xr150|vision|airblade|wave alpha/.test(text)) {
                    // Parse “Trình độ lái, Điểm đến, Chiều cao” từ prompt
                    const expMatch   = /trình độ lái[^:]*:\s*([^\.\n]+)/i.exec(pRaw) || [];
                    const destMatch  = /điểm đến[^:]*:\s*([^\.\n]+)/i.exec(pRaw) || [];
                    const heightMatch= /chiều cao[^:]*:\s*([^\.\n]+)/i.exec(pRaw) || [];

                    const exp   = (expMatch[1]   || "").toLowerCase();
                    const dest  = (destMatch[1]  || "").toLowerCase();
                    const height= (heightMatch[1]|| "").toLowerCase();

                    function pickBike() {
                        // Mặc định
                        let bike = "Honda Vision";
                        let reason = "nhỏ gọn, dễ lái, rất hợp đi phố và người mới.";

                        // Theo kinh nghiệm + điểm đến
                        if (/tay đua|lụa|pro|PKL/i.test(expMatch[1] || "")) {
                            if (/xa|leo núi|hà giang|sa pa|sapa|long/i.test(dest)) {
                                bike = "Honda XR150";
                                reason = "gầm cao, phuộc tốt, bám đường, cực hợp cung đèo dài và đường xấu.";
                            } else {
                                bike = "Honda Airblade 160";
                                reason = "máy 160 khoẻ, tăng tốc tốt, đi phố hay đi xa đều sướng.";
                            }
                        } else if (/mới|newbie/i.test(expMatch[1] || "")) {
                            if (/city|phố|loanh quanh|hồ tây|ho tây/.test(dest)) {
                                bike = "Honda Vision";
                                reason = "thấp, nhẹ, vững tay lái, rất dễ xoay trở trong hẻm và phố cổ.";
                            } else {
                                bike = "Honda Wave Alpha";
                                reason = "bền, tiết kiệm xăng, dễ sửa, hợp cho người mới mà vẫn muốn đi xa.";
                            }
                        } else {
                            // Mức trung bình
                            if (/long|xa|núi|đèo/.test(dest)) {
                                bike = "Honda Wave Alpha";
                                reason = "máy đủ khoẻ, ăn ít xăng, nếu cần vẫn leo đèo tốt.";
                            } else {
                                bike = "Honda Vision";
                                reason = "cân bằng giữa thoải mái, dễ đi và chi phí.";
                            }
                        }

                        // Điều chỉnh theo chiều cao
                        if (/dưới 1m60|duoi 1m60|short/.test(height)) {
                            if (bike === "Honda XR150") {
                                bike = "Honda Vision";
                                reason = "yên thấp, dễ chống chân hơn so với XR150 nếu anh/chị hơi thấp.";
                            }
                        } else if (/trên 1m75|tren 1m75|tall/.test(height)) {
                            if (bike === "Honda Vision") {
                                bike = "Honda Airblade 160";
                                reason = "khung cao hơn, ngồi đỡ gò bó cho người cao.";
                            }
                        }

                        return { bike, reason };
                    }

                    const { bike, reason } = pickBike();

                    answer = wrap(
                        `Xe chân ái của bạn là: ${bike}. ` +
                        `Lý do: ${reason} Nếu cần em giữ sẵn 1 xe và gửi ảnh chi tiết, anh nhắn Zalo 0942.467.674 là em hỗ trợ luôn.`
                    );
                }

                /* ====== FALLBACK: Câu trả lời chung ====== */

                else {
                    answer = wrap(
                        "Em là trợ lý Mr Tú AI. Anh cho em biết: anh đi đâu, mấy ngày, thích xe số hay xe ga, em gợi ý luôn mẫu xe + tầm giá hợp lý, thêm vài gợi ý quán ăn/nghỉ cho tiện cung đường."
                    );
                }

                setTimeout(() => {
                    onSuccess(answer);
                }, delay);
            } catch (err) {
                // Trong trường hợp lỗi JS, vẫn gọi onError để UI không bị treo
                if (onError) onError(err.message || "Local AI error");
            }
        },

        // --- FEATURE 1: AI TOUR GUIDE ---
        setupAI() {
            const modal = document.getElementById('ai-modal');
            const overlay = document.getElementById('ai-overlay');
            const closeBtn = document.getElementById('ai-close');
            const chatBox = document.getElementById('ai-chat-box');
            const input = document.getElementById('ai-input');
            const sendBtn = document.getElementById('ai-send');

            window.AI_Guide = {
                open: () => {
                    modal.classList.add('active');
                    overlay.classList.add('active');
                    input.focus();
                }
            };

            const close = () => {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            };

            closeBtn.addEventListener('click', close);
            overlay.addEventListener('click', close);

            const addMsg = (text, isUser = false) => {
                const div = document.createElement('div');
                div.className = `chat-msg ${isUser ? 'msg-user' : 'msg-bot'}`;
                div.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\n/g, '<br>');
                chatBox.appendChild(div);
                chatBox.scrollTop = chatBox.scrollHeight;
            };

            const showLoader = () => {
                const div = document.createElement('div');
                div.className = 'chat-msg msg-bot';
                div.id = 'ai-loader';
                div.innerHTML = `<div class="typing-dots"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>`;
                chatBox.appendChild(div);
                chatBox.scrollTop = chatBox.scrollHeight;
            };

            const removeLoader = () => {
                const loader = document.getElementById('ai-loader');
                if (loader) loader.remove();
            };

            const handleSend = () => {
                const text = input.value.trim();
                if (!text) return;
                
                // Add user message
                addMsg(text, true);
                input.value = '';

                // Call API
                const systemPrompt = "Bạn là Mr Tú, một hướng dẫn viên địa phương thân thiện, am hiểu sâu sắc về Hà Nội và làm việc cho dịch vụ cho thuê xe máy 'Mr Tú Bike'. Bạn chuyên tư vấn lịch trình đi phượt, địa điểm ăn uống ngon bổ rẻ ở Phố Cổ, Tây Hồ, và các loại xe phù hợp (Vision, Airblade, Wave). Câu trả lời ngắn gọn (dưới 100 từ), vui vẻ, dùng icon, và luôn khuyến khích khách thuê xe máy để di chuyển. Nếu khách hỏi giá, hãy gợi ý xem bảng giá.";
                
                Render.callGeminiWithRetry(
                    text,
                    systemPrompt,
                    showLoader, // onLoading
                    (response) => { removeLoader(); addMsg(response); }, // onSuccess
                    (error) => { removeLoader(); addMsg("Mạng đang bận, bạn thử lại chút nữa nhé! 😅"); } // onError
                );
            };

            sendBtn.addEventListener('click', handleSend);
            input.addEventListener('keypress', (e) => { if (e.key === 'Enter') handleSend(); });
        },

        // --- FEATURE 2: BIKE MATCHMAKER ---
        setupMatchmaker() {
            const modal = document.getElementById('mm-modal');
            const overlay = document.getElementById('mm-overlay');
            const closeBtn = document.getElementById('mm-close');
            const submitBtn = document.getElementById('mm-submit');
            const resultBox = document.getElementById('mm-result');
            const resultText = document.getElementById('mm-result-text');

            window.AI_Matchmaker = {
                open: () => {
                    modal.classList.add('active');
                    overlay.classList.add('active');
                }
            };

            const close = () => {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            };

            closeBtn.addEventListener('click', close);
            overlay.addEventListener('click', close);

            submitBtn.addEventListener('click', () => {
                const exp = document.getElementById('mm-exp').options[document.getElementById('mm-exp').selectedIndex].text;
                const dest = document.getElementById('mm-dest').options[document.getElementById('mm-dest').selectedIndex].text;
                const height = document.getElementById('mm-height').options[document.getElementById('mm-height').selectedIndex].text;

                const userPrompt = `Người dùng có thông số sau: Trình độ lái: ${exp}. Điểm đến: ${dest}. Chiều cao: ${height}. Hãy chọn 1 xe phù hợp nhất trong số (Honda Vision, Honda Airblade 160, Honda Wave Alpha, Honda XR150).`;
                const systemPrompt = "Bạn là chuyên gia tư vấn xe máy của Mr Tú Bike. Dựa vào thông tin người dùng, hãy đề xuất DUY NHẤT 1 mẫu xe phù hợp nhất. Giải thích lý do thật ngắn gọn, súc tích và vui vẻ (dưới 60 từ). Bắt đầu câu trả lời bằng 'Xe chân ái của bạn là: [Tên Xe]'.";

                resultBox.style.display = 'block';
                resultText.innerHTML = `<div class="typing-dots"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div> Đang phân tích...`;

                Render.callGeminiWithRetry(
                    userPrompt,
                    systemPrompt,
                    () => {}, // loading handled manually above
                    (text) => {
                        resultText.innerHTML = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    },
                    (error) => {
                        resultText.innerHTML = "Hệ thống đang bận, nhưng mình đoán là Honda Vision sẽ hợp với mọi người! 😂";
                    }
                );
            });
        },

        // --- NEW ULTRA APP LOGIC ---
        ultraApp() {
            const toggle = document.getElementById('ultra-toggle');
            const wrapper = document.getElementById('ultra-fab');
            const icon = toggle.querySelector('i');

            if (!toggle || !wrapper) return;

            // Toggle function
            toggle.addEventListener('click', (e) => {
                e.stopPropagation();
                wrapper.classList.toggle('active');
                
                // Change Icon
                if (wrapper.classList.contains('active')) {
                    icon.classList.remove('fa-bolt');
                    icon.classList.add('fa-xmark');
                } else {
                    icon.classList.remove('fa-xmark');
                    icon.classList.add('fa-bolt');
                }
            });

            // Close when clicking outside
            document.addEventListener('click', (e) => {
                if (wrapper.classList.contains('active') && !wrapper.contains(e.target)) {
                    wrapper.classList.remove('active');
                    icon.classList.remove('fa-xmark');
                    icon.classList.add('fa-bolt');
                }
            });

            // Periodic random shake effect when idle
            setInterval(() => {
                if (!wrapper.classList.contains('active')) {
                    toggle.classList.add('shaking');
                    setTimeout(() => toggle.classList.remove('shaking'), 500);
                }
            }, 5000);
        },

        nav() {
            const dNav = document.getElementById('desktop-menu');
            if (dNav) {
                dNav.innerHTML = CONFIG.MENU.map(i => {
                    if (i.sub) return `<a href="${i.sub[0].l}" class="nav-link">${i.sub[0].l === '#' ? i.t : i.sub[0].l.replace('.html', '') === '#' ? i.t : i.t}</a>`; // Simplified logic to match requested copy
                     if (i.sub) return `<a href="${i.sub[0].l}" class="nav-link">${i.t}</a>`;
                    return `<a href="${i.l}" class="nav-link">${i.t}</a>`;
                }).join('');
            }
        },

        mobile() {
            const mList = document.getElementById('mobile-list');
            const overlay = document.getElementById('overlay');
            const menu = document.getElementById('mobile-menu');
            const btn = document.getElementById('menu-btn');

            // Defensive check
            if (!mList || !overlay || !menu || !btn) return;

            let html = '';
            html += `<div style="margin-bottom:24px; padding:12px; background:var(--muted-bg); border-radius:16px; display:flex; align-items:center; gap:10px;">
                <div id="mob-status-dot" class="status-dot" style="width:10px; height:10px;"></div>
                <span id="mob-status-text" style="font-weight:700; font-size:0.9rem;">Kiểm tra giờ...</span>
            </div>`;

            CONFIG.MENU.forEach(i => {
                if (i.sub) {
                    html += `<div style="margin-bottom:16px;">
                        <div style="display:flex;align-items:center;margin-bottom:12px;color:var(--text-main);">
                            <div class="menu-icon" style="color:var(--text-main)">${i.i}</div>
                            <div style="font-weight:800; font-size:1.15rem;">${i.t}</div>
                        </div>
                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; padding-left:10px;">
                            ${i.sub.map(s => `<a href="${s.l}" style="display:flex;align-items:center;gap:8px;padding:12px; background:var(--muted-bg); border-radius:14px; font-size:0.85rem; color:var(--text-sub); font-weight:600; text-decoration:none;">
                                <span style="color:var(--primary); transform:scale(0.8);">${s.i}</span>${s.t}
                            </a>`).join('')}
                        </div>
                    </div>`;
                } else {
                    html += `<a href="${i.l}" style="display:flex; align-items:center; gap:12px; font-size:1.15rem; font-weight:700; padding:16px 0; border-bottom:1px solid var(--glass-border); color:var(--text-main); text-decoration:none;">
                        <div class="menu-icon">${i.i}</div>${i.t}
                    </a>`;
                }
            });
            mList.innerHTML = html;

            const toggle = () => {
                menu.classList.toggle('active');
                overlay.classList.toggle('active');
            };
            
            btn.addEventListener('click', toggle);
            overlay.addEventListener('click', toggle);
        },

        footer() {
            const grid = document.getElementById('footer-grid');
            if (!grid) return;

            const iconMap = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></div>`;
            const iconDoc = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg></div>`;
            const iconInfo = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></div>`;

            const servicesMenu = CONFIG.MENU.find(x => x.t === 'Dịch vụ');
            const services = servicesMenu && Array.isArray(servicesMenu.sub) ? servicesMenu.sub : [];

            const locationsMenu = CONFIG.MENU.find(x => x.t === 'Địa điểm');
            const locations = locationsMenu && Array.isArray(locationsMenu.sub) ? locationsMenu.sub : [];
            
            const halfLoc = Math.ceil(locations.length / 2);

            grid.innerHTML = `
                <div class="f-col">
                    <!-- CHANGED NAME IN FOOTER HEADER -->
                    <h4><span class="material-symbols-rounded">info</span> Về Mr Tú</h4>
                    <a href="gioithieu.html" class="f-link">${iconInfo} Giới thiệu</a>
                    <a href="chinhsach.html" class="f-link">${iconDoc} Chính sách bảo mật</a>
                    <a href="dieukhoan.html" class="f-link">${iconDoc} Điều khoản sử dụng</a>
                    <a href="lienhe.html" class="f-link">${iconInfo} Liên hệ</a>
                    <div style="margin-top:24px; display:flex; gap:12px;">
                        <button class="action-btn" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></button>
                        <button class="action-btn" aria-label="Tiktok"><i class="fa-brands fa-tiktok"></i></button>
                        <button class="action-btn" aria-label="Map"><i class="fa-solid fa-map-location-dot"></i></button>
                    </div>
                </div>
                
                <div class="f-col">
                    <h4><span class="material-symbols-rounded">settings</span> Dịch vụ</h4>
                    ${services.map(s => `<a href="${s.l}" class="f-link">${iconDoc} ${s.t}</a>`).join('')}
                </div>
                
                <div class="f-col">
                    <h4><span class="material-symbols-rounded">map</span> Khu vực 1</h4>
                    ${locations.slice(0, halfLoc).map(s => `<a href="${s.l}" class="f-link">${iconMap} ${s.t}</a>`).join('')}
                </div>
                
                <div class="f-col">
                    <h4><span class="material-symbols-rounded">map</span> Khu vực 2</h4>
                    ${locations.slice(halfLoc).map(s => `<a href="${s.l}" class="f-link">${iconMap} ${s.t}</a>`).join('')}
                </div>
            `;
        },

        statusWidget() {
            const checkTime = () => {
                const now = new Date();
                const hours = now.getHours();
                // UPDATED LOGIC: 8h - 17h
                const isOpen = hours >= 8 && hours < 17;
                
                const updateUI = (dotId, textId) => {
                    const dot = document.getElementById(dotId);
                    const text = document.getElementById(textId);
                    if (!dot || !text) return;

                    dot.className = isOpen ? 'status-dot open' : 'status-dot';
                    // UPDATED TEXT: (8h-17h)
                    text.innerText = isOpen ? 'Đang mở cửa (8h-17h)' : 'Đã đóng cửa (8h-17h)';
                    text.className = `status-text ${isOpen ? 'text-open' : 'text-closed'}`;
                };
                
                updateUI('status-dot', 'status-text');
                updateUI('mob-status-dot', 'mob-status-text');
            };
            checkTime();
            setInterval(checkTime, 60000);
        },

        calc() {
            const type = document.getElementById('c-type');
            const days = document.getElementById('c-days');
            const total = document.getElementById('c-total');

            const run = () => {
                let d = parseInt(days.value, 10) || 1;
                if (d < 1) d = 1;
                const price = (parseInt(type.value, 10) || 0) * d;
                total.innerText = price.toLocaleString('vi-VN') + 'đ';
            };
            
            if (type && days && total) {
                type.addEventListener('change', run);
                days.addEventListener('input', run);
                run();
            }
        },

        effects() {
            const header = document.getElementById('header');
            if (header) {
                window.addEventListener('scroll', () => {
                    header.classList.toggle('scrolled', window.scrollY > 50);
                });
            }

            const tBtn = document.getElementById('theme-btn');
            if (tBtn) {
                const setThemeIcon = (theme) => {
                    tBtn.innerHTML = theme === 'dark'
                        ? '<span class="material-symbols-rounded">light_mode</span>'
                        : '<span class="material-symbols-rounded">dark_mode</span>';
                };

                const current = document.documentElement.getAttribute('data-theme') || 'dark';
                setThemeIcon(current);

                tBtn.addEventListener('click', () => {
                    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
                    const newTheme = isDark ? 'light' : 'dark';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    setThemeIcon(newTheme);
                });
            }

            const obs = new IntersectionObserver((entries) => {
                entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
            }, {threshold: 0.1});
            
            setTimeout(() => {
                document.querySelectorAll('.fade-in-up').forEach(el => obs.observe(el));
            }, 500);

            const tiltBox = document.getElementById('tilt-box');
            
            document.addEventListener('mousemove', (e) => {
                if (window.innerWidth < 1024 || !tiltBox) return;
                const x = (window.innerWidth / 2 - e.pageX) / 30;
                const y = (window.innerHeight / 2 - e.pageY) / 30;
                tiltBox.style.transform = `perspective(1000px) rotateY(${x}deg) rotateX(${y}deg)`;
            });

            document.addEventListener('mouseleave', () => {
                if (!tiltBox) return;
                tiltBox.style.transform = 'perspective(1000px) rotateY(0) rotateX(0)';
            });
        },

        setupPWA() {
            const manifest = {
                name: "Mr Tu Bike",
                short_name: "NT Ultra",
                display: "standalone",
                start_url: "./",
                theme_color: "#000000",
                background_color: "#000000",
                icons: [{
                    // CHANGED ICON
                    src: "https://raw.githubusercontent.com/thuexemayhanoi/shop/refs/heads/main/IMG_0462.jpeg",
                    sizes: "192x192",
                    type: "image/png"
                }]
            };
            const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
            const link = document.createElement('link');
            link.rel = 'manifest';
            link.href = URL.createObjectURL(blob);
            document.head.appendChild(link);
        }
    };

    document.addEventListener('DOMContentLoaded', () => Render.init());
</script>
<script src="https://thuexemayhanoi.github.io/shop/motoai_v39_1_premium_ios_patched.js" defer></script>
</body>
</html>
