<!DOCTYPE html>
<html lang="vi" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<!-- SEO ULTRA MODE -->
<title>ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng thu√™ xe m√°y H√† N·ªôi - Mr T√∫ | Minh B·∫°ch, An To√†n</title>
<meta name="description" content="Chi ti·∫øt ƒëi·ªÅu kho·∫£n s·ª≠ d·ª•ng d·ªãch v·ª• thu√™ xe m√°y H√† N·ªôi t·∫°i Mr T√∫. Quy ƒë·ªãnh r√µ r√†ng v·ªÅ th·ªß t·ª•c, ti·ªÅn c·ªçc, tr√°ch nhi·ªám v√† b·∫£o hi·ªÉm. ƒê·ªçc k·ªπ ƒë·ªÉ ƒë·∫£m b·∫£o quy·ªÅn l·ª£i khi thu√™ xe Ph·ªë C·ªï.">
<meta name="keywords" content="ƒëi·ªÅu kho·∫£n thu√™ xe m√°y h√† n·ªôi, quy ƒë·ªãnh thu√™ xe m√°y mr t√∫, th·ªß t·ª•c thu√™ xe m√°y ph·ªë c·ªï, h·ª£p ƒë·ªìng thu√™ xe m√°y h√† n·ªôi, tr√°ch nhi·ªám ng∆∞·ªùi thu√™ xe">
<meta name="author" content="Mr T√∫">
<meta name="theme-color" content="#000000">

<!-- Canonical Tag -->
<link rel="canonical" href="https://thuexemayhanoi.github.io/shop/dieukhoan.html">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="article">
<meta property="og:url" content="https://thuexemayhanoi.github.io/shop/dieukhoan.html">
<meta property="og:title" content="ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng thu√™ xe m√°y H√† N·ªôi - Mr T√∫">
<meta property="og:description" content="Quy ƒë·ªãnh minh b·∫°ch, r√µ r√†ng v·ªÅ ƒë·∫∑t c·ªçc, gi·ªù gi·∫•c v√† tr√°ch nhi·ªám khi thu√™ xe m√°y t·∫°i H√† N·ªôi.">
<meta property="og:image" content="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0618.jpeg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://thuexemayhanoi.github.io/shop/dieukhoan.html">
<meta property="twitter:title" content="ƒêi·ªÅu kho·∫£n thu√™ xe m√°y H√† N·ªôi - Mr T√∫">
<meta property="twitter:description" content="Quy ƒë·ªãnh minh b·∫°ch, r√µ r√†ng v·ªÅ ƒë·∫∑t c·ªçc, gi·ªù gi·∫•c v√† tr√°ch nhi·ªám.">
<meta property="twitter:image" content="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0618.jpeg">

<!-- PWA & Geo -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Mr T√∫ Terms">
<meta name="geo.region" content="VN-HN">
<meta name="geo.placename" content="Ph·ªë C·ªï Ho√†n Ki·∫øm, H√† N·ªôi">
<meta name="geo.position" content="21.0388606;105.8535709">
<meta name="ICBM" content="21.0388606, 105.8535709">

<!-- Fonts & CSS -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" as="style">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>

<style>
    /* --- 1. DESIGN SYSTEM: WCAG 2.1 COMPLIANT --- */
    :root {
        --primary: #FF6B00;
        --primary-dark: #cc5500;
        --text-on-primary: #fff; 
        --secondary: #FFB800;
        
        --accent-green: #006837;
        --accent-blue: #0056D2;
        --accent-purple: #7425C9;
        --accent-yellow: #995700;
        --accent-red: #C41C00;

        --bg-body: #F2F2F7;
        --surface: #FFFFFF;
        --glass-material: rgba(255, 255, 255, 0.9);
        --glass-border: rgba(0, 0, 0, 0.1);
        --muted-bg: rgba(0, 0, 0, 0.05);

        --text-main: #111111;
        --text-sub: #555555;
        
        --shadow-3d: 0 10px 30px -10px rgba(0,0,0,0.15);
        --btn-shadow: 0 6px 0 var(--primary-dark), 0 15px 25px rgba(255, 107, 0, 0.2);
        --btn-active: 0 0 0 var(--primary-dark), inset 0 2px 5px rgba(0,0,0,0.1);
        
        --ease-apple: cubic-bezier(0.25, 1, 0.5, 1);
        --font-stack: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
    }

    /* DARK THEME OVERRIDES */
    [data-theme="dark"] {
        --bg-body: #050505;
        --surface: #1C1C1E;
        --glass-material: rgba(30, 30, 32, 0.85);
        --glass-border: rgba(255, 255, 255, 0.15);
        --muted-bg: rgba(255, 255, 255, 0.08);

        --accent-green: #34C759;
        --accent-blue: #409CFF;
        --accent-purple: #BF5AF2;
        --accent-yellow: #FFD60A;
        --accent-red: #FF453A;

        --text-main: #F5F5F7;
        --text-sub: #AEAEB2;

        --shadow-3d: 0 20px 50px -10px rgba(0,0,0,0.7);
        --btn-shadow: 0 6px 0 #b34700, 0 15px 30px rgba(255, 107, 0, 0.3);
        --text-on-primary: #fff; 
    }

    /* --- 2. RESET & BASE --- */
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
    
    html { 
        scroll-behavior: smooth; 
        font-size: 100%; 
        -webkit-font-smoothing: antialiased; 
        -moz-osx-font-smoothing: grayscale; 
        height: 100%;
    }
    
    body {
        margin: 0; padding: 0;
        font-family: var(--font-stack);
        background: var(--bg-body);
        color: var(--text-main);
        overflow-x: hidden;
        transition: background 0.4s var(--ease-apple), color 0.3s;
        padding-bottom: 40px; 
        line-height: 1.5;
    }

    input, button, select, textarea { font-family: inherit; }

    a { text-decoration: none; color: inherit; }
    ul { list-style: none; padding: 0; margin: 0; }
    
    p { line-height: 1.7; margin-bottom: 1.5rem; font-size: 1.05rem; color: var(--text-sub); font-weight: 500; }
    h2 { font-size: clamp(2rem, 5vw, 2.5rem); font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -0.5px; color: var(--text-main); }
    h3 { font-size: 1.5rem; font-weight: 700; margin-bottom: 1rem; color: var(--text-main); }
    strong { color: var(--primary); font-weight: 700; }

    a.seo-link { color: var(--primary); text-decoration: underline; text-decoration-color: rgba(255, 107, 0, 0.3); text-underline-offset: 4px; transition: 0.2s; }
    a.seo-link:hover { text-decoration-color: var(--primary); }

    /* --- 3. UI COMPONENTS --- */
    .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    
    .glass-panel {
        background: var(--glass-material);
        backdrop-filter: blur(25px) saturate(180%);
        -webkit-backdrop-filter: blur(25px) saturate(180%);
        border: 1px solid var(--glass-border);
        box-shadow: 0 8px 32px rgba(0,0,0,0.05);
    }
    
    /* FALLBACK FOR LOW-END DEVICES */
    @supports not (backdrop-filter: blur(10px)) {
        .glass-panel {
            background: var(--surface);
            opacity: 0.98;
        }
        [data-theme="dark"] .glass-panel {
            background: #1c1c1ef2; 
        }
    }

    /* REDUCED MOTION PREFERENCE (ACCESSIBILITY) */
    @media (prefers-reduced-motion: reduce) {
        *, ::before, ::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }

    .btn-3d {
        position: relative;
        border: none;
        background: linear-gradient(145deg, var(--primary), #FF8800);
        color: var(--text-on-primary) !important; 
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        padding: 1rem 1.6rem;
        border-radius: 24px;
        cursor: pointer;
        transition: transform 0.1s, box-shadow 0.1s;
        box-shadow: var(--btn-shadow);
        display: inline-flex; align-items: center; justify-content: center; gap: 10px;
        border-top: 1px solid rgba(255,255,255,0.3);
        font-size: 1rem;
    }
    .btn-3d:active { transform: translateY(6px); box-shadow: var(--btn-active); }

    .fade-in-up { opacity: 0; transform: translateY(40px); transition: all 0.8s var(--ease-apple); }
    .fade-in-up.visible { opacity: 1; transform: translateY(0); }

    /* --- 4. HEADER --- */
    .header {
        position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
        padding: 12px 0; transition: 0.3s;
    }
    .header.scrolled { padding: 8px 0; }
    
    .nav-bar {
        display: flex; justify-content: space-between; align-items: center;
        padding: 8px 12px; border-radius: 100px;
        transition: 0.3s; box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }
    
    .header-left { display: flex; align-items: center; gap: 12px; }

    .logo { display: flex; align-items: center; gap: 10px; }
    .logo-img {
        width: 44px; height: 44px; border-radius: 50%;
        border: 2px solid var(--primary); padding: 2px;
        animation: spin 12s linear infinite;
        background: var(--surface);
    }
    
    @media (prefers-reduced-motion: reduce) {
        .logo-img { animation: none; }
    }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    /* MODIFIED FOR TERMS PAGE: Changed from h1 to span */
    .logo-title { font-size: 1.1rem; font-weight: 800; margin: 0; line-height: 1; display: block; color: var(--text-main); }
    .logo-text span { font-size: 0.75rem; font-weight: 600; color: var(--text-sub); letter-spacing: 1px; display: block; }

    .status-widget {
        display: flex; align-items: center; gap: 8px;
        padding: 6px 14px; border-radius: 20px;
        background: var(--muted-bg);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(10px);
    }
    .status-dot {
        width: 10px; height: 10px; border-radius: 50%;
        background: var(--accent-red);
        box-shadow: 0 0 8px var(--accent-red);
        transition: 0.3s;
    }
    .status-dot.open { background: var(--accent-green); box-shadow: 0 0 8px var(--accent-green); }
    .status-dot.online { background: var(--secondary); box-shadow: 0 0 8px var(--secondary); } 
    
    .text-open { color: var(--accent-green) !important; }
    .text-closed { color: var(--accent-red) !important; }
    .text-online { color: var(--secondary) !important; }
    
    .status-text { font-size: 0.75rem; font-weight: 700; color: var(--text-main); white-space: nowrap; }

    .desktop-nav { display: flex; gap: 4px; }
    .nav-link {
        padding: 8px 16px; border-radius: 20px; font-size: 0.95rem; font-weight: 600;
        color: var(--text-sub); transition: 0.2s;
        display: flex; align-items: center; gap: 6px;
    }
    .nav-link:hover { color: var(--primary); background: var(--muted-bg); }
    
    .header-actions { display: flex; gap: 8px; align-items: center;}
    .action-btn {
        width: 40px; height: 40px; border-radius: 50%; border: none;
        background: var(--muted-bg); color: var(--text-main);
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; transition: 0.3s;
    }
    .action-btn:hover { background: var(--primary); color: var(--text-on-primary); transform: rotate(15deg); }
    
    .menu-toggle { display: none; }

    .search-container-desktop {
        position: relative;
        margin-right: 10px;
        display: flex; align-items: center;
    }
    .search-input {
        background: var(--muted-bg);
        border: 1px solid var(--glass-border);
        color: var(--text-main);
        border-radius: 20px;
        padding: 8px 16px 8px 36px;
        font-size: 0.9rem;
        width: 180px;
        transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
        outline: none;
    }
    .search-input:focus {
        width: 240px;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.15);
        background: var(--surface);
    }
    .search-icon-inside {
        position: absolute;
        left: 12px;
        color: var(--text-sub);
        font-size: 16px;
        pointer-events: none;
        transition: 0.3s;
    }
    .search-input:focus + .search-icon-inside { color: var(--primary); }

    /* Mobile Search Overlay */
    .mobile-search-btn { display: none; }
    .mobile-search-dropdown {
        position: absolute;
        top: 110%; left: 10px; right: 10px;
        background: var(--glass-material);
        backdrop-filter: blur(25px);
        padding: 12px;
        border-radius: 16px;
        border: 1px solid var(--glass-border);
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        display: none;
        animation: slideDownSearch 0.3s ease;
        z-index: 999;
    }
    .mobile-search-dropdown.active { display: block; }
    @keyframes slideDownSearch { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }
    .mobile-search-input {
        width: 100%; padding: 10px 40px 10px 16px;
        border-radius: 12px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main);
        font-size: 1rem;
    }
    .mobile-search-close {
        position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
        color: var(--text-sub); font-size: 18px; cursor: pointer;
        background: transparent; border: none; padding: 4px;
    }

    /* --- 5. HERO SECTION --- */
    .hero {
        min-height: 100vh; padding-top: 120px; padding-bottom: 60px;
        display: flex; align-items: center; position: relative; overflow: hidden;
    }
    .hero-glow {
        position: absolute; width: 90vw; height: 90vw;
        background: radial-gradient(circle, rgba(255, 107, 0, 0.3) 0%, transparent 65%);
        top: -30%; right: -30%; filter: blur(100px); opacity: 0.6; z-index: -1;
        animation: float 10s ease-in-out infinite alternate;
    }
    @keyframes float { from {transform: translate(0,0);} to {transform: translate(-40px, 50px);} }

    .hero-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 60px; align-items: center; }

    .hero-badge {
        display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px;
        border-radius: 100px; background: rgba(255, 107, 0, 0.1); color: var(--primary);
        font-weight: 700; font-size: 0.85rem; border: 1px solid rgba(255, 107, 0, 0.3);
        margin-bottom: 24px; box-shadow: 0 4px 20px rgba(255,107,0,0.1);
    }
    .hero-title {
        font-size: clamp(2.5rem, 5vw, 4rem);
        line-height: 1.1; font-weight: 800;
        margin-bottom: 24px; letter-spacing: -1.5px;
        color: var(--text-main);
    }
    .text-highlight {
        background: linear-gradient(135deg, var(--primary) 20%, var(--secondary) 100%);
        -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }

    /* MINI APPS */
    .mini-apps { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; margin-top: 40px; }
    .app-item {
        display: flex; flex-direction: column; align-items: center; gap: 10px;
        cursor: pointer; transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .app-item:hover { transform: translateY(-12px) scale(1.05); }
    
    .app-icon {
        width: 68px; height: 68px; border-radius: 22px;
        background: var(--glass-material); border: 1px solid var(--glass-border);
        display: flex; align-items: center; justify-content: center;
        font-size: 26px; color: var(--primary); 
        box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        position: relative; overflow: hidden;
    }
    
    .app-item[data-accent="green"] .app-icon { color: var(--accent-green); }
    .app-item[data-accent="blue"] .app-icon { color: var(--accent-blue); }
    .app-item[data-accent="yellow"] .app-icon { color: var(--accent-yellow); }
    .app-item[data-accent="purple"] .app-icon { color: var(--accent-purple); }
    /* AI Styling */
    .app-item[data-accent="ai"] .app-icon { 
        background: linear-gradient(135deg, #1A1A1A, #000); 
        color: #fff;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .app-item[data-accent="ai"] .app-icon i {
        background: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-size: 28px;
    }
    /* Heart/Matchmaker Styling */
    .app-item[data-accent="love"] .app-icon { 
        background: linear-gradient(135deg, #fff0f0, #ffe6e6); 
        color: #ff3366;
    }

    .app-icon::after {
        content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
        background: linear-gradient(45deg, transparent, rgba(255,255,255,0.4), transparent);
        transform: rotate(45deg) translateY(-100%); transition: 0.5s;
    }
    .app-item:hover .app-icon::after { transform: rotate(45deg) translateY(100%); }
    .app-label { font-size: 0.75rem; font-weight: 600; color: var(--text-main); text-align: center; line-height: 1.2; }

    /* Calculator */
    .calc-box {
        padding: 32px; border-radius: 36px;
        transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
        box-shadow: var(--shadow-3d); transition: transform 0.1s linear; 
        border-top: 1px solid rgba(255,255,255,0.3);
    }
    
    .form-group { margin-bottom: 20px; }
    .form-label { font-size: 0.9rem; font-weight: 700; color: var(--text-sub); margin-bottom: 8px; display: block; }
    .form-input {
        width: 100%; padding: 1rem; border-radius: 18px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main); font-size: 1rem; font-weight: 600;
        transition: 0.3s;
    }
    .form-input:focus { background: var(--surface); border-color: var(--primary); box-shadow: 0 0 0 4px rgba(255, 107, 0, 0.2); }

    /* --- 6. SECTIONS & CONTENT --- */
    .section { padding: 80px 0; }
    .section-bg { background: var(--muted-bg); }
    
    .content-block { max-width: 900px; margin: 0 auto; }
    .content-block h2 { color: var(--primary); margin-top: 40px; }
    .content-block h3 { color: var(--text-main); margin-top: 30px; border-left: 4px solid var(--primary); padding-left: 15px; }
    .content-list { list-style: none; padding-left: 0; }
    .content-list li {
        position: relative; padding-left: 30px; margin-bottom: 12px;
        color: var(--text-sub); font-size: 1.05rem;
    }
    .content-list li::before {
        content: '‚úî'; position: absolute; left: 0; color: var(--primary); font-weight: bold;
    }
    .legal-text {
        text-align: justify;
        font-size: 1.05rem;
        line-height: 1.8;
    }
    .highlight-box {
        background: rgba(255, 107, 0, 0.1);
        border: 1px dashed var(--primary);
        padding: 20px;
        border-radius: 16px;
        margin: 20px 0;
    }

    /* --- 7. FOOTER --- */
    .footer { margin-top: 40px; }
    .footer-box { padding: 70px 50px; border-radius: 48px; position: relative; overflow: hidden; }
    .footer-bg-glow {
        position: absolute; bottom: -50%; left: 50%; transform: translateX(-50%);
        width: 120%; height: 120%; background: radial-gradient(circle, var(--primary) 0%, transparent 60%);
        opacity: 0.08; pointer-events: none;
    }
    
    .footer-grid { display: grid; gap: 50px; z-index: 1; position: relative; grid-template-columns: repeat(4, 1fr); }
    
    .f-col h4 {
        font-size: 1.2rem; font-weight: 800; margin-bottom: 24px; color: var(--text-main);
        display: flex; align-items: center; gap: 10px;
    }
    
    .f-link {
        display: flex; align-items: center; gap: 12px; margin-bottom: 16px;
        color: var(--text-sub); font-weight: 500; transition: 0.3s; font-size: 1rem;
    }
    .f-link:hover { color: var(--primary); transform: translateX(8px); }
    
    .f-svg-box {
        width: 32px; height: 32px; border-radius: 10px;
        background: var(--muted-bg); border: 1px solid var(--glass-border);
        display: flex; align-items: center; justify-content: center; color: var(--text-main);
        transition: 0.3s; flex-shrink: 0;
    }
    .f-link:hover .f-svg-box { background: var(--primary); color: var(--text-on-primary); border-color: var(--primary); }

    .footer-contact-info {
        text-align: center; color: var(--text-sub); font-size: 0.95rem;
        display: flex; flex-direction: column; gap: 8px; align-items: center;
        margin-bottom: 16px;
    }
    .fc-item { margin: 0; display: flex; align-items: center; gap: 8px; justify-content: center; }
    .fc-row { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
    
    @media (max-width: 768px) {
        .fc-row { flex-direction: column; gap: 8px; }
    }

    .social-btn {
        width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
        background: var(--muted-bg); color: var(--text-main); border: 1px solid var(--glass-border);
        font-size: 16px; transition: 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .social-btn:hover { transform: translateY(-5px); color: #fff; border-color: transparent; }
    
    .social-fb:hover { background: #1877F2; }
    .social-ins:hover { background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); }
    .social-pin:hover { background: #BD081C; }
    .social-me:hover { background: #00A98F; }
    .social-tik:hover { background: #000000; }

    /* --- 8. ULTRA APP MINI (FLOATING ACTION BUTTON) --- */
    .ultra-fab-wrapper {
        position: fixed;
        bottom: 30px;
        left: 20px;
        z-index: 999;
        display: flex;
        flex-direction: column-reverse;
        align-items: center;
        gap: 12px;
    }

    .ultra-main-btn {
        width: 60px; height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), #FF4500);
        color: #fff;
        border: none;
        display: flex; align-items: center; justify-content: center;
        font-size: 26px;
        cursor: pointer;
        box-shadow: 0 8px 30px rgba(255, 107, 0, 0.4);
        position: relative;
        z-index: 2;
        transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        animation: ultra-glow 2s infinite;
    }
    
    @keyframes ultra-glow {
        0% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0.7); transform: scale(1); }
        50% { transform: scale(1.05); }
        70% { box-shadow: 0 0 0 15px rgba(255, 107, 0, 0); }
        100% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0); transform: scale(1); }
    }
    
    @keyframes ultra-shake {
        0%, 100% { transform: rotate(0deg); }
        25% { transform: rotate(-10deg); }
        75% { transform: rotate(10deg); }
    }

    .ultra-main-btn.shaking {
        animation: ultra-shake 0.5s ease-in-out;
    }

    .ultra-main-btn i { transition: 0.3s; }
    .ultra-fab-wrapper.active .ultra-main-btn {
        transform: rotate(45deg);
        background: #333; 
        box-shadow: 0 8px 30px rgba(0,0,0,0.3);
        animation: none; 
    }

    .ultra-actions {
        position: absolute;
        bottom: 70px;
        left: 0;
        width: 60px;
        display: flex;
        flex-direction: column-reverse;
        gap: 12px;
        pointer-events: none;
    }

    .ultra-sub-btn {
        width: 50px; height: 50px;
        border-radius: 18px;
        background: var(--glass-material); 
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        border: 1px solid var(--glass-border);
        color: var(--text-main);
        display: flex; align-items: center; justify-content: center;
        font-size: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        cursor: pointer;
        opacity: 0;
        transform: translateY(20px) scale(0.8);
        transition: 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        margin: 0 auto; 
        text-decoration: none;
        pointer-events: auto;
    }
    
    .u-backtop {
        display: none; 
    }
    .u-backtop.show {
        display: flex;
        animation: popInBtn 0.3s ease;
    }
    @keyframes popInBtn { from {transform:scale(0);} to {transform:scale(1);} }

    .ultra-fab-wrapper.active .ultra-sub-btn {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(1) { transition-delay: 0.05s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(2) { transition-delay: 0.1s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(3) { transition-delay: 0.15s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(4) { transition-delay: 0.2s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(5) { transition-delay: 0.25s; }

    .ultra-sub-btn::after {
        content: attr(data-tooltip);
        position: absolute;
        left: 60px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 4px 10px;
        border-radius: 8px;
        font-size: 12px;
        white-space: nowrap;
        opacity: 0;
        visibility: hidden;
        transition: 0.2s;
        pointer-events: none;
    }
    .ultra-sub-btn:hover::after {
        opacity: 1; visibility: visible; left: 65px;
    }

    .u-zalo { color: #0068FF; }
    .u-wa { color: #25D366; }
    .u-map { color: #FFB800; }
    .u-phone { color: var(--primary); }

    /* --- AI MODAL STYLES --- */
    .ai-modal-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.7); 
        z-index: 2000; opacity: 0; visibility: hidden; 
        transition: 0.3s; backdrop-filter: blur(5px);
    }
    .ai-modal {
        position: fixed; top: 50%; left: 50%; width: 90%; max-width: 500px;
        height: 70vh; max-height: 700px;
        transform: translate(-50%, -40%) scale(0.95);
        background: var(--surface);
        border: 1px solid var(--glass-border);
        border-radius: 32px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        display: flex; flex-direction: column; overflow: hidden;
        z-index: 2001; opacity: 0; visibility: hidden;
        transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .ai-modal.active { opacity: 1; visibility: visible; transform: translate(-50%, -50%) scale(1); }
    .ai-modal-overlay.active { opacity: 1; visibility: visible; }

    .ai-header {
        padding: 20px; border-bottom: 1px solid var(--glass-border);
        display: flex; justify-content: space-between; align-items: center;
        background: var(--muted-bg);
    }
    .ai-header h3 { margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px; }
    .ai-close { cursor: pointer; background: none; border: none; font-size: 24px; color: var(--text-sub); transition: 0.2s; }
    .ai-close:hover { color: var(--text-main); transform: rotate(90deg); }

    .ai-chat-area {
        flex: 1; overflow-y: auto; padding: 20px;
        display: flex; flex-direction: column; gap: 16px;
        background: var(--bg-body);
    }
    
    .chat-msg {
        max-width: 85%; padding: 12px 16px; border-radius: 20px;
        font-size: 0.95rem; line-height: 1.5;
        position: relative; animation: popIn 0.3s ease-out;
    }
    @keyframes popIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .msg-bot {
        align-self: flex-start;
        background: var(--surface); border: 1px solid var(--glass-border);
        border-bottom-left-radius: 4px; color: var(--text-main);
    }
    .msg-user {
        align-self: flex-end;
        background: linear-gradient(135deg, var(--primary), #FF8800);
        color: white; border-bottom-right-radius: 4px;
        box-shadow: 0 4px 15px rgba(255, 107, 0, 0.2);
    }
    .msg-bot strong { color: var(--primary); }

    .ai-input-area {
        padding: 16px; background: var(--surface); border-top: 1px solid var(--glass-border);
        display: flex; gap: 10px;
    }
    .ai-input {
        flex: 1; padding: 12px 16px; border-radius: 24px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main);
    }
    .ai-send {
        width: 46px; height: 46px; border-radius: 50%; border: none;
        background: var(--text-main); color: var(--surface);
        display: flex; align-items: center; justify-content: center; cursor: pointer;
        transition: 0.2s;
    }
    .ai-send:hover { transform: scale(1.1); }
    .ai-send:disabled { opacity: 0.5; cursor: not-allowed; }

    /* Typing Dot Animation */
    .typing-dots { display: inline-flex; gap: 4px; }
    .dot { width: 6px; height: 6px; background: var(--text-sub); border-radius: 50%; animation: bounce 1.4s infinite ease-in-out both; }
    .dot:nth-child(1) { animation-delay: -0.32s; }
    .dot:nth-child(2) { animation-delay: -0.16s; }
    @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }

    /* --- MOBILE MENU --- */
    .mobile-menu-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 998;
        opacity: 0; visibility: hidden; transition: 0.3s; backdrop-filter: blur(8px);
    }
    .mobile-menu {
        position: fixed; bottom: 0; left: 0; width: 100%; max-height: 85vh;
        background: var(--surface); border-radius: 36px 36px 0 0;
        transform: translateY(100%); transition: 0.5s var(--ease-apple); z-index: 999;
        display: flex; flex-direction: column; overflow: hidden;
        border-top: 1px solid var(--glass-border);
    }
    .mobile-menu.active { transform: translateY(0); }
    .mobile-menu-overlay.active { opacity: 1; visibility: visible; }
    .drag-handle { width: 50px; height: 6px; background: #E5E5EA; border-radius: 10px; margin: 16px auto; }
    .menu-content { padding: 20px 24px 140px 24px; overflow-y: auto; }

    .menu-icon {
        width: 32px; height: 32px; border-radius: 10px;
        background: var(--muted-bg); display: flex; align-items: center; justify-content: center;
        color: var(--primary); margin-right: 12px;
    }
    
    .pulse { animation: pulseGlow 1s infinite; }
    @keyframes pulseGlow {
      0% { box-shadow: 0 0 0 rgba(255,107,0,0.6); }
      70% { box-shadow: 0 0 12px rgba(255,107,0,0.9); }
      100% { box-shadow: 0 0 0 rgba(255,107,0,0); }
    }

    /* --- RESPONSIVE --- */
    @media (max-width: 1024px) {
        .hero-title { font-size: 3rem; }
        .hero-grid { grid-template-columns: 1fr; gap: 50px; }
        .desktop-nav { display: none; }
        .menu-toggle { display: flex !important; }
        .footer-grid { grid-template-columns: repeat(2, 1fr); gap: 30px; }
        .status-widget { display: none; }
        
        .search-container-desktop { display: none; }
        .mobile-search-btn { display: flex; }
    }
    @media (max-width: 768px) {
        .status-widget { display: none; }
        .hero { padding-top: 100px; padding-bottom: 40px; }
        .mini-apps { grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .app-icon { width: 60px; height: 60px; font-size: 22px; }
        .footer-grid { grid-template-columns: 1fr; gap: 40px; }
        .footer-box { padding: 50px 30px; }
        .section { padding: 60px 0; }
        .hero-title { font-size: 2.2rem; }
    }

    @media (max-width: 768px) {
        body { padding-bottom: calc(140px + env(safe-area-inset-bottom)) !important; }
        .ultra-fab-wrapper {
            left: 20px; bottom: calc(20px + env(safe-area-inset-bottom));
            width: 50px; align-items: center;
        }
        .ultra-main-btn { width: 50px; height: 50px; font-size: 22px; box-shadow: 0 4px 15px rgba(255, 107, 0, 0.3); }
        .ultra-actions { bottom: 60px; width: 100%; align-items: center; gap: 10px; }
        .ultra-sub-btn { width: 42px; height: 42px; font-size: 18px; margin: 0 auto; }
        .ultra-sub-btn::after { display: none !important; }
        .footer-box { padding-bottom: 30px; }
    }
</style>
</head>
<body id="top">

<!-- HEADER -->
<header class="header" id="header">
    <div class="container">
        <div class="nav-bar glass-panel">
            <div class="header-left">
                <a href="./" class="logo">
                    <img src="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0462.jpeg" class="logo-img" alt="logo Mr T√∫ Bike" width="44" height="44">
                    <div class="logo-text">
                        <!-- MODIFIED: h1 changed to span for SEO -->
                        <span class="logo-title">Mr T√∫</span>
                    </div>
                </a>
                
                <div class="status-widget" id="status-widget">
                    <div class="status-dot" id="status-dot"></div>
                    <span class="status-text" id="status-text">ƒêang t·∫£i...</span>
                </div>
            </div>
            
            <nav class="desktop-nav" id="desktop-menu"></nav>

            <div class="header-actions">
                <div class="search-container-desktop">
                    <input type="text" class="search-input" id="search-desktop" placeholder="T√¨m ki·∫øm..." onkeydown="handleSearch(event, this)">
                    <i class="fa-solid fa-magnifying-glass search-icon-inside"></i>
                </div>

                <button class="action-btn mobile-search-btn" onclick="toggleMobileSearch()" aria-label="T√¨m ki·∫øm">
                    <span class="material-symbols-rounded">search</span>
                </button>

                <button class="action-btn" id="theme-btn" aria-label="ƒê·ªïi giao di·ªán s√°ng/t·ªëi">
                    <span class="material-symbols-rounded">light_mode</span>
                </button>
                <button class="action-btn menu-toggle" id="menu-btn" aria-label="M·ªü menu">
                    <span class="material-symbols-rounded">grid_view</span>
                </button>
            </div>
        </div>
        
        <div class="mobile-search-dropdown" id="mob-search-drop">
            <div style="position:relative;">
                <input type="text" class="mobile-search-input" id="search-mobile" placeholder="Nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm..." onkeydown="handleSearch(event, this)">
                <button class="mobile-search-close" onclick="toggleMobileSearch()" aria-label="ƒê√≥ng t√¨m ki·∫øm">
                     <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
    </div>
</header>

<!-- MOBILE MENU -->
<div class="mobile-menu-overlay" id="overlay"></div>
<div class="mobile-menu glass-panel" id="mobile-menu">
    <div class="drag-handle"></div>
    <div class="menu-content" id="mobile-list"></div>
</div>

<main>
    <!-- HERO SECTION -->
    <section class="hero">
        <div class="hero-glow"></div>
        <div class="container">
            <div class="hero-grid">
                
                <div class="fade-in-up">
                    <div class="hero-badge">
                        <span class="material-symbols-rounded" style="font-size:16px;">gavel</span>
                        Quy ƒë·ªãnh & Ch√≠nh s√°ch 2024
                    </div>
                    <!-- Optimized H1 for SEO -->
                    <h1 class="hero-title">
                        ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng<br>
                        <span class="text-highlight">Thu√™ Xe M√°y H√† N·ªôi - Mr T√∫</span>
                    </h1>
                    
                    <p>
                        Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi Mr T√∫. ƒê·ªÉ ƒë·∫£m b·∫£o quy·ªÅn l·ª£i t·ªët nh·∫•t cho chuy·∫øn ƒëi c·ªßa b·∫°n t·∫°i <a href="phoco.html" class="seo-link">Ph·ªë C·ªï</a> v√† H√† N·ªôi, vui l√≤ng ƒë·ªçc k·ªπ c√°c ƒëi·ªÅu kho·∫£n v·ªÅ ƒë·∫∑t c·ªçc, tr√°ch nhi·ªám v√† b·∫£o hi·ªÉm d∆∞·ªõi ƒë√¢y.
                    </p>

                    <div>
                        <div style="text-transform:uppercase; font-size:0.75rem; font-weight:800; color:var(--text-sub); letter-spacing:1px; margin-bottom:12px;">Truy c·∫≠p nhanh</div>
                        <div class="mini-apps">
                            <div class="app-item" data-accent="green" onclick="window.location.href='tel:+84816659199'">
                                <div class="app-icon"><i class="fa-solid fa-phone"></i></div>
                                <span class="app-label">Hotline</span>
                            </div>
                            <div class="app-item" data-accent="blue" onclick="window.open('https://zalo.me/0816659199', '_blank', 'noopener,noreferrer')">
                                <div class="app-icon"><i class="fa-solid fa-comment-dots"></i></div>
                                <span class="app-label">Zalo</span>
                            </div>
                            <div class="app-item" data-accent="yellow" onclick="window.location.href='banggia.html'">
                                <div class="app-icon"><i class="fa-solid fa-tag"></i></div>
                                <span class="app-label">B·∫£ng Gi√°</span>
                            </div>
                            <div class="app-item" data-accent="purple" onclick="window.location.href='lienhe.html'">
                                <div class="app-icon"><i class="fa-solid fa-envelope"></i></div>
                                <span class="app-label">Li√™n H·ªá</span>
                            </div>
                            <div class="app-item" data-accent="ai" onclick="AI_Guide.open()">
                                <div class="app-icon"><i class="fa-solid fa-wand-magic-sparkles"></i></div>
                                <span class="app-label">Tr·ª£ L√Ω AI</span>
                            </div>
                             <div class="app-item" data-accent="love" onclick="AI_Matchmaker.open()">
                                <div class="app-icon"><i class="fa-solid fa-heart-pulse"></i></div>
                                <span class="app-label">T√¨m Xe</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="calc-box glass-panel fade-in-up" id="tilt-box" style="transition-delay: 0.2s;">
                    <h3 style="display:flex; align-items:center; gap:10px;">
                        <span class="material-symbols-rounded" style="color:var(--primary)">bolt</span>
                        D·ª± to√°n chi ph√≠
                    </h3>

                    <div class="form-group">
                        <label class="form-label" for="c-type">Lo·∫°i xe</label>
                        <select class="form-input" id="c-type">
                            <option value="150000">Xe s·ªë (Wave/Sirius) - 150.000</option>
                            <option value="200000">Xe ga (Vision/Airblade) - 200.000</option>
                            <option value="350000">Xe c√¥n/PKL - 350.000</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="c-days">S·ªë ng√†y</label>
                        <input type="number" class="form-input" id="c-days" value="1" min="1">
                    </div>

                    <div style="display:flex; justify-content:space-between; align-items:center; margin-top:24px; padding-top:16px; border-top:1px dashed var(--glass-border);">
                        <span style="font-size:0.95rem; color:var(--text-sub); font-weight:600;">T·∫°m t√≠nh:</span>
                        <span style="font-size:1.6rem; font-weight:800; color:var(--primary)" id="c-total">150.000ƒë</span>
                    </div>

                    <button class="btn-3d" style="width:100%; margin-top:24px;" onclick="window.open('https://zalo.me/0816659199', '_blank', 'noopener,noreferrer')">
                        Thu√™ Xe Ngay <i class="fa-solid fa-arrow-right"></i>
                    </button>
                    <p style="text-align:center; font-size:0.75rem; color:var(--text-sub); margin-top:12px; opacity:0.7;">*ƒê√£ bao g·ªìm 02 MBH mi·ªÖn ph√≠</p>
                </div>

            </div>
        </div>
    </section>

    <!-- CONTENT: TERMS & CONDITIONS -->
    <section class="section">
        <div class="container">
            <div class="content-block glass-panel fade-in-up" style="padding: 40px; border-radius: 32px;">
                <h2 style="text-align:center; border-bottom: 1px solid var(--glass-border); padding-bottom: 20px;">
                    Chi Ti·∫øt ƒêi·ªÅu Kho·∫£n D·ªãch V·ª•
                </h2>
                
                <div class="legal-text">
                    <p>
                        Vi·ªác qu√Ω kh√°ch s·ª≠ d·ª•ng d·ªãch v·ª• t·∫°i <strong>Mr T√∫ - Thu√™ Xe M√°y H√† N·ªôi</strong> ƒë·ªìng nghƒ©a v·ªõi vi·ªác qu√Ω kh√°ch ƒë√£ ƒë·ªçc, hi·ªÉu v√† ƒë·ªìng √Ω tu√¢n th·ªß to√†n b·ªô c√°c ƒëi·ªÅu kho·∫£n d∆∞·ªõi ƒë√¢y. VƒÉn b·∫£n n√†y c√≥ gi√° tr·ªã nh∆∞ m·ªôt h·ª£p ƒë·ªìng thu√™ xe ƒëi·ªán t·ª≠ gi·ªØa hai b√™n.
                    </p>

                    <h3>1. ƒêi·ªÅu ki·ªán thu√™ xe</h3>
                    <ul class="content-list">
                        <li>Kh√°ch h√†ng ph·∫£i t·ª´ ƒë·ªß 18 tu·ªïi tr·ªü l√™n.</li>
                        <li>C√≥ Gi·∫•y ph√©p l√°i xe (GPLX) h·∫°ng A1/A2 h·ª£p l·ªá theo lu·∫≠t ph√°p Vi·ªát Nam. ƒê·ªëi v·ªõi ng∆∞·ªùi n∆∞·ªõc ngo√†i, khuy·∫øn kh√≠ch s·ª≠ d·ª•ng Gi·∫•y ph√©p l√°i xe qu·ªëc t·∫ø (IDP).</li>
                        <li>C√≥ ƒë·∫ßy ƒë·ªß nƒÉng l·ª±c h√†nh vi d√¢n s·ª±, kh√¥ng trong tr·∫°ng th√°i say x·ªân ho·∫∑c s·ª≠ d·ª•ng ch·∫•t k√≠ch th√≠ch khi nh·∫≠n xe.</li>
                    </ul>

                    <h3>2. Th·ªß t·ª•c & ƒê·∫∑t c·ªçc (Deposit)</h3>
                    <p>ƒê·ªÉ t·∫°o ƒëi·ªÅu ki·ªán thu·∫≠n l·ª£i nh·∫•t cho du kh√°ch, ƒë·∫∑c bi·ªát l√† kh√°ch du l·ªãch t·∫°i khu v·ª±c <a href="hoankiem.html" class="seo-link">Ho√†n Ki·∫øm</a>, Mr T√∫ √°p d·ª•ng ch√≠nh s√°ch ƒë·∫∑t c·ªçc linh ho·∫°t:</p>
                    <ul class="content-list">
                        <li><strong>Ph∆∞∆°ng √°n 1 (∆Øu ti√™n):</strong> ƒê·ªÉ l·∫°i CƒÉn c∆∞·ªõc c√¥ng d√¢n (CCCD) g·∫Øn chip ho·∫∑c H·ªô chi·∫øu (Passport) b·∫£n g·ªëc. Mr T√∫ cam k·∫øt b·∫£o qu·∫£n an to√†n tuy·ªát ƒë·ªëi.</li>
                        <li><strong>Ph∆∞∆°ng √°n 2:</strong> Ch·ª•p ·∫£nh gi·∫•y t·ªù t√πy th√¢n + ƒê·∫∑t c·ªçc ti·ªÅn m·∫∑t/chuy·ªÉn kho·∫£n t·ª´ <strong>1.000.000ƒë - 3.000.000ƒë</strong> t√πy lo·∫°i xe (Wave, Vision, SH...).</li>
                        <li>Ti·ªÅn c·ªçc v√† gi·∫•y t·ªù s·∫Ω ƒë∆∞·ª£c ho√†n tr·∫£ 100% ngay sau khi qu√Ω kh√°ch tr·∫£ xe v√† kh√¥ng ph√°t sinh h∆∞ h·ªèng nghi√™m tr·ªçng.</li>
                    </ul>
                    <div class="highlight-box">
                        <strong>L∆∞u √Ω:</strong> Qu√Ω kh√°ch n√™n tham kh·∫£o chi ti·∫øt t·∫°i trang <a href="thutuc.html" class="seo-link">Th·ªß t·ª•c thu√™ xe</a> ƒë·ªÉ chu·∫©n b·ªã gi·∫•y t·ªù ƒë·∫ßy ƒë·ªß tr∆∞·ªõc khi nh·∫≠n xe.
                    </div>

                    <h3>3. Quy ƒë·ªãnh v·ªÅ Th·ªùi gian & Gi√° thu√™</h3>
                    <ul class="content-list">
                        <li><strong>T√≠nh theo ng√†y (24h):</strong> M·ªôt ng√†y thu√™ ƒë∆∞·ª£c t√≠nh l√† 24 ti·∫øng k·ªÉ t·ª´ l√∫c nh·∫≠n xe. V√≠ d·ª•: Nh·∫≠n xe 9h s√°ng h√¥m nay, tr·∫£ xe tr∆∞·ªõc 9h s√°ng h√¥m sau.</li>
                        <li><strong>Qu√° gi·ªù (Overtime):</strong> Tr·∫£ xe mu·ªôn s·∫Ω t√≠nh ph√≠ ph·ª• thu 20.000ƒë - 30.000ƒë/gi·ªù. Qu√° 6 ti·∫øng s·∫Ω t√≠nh tr√≤n 1 ng√†y thu√™.</li>
                        <li><strong>XƒÉng xe:</strong> Xe giao c√≥ s·∫µn xƒÉng ƒë·ªß ƒëi ƒë·∫øn tr·∫°m xƒÉng g·∫ßn nh·∫•t. Khi tr·∫£ xe, qu√Ω kh√°ch vui l√≤ng tr·∫£ l·∫°i m·ª©c xƒÉng t∆∞∆°ng ƒë∆∞∆°ng l√∫c nh·∫≠n (ho·∫∑c thanh to√°n ph√≠ xƒÉng ch√™nh l·ªách).</li>
                        <li>Gi√° thu√™ xe c√≥ th·ªÉ thay ƒë·ªïi v√†o c√°c d·ªãp L·ªÖ, T·∫øt. Vui l√≤ng xem <a href="banggia.html" class="seo-link">B·∫£ng gi√° ni√™m y·∫øt</a> ƒë·ªÉ c·∫≠p nh·∫≠t m·ªõi nh·∫•t.</li>
                    </ul>

                    <h3>4. Tr√°ch nhi·ªám c·ªßa B√™n cho thu√™ (Mr T√∫)</h3>
                    <ul class="content-list">
                        <li>Giao xe ƒë√∫ng ch·ªßng lo·∫°i, ch·∫•t l∆∞·ª£ng t·ªët, ƒë·∫£m b·∫£o an to√†n k·ªπ thu·∫≠t (phanh, l·ªëp, ƒë√®n, c√≤i ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng).</li>
                        <li>Cung c·∫•p ƒë·∫ßy ƒë·ªß gi·∫•y t·ªù xe (B·∫£n sao c√¥ng ch·ª©ng ƒêƒÉng k√Ω xe + B·∫£o hi·ªÉm tr√°ch nhi·ªám d√¢n s·ª± b·∫Øt bu·ªôc) ƒë·ªÉ kh√°ch h√†ng tham gia giao th√¥ng h·ª£p ph√°p.</li>
                        <li>Trang b·ªã mi·ªÖn ph√≠: 02 M≈© b·∫£o hi·ªÉm s·∫°ch s·∫Ω, 01 √Åo m∆∞a, D√¢y bu·ªôc ƒë·ªì (n·∫øu c·∫ßn).</li>
                        <li>H·ªó tr·ª£ c·ª©u h·ªô 24/7 trong khu v·ª±c n·ªôi th√†nh H√† N·ªôi ƒë·ªëi v·ªõi c√°c l·ªói k·ªπ thu·∫≠t do xe (ch·∫øt m√°y, h·ªèng ƒë·ªông c∆° t·ª± nhi√™n).</li>
                    </ul>

                    <h3>5. Tr√°ch nhi·ªám c·ªßa B√™n thu√™ (Kh√°ch h√†ng)</h3>
                    <ul class="content-list">
                        <li>Tu√¢n th·ªß tuy·ªát ƒë·ªëi Lu·∫≠t giao th√¥ng ƒë∆∞·ªùng b·ªô Vi·ªát Nam. Ch·ªãu ho√†n to√†n tr√°ch nhi·ªám n·ªôp ph·∫°t (bao g·ªìm c·∫£ ph·∫°t ngu·ªôi) n·∫øu vi ph·∫°m trong th·ªùi gian thu√™.</li>
                        <li>S·ª≠ d·ª•ng xe ƒë√∫ng m·ª•c ƒë√≠ch di chuy·ªÉn. <strong>Nghi√™m c·∫•m:</strong> S·ª≠ d·ª•ng xe ƒë·ªÉ ch·ªü h√†ng c·ªìng k·ªÅnh, ƒëua xe, c·∫ßm c·ªë, th·∫ø ch·∫•p ho·∫∑c th·ª±c hi·ªán c√°c h√†nh vi vi ph·∫°m ph√°p lu·∫≠t.</li>
                        <li>B·∫£o qu·∫£n xe c·∫©n th·∫≠n. Kh√≥a c·ªï, kh√≥a c√†ng khi d·ª´ng ƒë·ªó. M·∫•t xe ph·∫£i b·ªìi th∆∞·ªùng theo gi√° tr·ªã th·ª±c t·∫ø c·ªßa xe t·∫°i th·ªùi ƒëi·ªÉm m·∫•t.</li>
                        <li>Th√¥ng b√°o ngay cho Mr T√∫ qua <a href="lienhe.html" class="seo-link">Hotline/Zalo</a> n·∫øu xe g·∫∑p s·ª± c·ªë. Kh√¥ng t·ª± √Ω s·ª≠a ch·ªØa t·∫°i c√°c ti·ªám l·∫° khi ch∆∞a c√≥ s·ª± ƒë·ªìng √Ω c·ªßa Mr T√∫ (ƒë·ªÉ tr√°nh b·ªã "ch·∫∑t ch√©m" ho·∫∑c thay ph·ª• t√πng k√©m ch·∫•t l∆∞·ª£ng).</li>
                    </ul>

                    <h3>6. Ch√≠nh s√°ch b·ªìi th∆∞·ªùng h∆∞ h·ªèng</h3>
                    <p>Trong qu√° tr√¨nh thu√™ xe, n·∫øu x·∫£y ra h·ªèng h√≥c, chi ph√≠ s·∫Ω ƒë∆∞·ª£c ph√¢n ƒë·ªãnh nh∆∞ sau:</p>
                    <ul class="content-list">
                        <li><strong>L·ªói do xe (Hao m√≤n t·ª± nhi√™n):</strong> Mr T√∫ ch·ªãu 100% chi ph√≠ s·ª≠a ch·ªØa ho·∫∑c ƒë·ªïi xe m·ªõi cho kh√°ch.</li>
                        <li><strong>L·ªói do kh√°ch (Va ch·∫°m, ng√£, th·ªßng sƒÉm, m·∫•t ch√¨a kh√≥a):</strong> Kh√°ch h√†ng ch·ªãu chi ph√≠ s·ª≠a ch·ªØa/thay th·∫ø theo gi√° th·ªã tr∆∞·ªùng. Ch√∫ng t√¥i cam k·∫øt b√°o gi√° minh b·∫°ch, kh√¥ng tr·ª•c l·ª£i t·ª´ s·ª± c·ªë c·ªßa kh√°ch h√†ng.</li>
                    </ul>

                    <div style="text-align:center; margin-top:40px;">
                        <p>C·∫£m ∆°n qu√Ω kh√°ch ƒë√£ tin t∆∞·ªüng Mr T√∫. Ch√∫c qu√Ω kh√°ch c√≥ nh·ªØng tr·∫£i nghi·ªám tuy·ªát v·ªùi t·∫°i H√† N·ªôi!</p>
                        <button class="btn-3d" onclick="window.location.href='tel:+84816659199'">T√¥i ƒê·ªìng √ù & ƒê·∫∑t Xe</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

</main>

<!-- FOOTER -->
<footer class="footer" id="footer-target">
    <div class="container">
        <div class="footer-box glass-panel fade-in-up">
            <div class="footer-bg-glow"></div>
            <div class="footer-grid" id="footer-grid"></div>
            
            <div class="copyright" style="margin-top: 50px;">
                <img src="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0462.jpeg" style="width:48px; margin-bottom:16px; filter: grayscale(1); opacity:0.8; border-radius:50%;" alt="Logo footer">
                
                <div class="footer-contact-info">
                     <p class="fc-item"><i class="fa-solid fa-map-location-dot"></i> 17 Ph√∫c T√¢n, Ho√†n Ki·∫øm, H√† N·ªôi, Vi·ªát Nam</p>
                     <div class="fc-row">
                         <p class="fc-item"><i class="fa-solid fa-phone-volume"></i> <a href="tel:+84816659199" style="text-decoration:none;color:inherit;">081.665.9199</a></p>
                         <p class="fc-item"><i class="fa-solid fa-envelope"></i> nguyentuantu2482@gmail.com</p>
                     </div>
                     <p class="fc-item" style="color:var(--primary);"><i class="fa-solid fa-headset"></i> Hotline & K·ªπ thu·∫≠t: 24/7</p>
                     <p class="fc-item"><i class="fa-regular fa-clock"></i> C·ª≠a h√†ng: 08:00 ‚Äì 17:00</p>
                </div>

                <p style="text-align:center; color:var(--text-sub); font-size:0.8rem; margin-top:20px; opacity:0.6;">
                    <a href="https://motoopen.github.io/thuexemayohoankiem/" target="_blank" rel="noopener noreferrer">Cho thu√™ xe m√°y Ph·ªë C·ªï | Mr T√∫</a>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- AI MODAL 1: TOUR GUIDE -->
<div class="ai-modal-overlay" id="ai-overlay"></div>
<div class="ai-modal" id="ai-modal" role="dialog" aria-modal="true" aria-labelledby="ai-modal-title">
    <div class="ai-header">
        <h3 id="ai-modal-title"><i class="fa-solid fa-wand-magic-sparkles" style="color:var(--primary)"></i> Mr T√∫ AI Guide ‚ú®</h3>
        <button class="ai-close" id="ai-close" aria-label="ƒê√≥ng"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="ai-chat-area" id="ai-chat-box" role="log" aria-live="polite">
        <div class="chat-msg msg-bot">
            Xin ch√†o! T√¥i l√† <strong>Mr T√∫ AI</strong>. T√¥i c√≥ th·ªÉ gi√∫p b·∫°n l√™n l·ªãch tr√¨nh ƒëi ph∆∞·ª£t, t√¨m qu√°n ƒÉn ngon ·ªü Ph·ªë C·ªï, hay ch·ªçn xe ph√π h·ª£p. B·∫°n c·∫ßn gi√∫p g√¨ n√†o? üõµüçú
        </div>
    </div>
    <div class="ai-input-area">
        <input type="text" id="ai-input" class="ai-input" placeholder="H·ªèi t√¥i v·ªÅ ƒë·ªãa ƒëi·ªÉm, m√≥n ƒÉn...">
        <button id="ai-send" class="ai-send" aria-label="G·ª≠i"><i class="fa-solid fa-paper-plane"></i></button>
    </div>
</div>

<!-- AI MODAL 2: BIKE MATCHMAKER -->
<div class="ai-modal-overlay" id="mm-overlay"></div>
<div class="ai-modal" id="mm-modal" role="dialog" aria-modal="true" aria-labelledby="mm-modal-title" style="height: auto; min-height: 400px;">
    <div class="ai-header">
        <h3 id="mm-modal-title"><i class="fa-solid fa-heart-pulse" style="color:#ff3366"></i> T√¨m Xe Ch√¢n √Åi ‚ú®</h3>
        <button class="ai-close" id="mm-close" aria-label="ƒê√≥ng"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="ai-chat-area" id="mm-content">
        <p style="font-size:0.9rem; color:var(--text-sub);">Tr·∫£ l·ªùi 3 c√¢u h·ªèi nhanh ƒë·ªÉ AI t√¨m "ng∆∞·ªùi b·∫°n ƒë·ªìng h√†nh" ho√†n h·∫£o nh·∫•t cho chuy·∫øn ƒëi c·ªßa b·∫°n!</p>
        
        <div class="form-group">
            <label class="form-label">1. Tr√¨nh ƒë·ªô l√°i xe c·ªßa b·∫°n?</label>
            <select class="form-input" id="mm-exp">
                <option value="newbie">L√°i m·ªõi (Newbie)</option>
                <option value="ok">·ªîn ƒë·ªãnh (Bi·∫øt ƒëi xe ga/s·ªë)</option>
                <option value="pro">Tay ƒëua l·ª•a (Th√≠ch c√¥n tay/PKL)</option>
            </select>
        </div>

        <div class="form-group">
            <label class="form-label">2. B·∫°n ƒë·ªãnh ƒëi ƒë√¢u?</label>
            <select class="form-input" id="mm-dest">
                <option value="city">Loanh quanh ph·ªë (Cafe, H·ªì T√¢y)</option>
                <option value="trip">Ph∆∞·ª£t nh·∫π (B√°t Tr√†ng, Ba V√¨)</option>
                <option value="long">ƒêi xa / Leo n√∫i (H√† Giang, Sapa)</option>
            </select>
        </div>
        
         <div class="form-group">
            <label class="form-label">3. Chi·ªÅu cao c·ªßa b·∫°n?</label>
            <select class="form-input" id="mm-height">
                <option value="short">D∆∞·ªõi 1m60</option>
                <option value="mid">1m60 - 1m75</option>
                <option value="tall">Tr√™n 1m75</option>
            </select>
        </div>
        
        <button class="btn-3d" id="mm-submit" style="width:100%; margin-top:10px;">
            <i class="fa-solid fa-magnifying-glass"></i> T√¨m Xe Ngay
        </button>
        
        <div id="mm-result" style="margin-top:20px; display:none; border-top:1px dashed var(--glass-border); padding-top:16px;">
            <h4 style="color:var(--primary); margin:0 0 8px 0;">K·∫øt qu·∫£:</h4>
            <div id="mm-result-text" style="font-size:0.95rem; line-height:1.6; color:var(--text-main);" role="log" aria-live="polite"></div>
        </div>
    </div>
</div>

<!-- ULTRA APP MINI -->
<div class="ultra-fab-wrapper" id="ultra-fab">
    <div class="ultra-actions">
        <a href="tel:+84816659199" class="ultra-sub-btn u-phone" data-tooltip="G·ªçi 081.665.9199" aria-label="G·ªçi ngay">
            <i class="fa-solid fa-phone"></i>
        </a>
        <a href="https://zalo.me/0816659199" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-zalo" data-tooltip="Chat Zalo" aria-label="Zalo">
            <i class="fa-solid fa-comment-dots"></i>
        </a>
        <a href="https://wa.me/84816659199" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-wa" data-tooltip="Chat WhatsApp" aria-label="WhatsApp">
            <i class="fa-brands fa-whatsapp"></i>
        </a>
        <a href="https://maps.app.goo.gl/UkBn4FgTNjk8ojM9A?g_st=ic" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-map" data-tooltip="Ch·ªâ ƒë∆∞·ªùng" aria-label="B·∫£n ƒë·ªì">
            <i class="fa-solid fa-map-location-dot"></i>
        </a>
        <a href="#top" class="ultra-sub-btn u-backtop" id="u-backtop-btn" data-tooltip="L√™n ƒë·∫ßu trang" aria-label="Top">
            <i class="fa-solid fa-arrow-up"></i>
        </a>
    </div>
    
    <button class="ultra-main-btn" id="ultra-toggle" aria-label="M·ªü ti·ªán √≠ch">
        <i class="fa-solid fa-bolt"></i>
    </button>
</div>

<!-- SCRIPTS -->
<script>
window.AI_Guide = window.AI_Guide || { open: function () {
  const modal = document.getElementById('ai-modal');
  const overlay = document.getElementById('ai-overlay');
  if (modal && overlay) { modal.classList.add('active'); overlay.classList.add('active'); modal.querySelector('input')?.focus(); }
} };
window.AI_Matchmaker = window.AI_Matchmaker || { open: function () {
  const modal = document.getElementById('mm-modal');
  const overlay = document.getElementById('mm-overlay');
  if (modal && overlay) { modal.classList.add('active'); overlay.classList.add('active'); }
} };
</script>

<script>
    /* ===== MotoAI Local Smart Upgrade (Lite ‚Äì Offline) ===== */
    const MOTO_AI_CTX = {
      purpose: null,
      days: null,
      people: null,
      asked: {}
    };

    let MOTO_AI_ACTION_LOCK = false;

    function motoAI_Action(type) {
      if (MOTO_AI_ACTION_LOCK) return; 

      const callBtn = document.querySelector('.u-phone, .fab-call');
      const zaloBtn = document.querySelector('.u-zalo, .fab-zalo');

      if (type === "call" && callBtn) {
        MOTO_AI_ACTION_LOCK = true; 
        callBtn.classList.add("pulse");
        callBtn.click();
      }

      if (type === "zalo" && zaloBtn) {
        MOTO_AI_ACTION_LOCK = true; 
        zaloBtn.classList.add("pulse");
        zaloBtn.click();
      }
    }

    function motoAI_Upgrade(userText) {
      const t = userText.toLowerCase();

      /* --- AUTO ACTION TRIGGER --- */
      if (/gi·ªØ xe|ƒë·∫∑t xe|thu√™ lu√¥n|l·∫•y xe|ch·ªët xe|l·∫•y xe ngay|ƒë·ªìng √Ω/i.test(t)) {
          setTimeout(() => motoAI_Action("zalo"), 1000); 
      }
      if (/g·ªçi|call|ƒëi·ªán tho·∫°i/i.test(t)) {
          setTimeout(() => motoAI_Action("call"), 1000);
      }

      if (/du l·ªãch|ƒëi ch∆°i|ph∆∞·ª£t/.test(t)) MOTO_AI_CTX.purpose = "travel";
      if (/ƒëi l√†m|c√¥ng vi·ªác|ƒëi l√†m h·∫±ng ng√†y/.test(t)) MOTO_AI_CTX.purpose = "work";
      if (/2 ng∆∞·ªùi|hai ng∆∞·ªùi/.test(t)) MOTO_AI_CTX.people = 2;
      if (/\d+\s*(ng√†y|th√°ng)/.test(t)) {
        MOTO_AI_CTX.days = t.match(/\d+\s*(ng√†y|th√°ng)/)[0];
      }

      /* --- H·ªéI NG∆Ø·ª¢C TH√îNG MINH --- */
      if (!MOTO_AI_CTX.purpose && !MOTO_AI_CTX.asked.purpose) {
        MOTO_AI_CTX.asked.purpose = true;
        return "Anh/ch·ªã thu√™ xe ƒë·ªÉ ƒëi l√†m hay du l·ªãch ·∫°?";
      }

      if (!MOTO_AI_CTX.days && !MOTO_AI_CTX.asked.days) {
        MOTO_AI_CTX.asked.days = true;
        return "M√¨nh d·ª± ƒë·ªãnh thu√™ xe trong bao l√¢u ·∫° (theo ng√†y hay th√°ng)?";
      }

      /* --- ƒê·ªÄ XU·∫§T XE --- */
      if (MOTO_AI_CTX.purpose === "travel") {
        return `MotoAI g·ª£i √Ω:
    ‚Ä¢ Xe ga (Vision / Lead)
    ‚Ä¢ √äm, c·ªëp r·ªông, ph√π h·ª£p ƒëi ch∆°i
    ‚Ä¢ Gi√° t·ª´ 150.000ƒë/ng√†y

    Anh/ch·ªã mu·ªën em gi·ªØ xe h√¥m nay kh√¥ng ·∫°?`;
      }

      if (MOTO_AI_CTX.purpose === "work") {
        return `MotoAI g·ª£i √Ω:
    ‚Ä¢ Xe s·ªë (Wave / Sirius)
    ‚Ä¢ Ti·∫øt ki·ªám xƒÉng, d·ªÖ ƒëi h·∫±ng ng√†y
    ‚Ä¢ Gi√° t·ª´ 120.000ƒë/ng√†y

    Anh/ch·ªã c·∫ßn em gi·ªØ xe hay g·ª≠i ƒë·ªãa ch·ªâ nh·∫≠n xe ·∫°?`;
      }

      return "";
    }

    // --- ICONS (SVG) ---
    const ICONS = {
        home: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>',
        doc: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>',
        map: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>',
        tag: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>',
        mail: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>'
    };

    // --- CONFIG DATA ---
    const CONFIG = {
        MENU: [
            { t: "Trang ch·ªß", l: "./", i: ICONS.home },
            { t: "Gi·ªõi thi·ªáu", l: "gioithieu.html", i: ICONS.doc },
            { 
                t: "D·ªãch v·ª•", l: "#", i: ICONS.tag,
                sub: [
                    {t: "B·∫£ng gi√° 2025", l: "banggia.html", i: ICONS.tag},
                    {t: "Thu√™ xe theo ng√†y", l: "ngay.html", i: ICONS.doc},
                    {t: "Thu√™ xe theo tu·∫ßn", l: "tuan.html", i: ICONS.doc},
                    {t: "Thu√™ xe theo th√°ng", l: "thang.html", i: ICONS.doc},
                    {t: "Th·ªß t·ª•c thu√™ xe", l: "thutuc.html", i: ICONS.doc},
                    {t: "Khuy·∫øn m√£i", l: "uudai.html", i: ICONS.tag},
                    {t: "Kinh nghi·ªám", l: "kinhnghiem.html", i: ICONS.doc},
                    {t: "M·∫°ng x√£ h·ªôi", l: "mangxahoi.html", i: ICONS.tag}
                ]
            },
            { 
                t: "ƒê·ªãa ƒëi·ªÉm", l: "#", i: ICONS.map,
                sub: [
                    {t: "Ho√†n Ki·∫øm", l: "hoankiem.html", i: ICONS.map},
                    {t: "Ph·ªë C·ªï", l: "phoco.html", i: ICONS.map},
                    {t: "T√¢y H·ªì", l: "tayho.html", i: ICONS.map},
                    {t: "Ba ƒê√¨nh", l: "badinh.html", i: ICONS.map},
                    {t: "C·∫ßu Gi·∫•y", l: "caugiay.html", i: ICONS.map},
                    {t: "ƒê·ªëng ƒêa", l: "dongda.html", i: ICONS.map},
                    {t: "Thanh Xu√¢n", l: "thanhxuan.html", i: ICONS.map},
                    {t: "Hai B√† Tr∆∞ng", l: "haibatrung.html", i: ICONS.map},
                    {t: "Long Bi√™n", l: "longbien.html", i: ICONS.map},
                    {t: "Ga H√† N·ªôi", l: "gahn.html", i: ICONS.map}
                ]
            },
            { t: "FAQ", l: "faq.html", i: ICONS.doc },
            {
                t: "Ch√≠nh s√°ch", l: "#", i: ICONS.doc,
                sub: [
                    { t: "Ch√≠nh s√°ch b·∫£o m·∫≠t", l: "chinhsach.html", i: ICONS.doc },
                    { t: "ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng", l: "dieukhoan.html", i: ICONS.doc }
                ]
            },
            { t: "Li√™n h·ªá", l: "lienhe.html", i: ICONS.mail }
        ]
    };
    
    // FEATURE 2: SEARCH LOGIC
    function toggleMobileSearch() {
        const drop = document.getElementById('mob-search-drop');
        drop.classList.toggle('active');
        if(drop.classList.contains('active')) {
            setTimeout(() => document.getElementById('search-mobile').focus(), 100);
        }
    }

    // FIXED: Changed event to 'keydown' for better compatibility
    function handleSearch(e, input) {
        if(e.key === 'Enter') {
            const val = input.value.toLowerCase();
            if(!val) return;
            
            // Simple logic: Find headings matching text
            const headings = document.querySelectorAll('h1, h2, h3, h4, .feature-card h3');
            let found = false;
            
            for(let h of headings) {
                if(h.textContent.toLowerCase().includes(val)) {
                    h.scrollIntoView({behavior: 'smooth', block: 'center'});
                    h.style.color = 'var(--primary)'; // Highlight
                    setTimeout(() => h.style.color = '', 2000);
                    found = true;
                    // Close mobile search if open
                    document.getElementById('mob-search-drop').classList.remove('active');
                    break;
                }
            }
            
            if(!found) {
                alert('Kh√¥ng t√¨m th·∫•y n·ªôi dung: ' + val);
            }
        }
    }

    const Render = {
        init() {
            this.nav();
            this.mobile();
            this.footer();
            this.calc();
            this.effects();
            this.statusWidget();
            this.setupPWA();
            this.ultraApp();
            this.setupAI();
            this.setupMatchmaker();
        },

        // --- CORE: FAKE "GEMINI" OFFLINE, KH√îNG C·∫¶N API ---
        async callGeminiWithRetry(prompt, systemInstruction, onLoading, onSuccess, onError) {
            try {
                onLoading();

                const pRaw = String(prompt || "");
                const sRaw = String(systemInstruction || "");
                const text = (pRaw + " " + sRaw).toLowerCase();
                
                const smartReply = motoAI_Upgrade(text);
                if (smartReply) {
                    setTimeout(() => onSuccess(smartReply), 600);
                    return;
                }

                const delay = 500 + Math.floor(Math.random() * 700);

                function wrap(msg) {
                    return msg.replace(/\s+/g, " ").trim();
                }

                let answer = "";

                // Logic AI (Simulated)
                if (/h√† giang|ha giang|sapa|sa pa|ƒëi xa|highway|mountain|ƒë√®o|ƒëi ƒë√®o/.test(text)) {
                    answer = wrap(
                        "ƒêi H√† Giang, Sa Pa ho·∫∑c cung ƒë√®o d√†i th√¨ anh n√™n ch·∫°y xe s·ªë ho·∫∑c XR150: m√°y kh·ªèe, phanh ƒë·∫ßm, leo d·ªëc an to√†n. " +
                        "N·∫øu ch·ªü ƒë·ªì nhi·ªÅu, ∆∞u ti√™n Wave / XR150, h·∫°n ch·∫ø xe ga y·∫øu phanh v√† nhanh n√≥ng m√°y."
                    );
                }
                else if (/ph·ªë c·ªï|pho co|old quarter|ho√†n ki·∫øm|hoan kiem|center|city center/.test(text)) {
                    answer = wrap(
                        "Ch·∫°y trong Ph·ªë C·ªï, Ho√†n Ki·∫øm th√¨ Vision ho·∫∑c Wave l√† h·ª£p l√Ω: xe nh·ªè g·ªçn, d·ªÖ lu·ªìn l√°ch, g·ª≠i kh√°ch s·∫°n c≈©ng ti·ªán. " +
                        "ƒêi 1‚Äì2 ng√†y ch∆°i quanh ph·ªë th√¨ ch·ªçn Vision nh√¨n l·ªãch s·ª±, Wave th√¨ si√™u ti·∫øt ki·ªám xƒÉng."
                    );
                }
                else if (/h·ªì t√¢y|ho tay|west lake|cafe|coffee|date|h·∫πn h√≤/.test(text)) {
                    answer = wrap(
                        "ƒêi ch∆°i H·ªì T√¢y, cafe, h·∫πn h√≤ th√¨ Vision ho·∫∑c Airblade l√† ƒë·∫πp: d√°ng xe g·ªçn, ng·ªìi 2 ng∆∞·ªùi tho·∫£i m√°i, m√°y √™m. " +
                        "N·∫øu th√≠ch √™m √°i d·ªÖ l√°i th√¨ Vision, c·∫ßn kh·ªèe m√°y h∆°n ch√∫t th√¨ Airblade 160."
                    );
                }
                else if (/ƒÉn g√¨|ƒÉn ·ªü ƒë√¢u|food|street food|ƒë·∫∑c s·∫£n|mon an|m√≥n ƒÉn|b√∫n ch·∫£|ph·ªü|bun cha|pho/.test(text)) {
                    answer = wrap(
                        "Khu Ph·ªë C·ªï anh th·ª≠ combo: s√°ng ph·ªü B√°t ƒê√†n / L√Ω Qu·ªëc S∆∞, tr∆∞a b√∫n ch·∫£ H√†ng Qu·∫°t ho·∫∑c ƒê·∫Øc Kim, t·ªëi bia / ƒë·ªì n∆∞·ªõng T·∫° Hi·ªán. " +
                        "ƒêi b·∫±ng xe m√°y th√¨ g·ª≠i xe ·ªü c√°c b√£i Tr·∫ßn Nh·∫≠t Du·∫≠t ho·∫∑c ven h·ªì Ho√†n Ki·∫øm r·ªìi ƒëi b·ªô v√†o cho ƒë·ª° ƒë√¥ng."
                    );
                }
                else if (/gi√°|bao nhi√™u|price|cost|bao nhieu|t·∫ßm bao nhi√™u|budget|ng√¢n s√°ch/.test(text)) {
                    answer = wrap(
                        "T·∫°m t√≠nh: xe s·ªë kho·∫£ng 120.000/ng√†y, xe ga Vision ~150.000‚Äì180.000/ng√†y, xe ga cao c·∫•p t·ª´ 230.000‚Äì250.000/ng√†y. " +
                        "Thu√™ nhi·ªÅu ng√†y ho·∫∑c thu√™ theo tu·∫ßn/th√°ng th√¨ gi√° m·ªÅm h∆°n, anh c√≥ th·ªÉ xem b·∫£ng gi√° tr√™n trang ho·∫∑c nh·∫Øn Zalo 081.665.9199 ƒë·ªÉ em ch·ªët chu·∫©n theo l·ªãch."
                    );
                }
                else {
                    answer = wrap(
                        "Em l√† tr·ª£ l√Ω Mr T√∫ AI. Anh cho em bi·∫øt: anh ƒëi ƒë√¢u, m·∫•y ng√†y, th√≠ch xe s·ªë hay xe ga, em g·ª£i √Ω lu√¥n m·∫´u xe + t·∫ßm gi√° h·ª£p l√Ω, th√™m v√†i g·ª£i √Ω qu√°n ƒÉn/ngh·ªâ cho ti·ªán cung ƒë∆∞·ªùng."
                    );
                }

                 if (/tr√¨nh ƒë·ªô l√°i|tay ƒëua l·ª•a|newbie|tay ga|c√¥n tay|xr150|vision|airblade|wave alpha/.test(text)) {
                      const destMatch = /ƒëi·ªÉm ƒë·∫øn[^:]*:\s*([^\.\n]+)/i.exec(pRaw) || [];
                      
                      let bike = "Honda Vision";
                      let reason = "nh·ªè g·ªçn, d·ªÖ l√°i, r·∫•t h·ª£p ƒëi ph·ªë v√† ng∆∞·ªùi m·ªõi.";
                      
                      if (/xa|leo n√∫i|h√† giang|sapa/i.test(destMatch[1] || "")) { bike = "Honda XR150"; reason = "leo ƒë√®o kho·∫ª."; }
                      
                      answer = `Xe ch√¢n √°i c·ªßa b·∫°n l√†: **${bike}**. L√Ω do: ${reason} N·∫øu c·∫ßn em gi·ªØ s·∫µn 1 xe, anh nh·∫Øn Zalo **081.665.9199** l√† em h·ªó tr·ª£ lu√¥n.`;
                 }

                setTimeout(() => {
                    onSuccess(answer);
                }, delay);
            } catch (err) {
                if (onError) onError(err.message || "Local AI error");
            }
        },
        
        setupAI() {
            const modal = document.getElementById('ai-modal');
            const overlay = document.getElementById('ai-overlay');
            const closeBtn = document.getElementById('ai-close');
            const chatBox = document.getElementById('ai-chat-box');
            const input = document.getElementById('ai-input');
            const sendBtn = document.getElementById('ai-send');
            
            const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
            
            window.AI_Guide = {
                open: () => {
                    modal.classList.add('active');
                    overlay.classList.add('active');
                    input.focus();
                }
            };

            const close = () => {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            };

            modal.addEventListener('keydown', (e) => {
                const isTabPressed = e.key === 'Tab' || e.keyCode === 9;
                if (e.key === 'Escape') close();
                if (!isTabPressed) return;
                
                const focusableContent = modal.querySelectorAll(focusableElements);
                if (!focusableContent || focusableContent.length === 0) return; 

                const firstFocusableElement = focusableContent[0];
                const lastFocusableElement = focusableContent[focusableContent.length - 1];

                if (e.shiftKey) { 
                    if (document.activeElement === firstFocusableElement) {
                        lastFocusableElement.focus();
                        e.preventDefault();
                    }
                } else { 
                    if (document.activeElement === lastFocusableElement) {
                        firstFocusableElement.focus();
                        e.preventDefault();
                    }
                }
            });

            closeBtn.addEventListener('click', close);
            overlay.addEventListener('click', close);

            const addMsg = (text, isUser = false) => {
                const div = document.createElement('div');
                div.className = `chat-msg ${isUser ? 'msg-user' : 'msg-bot'}`;
                
                if (isUser) {
                    div.textContent = text;
                } else {
                    const parts = text.split(/\*\*(.*?)\*\*/g);
                    parts.forEach((part, index) => {
                        if (index % 2 === 1) { 
                            const strong = document.createElement('strong');
                            strong.textContent = part;
                            div.appendChild(strong);
                        } else {
                            div.appendChild(document.createTextNode(part));
                        }
                    });
                }
                chatBox.appendChild(div);
                chatBox.scrollTop = chatBox.scrollHeight;
            };

            const showLoader = () => {
                const div = document.createElement('div');
                div.className = 'chat-msg msg-bot';
                div.id = 'ai-loader';
                const dots = document.createElement('div');
                dots.className = 'typing-dots';
                for(let i=0; i<3; i++) {
                    const dot = document.createElement('span');
                    dot.className = 'dot';
                    dots.appendChild(dot);
                }
                div.appendChild(dots);
                chatBox.appendChild(div);
                chatBox.scrollTop = chatBox.scrollHeight;
            };

            const removeLoader = () => {
                const loader = document.getElementById('ai-loader');
                if (loader) loader.remove();
            };

            const handleSend = () => {
                const text = input.value.trim();
                if (!text) return;
                addMsg(text, true);
                input.value = '';
                const systemPrompt = "B·∫°n l√† Mr T√∫, h∆∞·ªõng d·∫´n vi√™n H√† N·ªôi. Hotline Zalo l√† 081.665.9199. H√£y t∆∞ v·∫•n ng·∫Øn g·ªçn.";
                Render.callGeminiWithRetry(text, systemPrompt, showLoader, (response) => { removeLoader(); addMsg(response); }, (error) => { removeLoader(); addMsg("M·∫°ng ƒëang b·∫≠n, b·∫°n th·ª≠ l·∫°i ch√∫t n·ªØa nh√©! üòÖ"); });
            };

            sendBtn.addEventListener('click', handleSend);
            input.addEventListener('keydown', (e) => { if (e.key === 'Enter') handleSend(); });
        },

        setupMatchmaker() {
            const modal = document.getElementById('mm-modal');
            const overlay = document.getElementById('mm-overlay');
            const closeBtn = document.getElementById('mm-close');
            const submitBtn = document.getElementById('mm-submit');
            const resultBox = document.getElementById('mm-result');
            const resultText = document.getElementById('mm-result-text');

            window.AI_Matchmaker = {
                open: () => {
                    modal.classList.add('active');
                    overlay.classList.add('active');
                }
            };

            const close = () => {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            };
            
            window.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('active')) close();
            });

            closeBtn.addEventListener('click', close);
            overlay.addEventListener('click', close);

            submitBtn.addEventListener('click', () => {
                const exp = document.getElementById('mm-exp').options[document.getElementById('mm-exp').selectedIndex].text;
                const dest = document.getElementById('mm-dest').options[document.getElementById('mm-dest').selectedIndex].text;
                const height = document.getElementById('mm-height').options[document.getElementById('mm-height').selectedIndex].text;

                const userPrompt = `Ng∆∞·ªùi d√πng c√≥ th√¥ng s·ªë sau: Tr√¨nh ƒë·ªô l√°i: ${exp}. ƒêi·ªÉm ƒë·∫øn: ${dest}. Chi·ªÅu cao: ${height}.`;
                const systemPrompt = "T∆∞ v·∫•n xe m√°y. Nh·∫Øn Zalo 081.665.9199.";

                resultBox.style.display = 'block';
                resultText.textContent = "ƒêang ph√¢n t√≠ch...";

                Render.callGeminiWithRetry(
                    userPrompt,
                    systemPrompt,
                    () => {}, 
                    (text) => {
                        resultText.innerHTML = ''; 
                        const parts = text.split(/\*\*(.*?)\*\*/g);
                        parts.forEach((part, index) => {
                            if (index % 2 === 1) {
                                const strong = document.createElement('strong');
                                strong.textContent = part;
                                resultText.appendChild(strong);
                            } else {
                                resultText.appendChild(document.createTextNode(part));
                            }
                        });
                    },
                    (error) => {
                        resultText.textContent = "H·ªá th·ªëng ƒëang b·∫≠n, nh∆∞ng m√¨nh ƒëo√°n l√† Honda Vision s·∫Ω h·ª£p v·ªõi m·ªçi ng∆∞·ªùi! üòÇ";
                    }
                );
            });
        },

        // --- ULTRA APP LOGIC (Updated with Backtop logic) ---
        ultraApp() {
            const toggle = document.getElementById('ultra-toggle');
            const wrapper = document.getElementById('ultra-fab');
            const icon = toggle.querySelector('i');
            const backTopBtn = document.getElementById('u-backtop-btn');

            if (!toggle || !wrapper) return;

            toggle.addEventListener('click', (e) => {
                e.stopPropagation();
                wrapper.classList.toggle('active');
                
                if (wrapper.classList.contains('active')) {
                    icon.classList.remove('fa-bolt');
                    icon.classList.add('fa-xmark');
                } else {
                    icon.classList.remove('fa-xmark');
                    icon.classList.add('fa-bolt');
                }
            });

            document.addEventListener('click', (e) => {
                if (wrapper.classList.contains('active') && !wrapper.contains(e.target)) {
                    wrapper.classList.remove('active');
                    icon.classList.remove('fa-xmark');
                    icon.classList.add('fa-bolt');
                }
            });

            // Feature 1: Logic to hide/show backtop button based on scroll
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backTopBtn.classList.add('show');
                } else {
                    backTopBtn.classList.remove('show');
                }
            });

            let shakeCount = 0;
            const maxShakes = 5;

            const shakeInterval = setInterval(() => {
                if (document.hidden) return; 
                
                if (shakeCount >= maxShakes) {
                    clearInterval(shakeInterval);
                    return;
                }

                if (!wrapper.classList.contains('active')) {
                    toggle.classList.add('shaking');
                    setTimeout(() => toggle.classList.remove('shaking'), 500);
                    shakeCount++;
                }
            }, 5000);
        },

        nav() {
            const dNav = document.getElementById('desktop-menu');
            if (!dNav) return;
            dNav.innerHTML = ''; 

            CONFIG.MENU.forEach(item => {
                const a = document.createElement('a');
                a.href = item.l || (item.sub && item.sub[0] && item.sub[0].l) || '#';
                a.className = 'nav-link';
                a.textContent = item.t;
                dNav.appendChild(a);
            });
        },

        mobile() {
            const mList = document.getElementById('mobile-list');
            const overlay = document.getElementById('overlay');
            const menu = document.getElementById('mobile-menu');
            const btn = document.getElementById('menu-btn');

            if (!mList || !overlay || !menu || !btn) return;
            
            mList.innerHTML = ''; 

            const statusDiv = document.createElement('div');
            statusDiv.style.cssText = "margin-bottom:24px; padding:12px; background:var(--muted-bg); border-radius:16px; display:flex; align-items:center; gap:10px;";
            
            const dot = document.createElement('div');
            dot.id = 'mob-status-dot';
            dot.className = 'status-dot';
            dot.style.cssText = 'width:10px; height:10px;';
            
            const text = document.createElement('span');
            text.id = 'mob-status-text';
            text.style.cssText = 'font-weight:700; font-size:0.9rem;';
            text.textContent = 'Ki·ªÉm tra gi·ªù...';

            statusDiv.appendChild(dot);
            statusDiv.appendChild(text);
            mList.appendChild(statusDiv);

            CONFIG.MENU.forEach(i => {
                if (i.sub) {
                    const group = document.createElement('div');
                    group.style.marginBottom = '16px';
                    
                    const titleDiv = document.createElement('div');
                    titleDiv.style.cssText = "display:flex;align-items:center;margin-bottom:12px;color:var(--text-main);";
                    
                    const iconDiv = document.createElement('div');
                    iconDiv.className = 'menu-icon';
                    iconDiv.style.color = 'var(--text-main)';
                    iconDiv.innerHTML = i.i; 
                    
                    const titleText = document.createElement('div');
                    titleText.style.cssText = "font-weight:800; font-size:1.15rem;";
                    titleText.textContent = i.t;
                    
                    titleDiv.appendChild(iconDiv);
                    titleDiv.appendChild(titleText);
                    group.appendChild(titleDiv);

                    const grid = document.createElement('div');
                    grid.style.cssText = "display:grid; grid-template-columns:1fr 1fr; gap:10px; padding-left:10px;";

                    i.sub.forEach(s => {
                        const subLink = document.createElement('a');
                        subLink.href = s.l;
                        subLink.style.cssText = "display:flex;align-items:center;gap:8px;padding:12px; background:var(--muted-bg); border-radius:14px; font-size:0.85rem; color:var(--text-sub); font-weight:600; text-decoration:none;";
                        
                        const sIcon = document.createElement('span');
                        sIcon.style.cssText = "color:var(--primary); transform:scale(0.8);";
                        sIcon.innerHTML = s.i; 
                        
                        subLink.appendChild(sIcon);
                        subLink.appendChild(document.createTextNode(s.t));
                        
                        grid.appendChild(subLink);
                    });
                    
                    group.appendChild(grid);
                    mList.appendChild(group);
                } else {
                    const link = document.createElement('a');
                    link.href = i.l;
                    link.style.cssText = "display:flex; align-items:center; gap:12px; font-size:1.15rem; font-weight:700; padding:16px 0; border-bottom:1px solid var(--glass-border); color:var(--text-main); text-decoration:none;";
                    
                    const iconDiv = document.createElement('div');
                    iconDiv.className = 'menu-icon';
                    iconDiv.innerHTML = i.i;
                    
                    link.appendChild(iconDiv);
                    link.appendChild(document.createTextNode(i.t));
                    mList.appendChild(link);
                }
            });

            const toggle = () => {
                menu.classList.toggle('active');
                overlay.classList.toggle('active');
            };
            
            btn.addEventListener('click', toggle);
            overlay.addEventListener('click', toggle);
        },

        footer() {
            const grid = document.getElementById('footer-grid');
            if (!grid) return;
            grid.innerHTML = ''; 

            const iconMapStr = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></div>`;
            const iconDocStr = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg></div>`;

            const createCol = (title, items, iconStr) => {
                const col = document.createElement('div');
                col.className = 'f-col';
                
                const h4 = document.createElement('h4');
                const h4Icon = document.createElement('span');
                h4Icon.className = 'material-symbols-rounded';
                h4Icon.textContent = 'map';
                h4.appendChild(h4Icon);
                h4.appendChild(document.createTextNode(' ' + title));
                col.appendChild(h4);

                items.forEach(item => {
                    const a = document.createElement('a');
                    a.href = item.l;
                    a.className = 'f-link';
                    
                    const iconWrapper = document.createElement('span');
                    iconWrapper.innerHTML = iconStr;
                    
                    a.appendChild(iconWrapper);
                    a.appendChild(document.createTextNode(' ' + item.t));
                    col.appendChild(a);
                });
                return col;
            };

            const col1 = document.createElement('div');
            col1.className = 'f-col';
            col1.innerHTML = `<h4><span class="material-symbols-rounded">info</span> V·ªÅ Mr T√∫</h4>
                <a href="gioithieu.html" class="f-link">${iconDocStr} Gi·ªõi thi·ªáu</a>
                <a href="chinhsach.html" class="f-link">${iconDocStr} Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                <a href="dieukhoan.html" class="f-link">${iconDocStr} ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
                <a href="lienhe.html" class="f-link">${iconDocStr} Li√™n h·ªá</a>
                <div style="margin-top:24px; display:flex; gap:12px; flex-wrap:wrap;">
                    <a href="https://m.facebook.com/chothuexemayphocohanoi/" target="_blank" rel="noopener noreferrer" class="social-btn social-fb" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/chothuexemayphoco" target="_blank" rel="noopener noreferrer" class="social-btn social-ins" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
                    <a href="https://www.pinterest.com/chothuexemayphoco/" target="_blank" rel="noopener noreferrer" class="social-btn social-pin" aria-label="Pinterest"><i class="fa-brands fa-pinterest"></i></a>
                    <a href="https://about.me/chothuexemayphoco" target="_blank" rel="noopener noreferrer" class="social-btn social-me" aria-label="About Me"><i class="fa-solid fa-address-card"></i></a>
                    <a href="https://www.tiktok.com/@thuexemayphoco" target="_blank" rel="noopener noreferrer" class="social-btn social-tik" aria-label="TikTok"><i class="fa-brands fa-tiktok"></i></a>
                </div>`;
            grid.appendChild(col1);

            const services = CONFIG.MENU.find(x => x.t === 'D·ªãch v·ª•')?.sub || [];
            const col2 = document.createElement('div');
            col2.className = 'f-col';
            col2.innerHTML = `<h4><span class="material-symbols-rounded">settings</span> D·ªãch v·ª•</h4>`;
            services.forEach(s => {
                const a = document.createElement('a');
                a.href = s.l; a.className = 'f-link';
                const span = document.createElement('span');
                span.innerHTML = iconDocStr;
                a.appendChild(span);
                a.appendChild(document.createTextNode(' ' + s.t));
                col2.appendChild(a);
            });
            grid.appendChild(col2);

            const locations = CONFIG.MENU.find(x => x.t === 'ƒê·ªãa ƒëi·ªÉm')?.sub || [];
            const halfLoc = Math.ceil(locations.length / 2);
            
            grid.appendChild(createCol('Khu v·ª±c 1', locations.slice(0, halfLoc), iconMapStr));
            grid.appendChild(createCol('Khu v·ª±c 2', locations.slice(halfLoc), iconMapStr));
        },

        statusWidget() {
            const checkTime = () => {
                const now = new Date();
                const hours = now.getHours();
                
                const isOpen = hours >= 8 && hours < 17;
                
                const updateUI = (dotId, textId) => {
                    const dot = document.getElementById(dotId);
                    const text = document.getElementById(textId);
                    if (!dot || !text) return;

                    if (isOpen) {
                         dot.className = 'status-dot open';
                         text.innerText = 'C·ª≠a h√†ng ƒëang m·ªü (8h-17h)';
                         text.className = 'status-text text-open';
                    } else {
                         dot.className = 'status-dot online';
                         text.innerText = 'H·ªó tr·ª£ Online 24/7';
                         text.className = 'status-text text-online';
                    }
                };
                
                updateUI('status-dot', 'status-text');
                updateUI('mob-status-dot', 'mob-status-text');
            };
            checkTime();
            setInterval(checkTime, 60000);
        },

        calc() {
            const type = document.getElementById('c-type');
            const days = document.getElementById('c-days');
            const total = document.getElementById('c-total');

            const run = () => {
                let d = parseInt(days.value, 10) || 1;
                if (d < 1) d = 1;
                const price = (parseInt(type.value, 10) || 0) * d;
                total.innerText = price.toLocaleString('vi-VN') + 'ƒë';
            };
            
            if (type && days && total) {
                type.addEventListener('change', run);
                days.addEventListener('input', run);
                run();
            }
        },

        effects() {
            const header = document.getElementById('header');
            if (header) {
                window.addEventListener('scroll', () => {
                    header.classList.toggle('scrolled', window.scrollY > 50);
                });
            }

            const tBtn = document.getElementById('theme-btn');
            if (tBtn) {
                const setThemeIcon = (theme) => {
                    tBtn.innerHTML = theme === 'dark' 
                        ? '<span class="material-symbols-rounded">light_mode</span>' 
                        : '<span class="material-symbols-rounded">dark_mode</span>';
                };

                const current = document.documentElement.getAttribute('data-theme') || 'dark';
                setThemeIcon(current);

                tBtn.addEventListener('click', () => {
                    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
                    const newTheme = isDark ? 'light' : 'dark';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    setThemeIcon(newTheme);
                });
            }

            const obs = new IntersectionObserver((entries) => {
                entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
            }, {threshold: 0.1});
            
            setTimeout(() => {
                document.querySelectorAll('.fade-in-up').forEach(el => obs.observe(el));
            }, 500);

            const tiltBox = document.getElementById('tilt-box');
            if (tiltBox) {
                tiltBox.addEventListener('mousemove', (e) => {
                    if (window.innerWidth < 1024) return;
                    const rect = tiltBox.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    const rotateX = -1 * y / 20;
                    const rotateY = x / 20;
                    
                    requestAnimationFrame(() => {
                        tiltBox.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                    });
                });

                tiltBox.addEventListener('mouseleave', () => {
                    tiltBox.style.transform = 'perspective(1000px) rotateY(-5deg) rotateX(5deg)';
                });
            }
        },

        setupPWA() {
            const manifest = {
                name: "Mr Tu",
                short_name: "NT Ultra",
                display: "standalone",
                start_url: "./",
                theme_color: "#000000",
                background_color: "#000000",
                icons: [{
                    src: "https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0462.jpeg",
                    sizes: "192x192",
                    type: "image/jpeg"
                }]
            };
            const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
            const link = document.createElement('link');
            link.rel = 'manifest';
            const url = URL.createObjectURL(blob);
            link.href = url;
            document.head.appendChild(link);
            
            setTimeout(() => URL.revokeObjectURL(url), 60000);
        }
    };

    document.addEventListener('DOMContentLoaded', () => Render.init());
</script>
<script src="https://thuexemayhanoi.github.io/shop/motoai_v40_bm25plus_final.js" defer></script>
</body>
</html>
