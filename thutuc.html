<!DOCTYPE html>
<html lang="vi" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

<!-- SEO ULTRA MODE: OPTIMIZED META TAGS -->
<title>Thủ Tục Thuê Xe Máy Phố Cổ 2025 | Đơn Giản, Không Cọc - Mr Tú</title>
<meta name="description" content="Thủ tục thuê xe máy Phố Cổ tại Mr Tú cực đơn giản: Chỉ cần CCCD/Passport, không lo đặt cọc, 5 phút nhận xe ngay. Xem hướng dẫn chi tiết & đặt xe 24/7!">
<meta name="keywords" content="thủ tục thuê xe máy, thủ tục thuê xe máy phố cổ, thuê xe máy không cọc, giấy tờ thuê xe máy hà nội, quy trình thuê xe máy, hợp đồng thuê xe máy, Mr Tú">
<meta name="author" content="Mr Tú">
<meta name="theme-color" content="#000000">
<meta name="robots" content="index, follow">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="article">
<meta property="og:url" content="https://thuexemayhanoi.github.io/shop/thutuc.html">
<meta property="og:title" content="Thủ Tục Thuê Xe Máy Phố Cổ | Nhanh Gọn - Minh Bạch - Mr Tú">
<meta property="og:description" content="Hướng dẫn chi tiết thủ tục thuê xe máy tại Hà Nội 2025. Không giữ giấy tờ gốc, hỗ trợ khách du lịch và người nước ngoài tối đa.">
<meta property="og:image" content="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0618.jpeg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://thuexemayhanoi.github.io/shop/thutuc.html">
<meta property="twitter:title" content="Thủ Tục Thuê Xe Máy Hà Nội - Mr Tú">
<meta property="twitter:description" content="Thủ tục 5 phút nhận xe. Không cọc, không giữ giấy tờ quan trọng.">
<meta property="twitter:image" content="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0618.jpeg">

<!-- PWA iOS Config -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Mr Tú">

<!-- LOCAL GEO -->
<meta name="geo.region" content="VN-HN">
<meta name="geo.placename" content="Phố Cổ Hoàn Kiếm, Hà Nội">
<meta name="geo.position" content="21.0388606;105.8535709">
<meta name="ICBM" content="21.0388606, 105.8535709">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" as="style">
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" />
<!-- FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>

<style>
    /* --- 1. DESIGN SYSTEM: WCAG 2.1 COMPLIANT --- */
    :root {
        --primary: #FF6B00;
        --primary-dark: #cc5500;
        --text-on-primary: #fff; 
        --secondary: #FFB800;
        
        --accent-green: #006837;
        --accent-blue: #0056D2;
        --accent-purple: #7425C9;
        --accent-yellow: #995700;
        --accent-red: #C41C00;

        --bg-body: #F2F2F7;
        --surface: #FFFFFF;
        --glass-material: rgba(255, 255, 255, 0.9);
        --glass-border: rgba(0, 0, 0, 0.1);
        --muted-bg: rgba(0, 0, 0, 0.05);

        --text-main: #111111;
        --text-sub: #555555;
        
        --shadow-3d: 0 10px 30px -10px rgba(0,0,0,0.15);
        --btn-shadow: 0 6px 0 var(--primary-dark), 0 15px 25px rgba(255, 107, 0, 0.2);
        --btn-active: 0 0 0 var(--primary-dark), inset 0 2px 5px rgba(0,0,0,0.1);
        
        --ease-apple: cubic-bezier(0.25, 1, 0.5, 1);
        --font-stack: 'Plus Jakarta Sans', system-ui, -apple-system, sans-serif;
    }

    /* DARK THEME OVERRIDES */
    [data-theme="dark"] {
        --bg-body: #050505;
        --surface: #1C1C1E;
        --glass-material: rgba(30, 30, 32, 0.85);
        --glass-border: rgba(255, 255, 255, 0.15);
        --muted-bg: rgba(255, 255, 255, 0.08);

        --accent-green: #34C759;
        --accent-blue: #409CFF;
        --accent-purple: #BF5AF2;
        --accent-yellow: #FFD60A;
        --accent-red: #FF453A;

        --text-main: #F5F5F7;
        --text-sub: #AEAEB2;

        --shadow-3d: 0 20px 50px -10px rgba(0,0,0,0.7);
        --btn-shadow: 0 6px 0 #b34700, 0 15px 30px rgba(255, 107, 0, 0.3);
        --text-on-primary: #fff; 
    }

    /* --- 2. RESET & BASE --- */
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
    
    html { 
        scroll-behavior: smooth; 
        font-size: 100%; 
        -webkit-font-smoothing: antialiased; 
        -moz-osx-font-smoothing: grayscale; 
        height: 100%;
    }
    
    body {
        margin: 0; padding: 0;
        font-family: var(--font-stack);
        background: var(--bg-body);
        color: var(--text-main);
        overflow-x: hidden;
        transition: background 0.4s var(--ease-apple), color 0.3s;
        padding-bottom: 40px; 
        line-height: 1.5;
    }

    input, button, select, textarea { font-family: inherit; }

    a { text-decoration: none; color: inherit; }
    ul { list-style: none; padding: 0; margin: 0; }
    
    p { line-height: 1.7; margin-bottom: 1.5rem; font-size: 1.05rem; color: var(--text-sub); font-weight: 500; }
    h2 { font-size: clamp(1.8rem, 4vw, 2.2rem); font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -0.5px; color: var(--text-main); margin-top: 3rem; }
    h3 { font-size: 1.3rem; font-weight: 700; margin-bottom: 1rem; color: var(--primary); margin-top: 2rem;}
    strong { color: var(--text-main); font-weight: 700; }

    /* SEO Internal Link Style */
    a.seo-link { color: var(--primary); text-decoration: underline; text-decoration-color: rgba(255, 107, 0, 0.3); text-underline-offset: 4px; transition: 0.2s; }
    a.seo-link:hover { text-decoration-color: var(--primary); }

    /* --- NEW FIX: Table Scroll Wrapper --- */
    .table-wrapper {
        width: 100%;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch; /* Smooth scroll on iOS */
        margin-bottom: 2rem;
        background: var(--surface);
        border-radius: 16px;
        box-shadow: var(--shadow-3d);
        border: 1px solid var(--glass-border);
    }

    /* Adjusted Table Styles */
    .price-table { 
        width: 100%; 
        min-width: 600px; /* Forces scroll on mobile if screen is small */
        border-collapse: collapse; 
        overflow: hidden;
    }
    
    .price-table th, .price-table td { padding: 16px; text-align: left; border-bottom: 1px solid var(--glass-border); color: var(--text-main); white-space: nowrap; }
    .price-table th { background: var(--muted-bg); font-weight: 800; color: var(--primary); text-transform: uppercase; font-size: 0.85rem; letter-spacing: 1px; position: sticky; left: 0; }
    .price-table tr:last-child td { border-bottom: none; }
    .price-table tr:hover td { background: var(--muted-bg); }
    .price-val { font-weight: 800; color: var(--accent-green); }

    /* --- 3. UI COMPONENTS --- */
    .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    
    .glass-panel {
        background: var(--glass-material);
        backdrop-filter: blur(25px) saturate(180%);
        -webkit-backdrop-filter: blur(25px) saturate(180%);
        border: 1px solid var(--glass-border);
        box-shadow: 0 8px 32px rgba(0,0,0,0.05);
    }
    
    @supports not (backdrop-filter: blur(10px)) {
        .glass-panel {
            background: var(--surface);
            opacity: 0.98;
        }
        [data-theme="dark"] .glass-panel {
            background: #1c1c1ef2; 
        }
    }

    @media (prefers-reduced-motion: reduce) {
        *, ::before, ::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }

    .btn-3d {
        position: relative;
        border: none;
        background: linear-gradient(145deg, var(--primary), #FF8800);
        color: var(--text-on-primary) !important; 
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        padding: 1rem 1.6rem;
        border-radius: 24px;
        cursor: pointer;
        transition: transform 0.1s, box-shadow 0.1s;
        box-shadow: var(--btn-shadow);
        display: inline-flex; align-items: center; justify-content: center; gap: 10px;
        border-top: 1px solid rgba(255,255,255,0.3);
        font-size: 1rem;
    }
    .btn-3d:active { transform: translateY(6px); box-shadow: var(--btn-active); }

    .fade-in-up { opacity: 0; transform: translateY(40px); transition: all 0.8s var(--ease-apple); }
    .fade-in-up.visible { opacity: 1; transform: translateY(0); }

    /* --- 4. HEADER --- */
    .header {
        position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
        padding: 12px 0; transition: 0.3s;
    }
    .header.scrolled { padding: 8px 0; }
    
    .nav-bar {
        display: flex; justify-content: space-between; align-items: center;
        padding: 8px 12px; border-radius: 100px;
        transition: 0.3s; box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }
    
    .header-left { display: flex; align-items: center; gap: 12px; }

    .logo { display: flex; align-items: center; gap: 10px; }
    .logo-img {
        width: 44px; height: 44px; border-radius: 50%;
        border: 2px solid var(--primary); padding: 2px;
        animation: spin 12s linear infinite;
        background: var(--surface);
    }
    @media (prefers-reduced-motion: reduce) { .logo-img { animation: none; } }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    /* LOGO TITLE CHANGED TO DIV FOR SEO (Since Hero has H1) */
    .logo-title { font-size: 1.1rem; font-weight: 800; margin: 0; line-height: 1; display: block; color: var(--text-main); }
    .logo-text span { font-size: 0.75rem; font-weight: 600; color: var(--text-sub); letter-spacing: 1px; display: block; }

    .status-widget {
        display: flex; align-items: center; gap: 8px;
        padding: 6px 14px; border-radius: 20px;
        background: var(--muted-bg);
        border: 1px solid var(--glass-border);
        backdrop-filter: blur(10px);
    }
    .status-dot {
        width: 10px; height: 10px; border-radius: 50%;
        background: var(--accent-red);
        box-shadow: 0 0 8px var(--accent-red);
        transition: 0.3s;
    }
    .status-dot.open { background: var(--accent-green); box-shadow: 0 0 8px var(--accent-green); }
    .status-dot.online { background: var(--secondary); box-shadow: 0 0 8px var(--secondary); } 
    
    .text-open { color: var(--accent-green) !important; }
    .text-closed { color: var(--accent-red) !important; }
    .text-online { color: var(--secondary) !important; }
    
    .status-text { font-size: 0.75rem; font-weight: 700; color: var(--text-main); white-space: nowrap; }

    .desktop-nav { display: flex; gap: 4px; }
    .nav-link {
        padding: 8px 16px; border-radius: 20px; font-size: 0.95rem; font-weight: 600;
        color: var(--text-sub); transition: 0.2s;
        display: flex; align-items: center; gap: 6px;
    }
    .nav-link:hover { color: var(--primary); background: var(--muted-bg); }
    
    .header-actions { display: flex; gap: 8px; align-items: center;}
    .action-btn {
        width: 40px; height: 40px; border-radius: 50%; border: none;
        background: var(--muted-bg); color: var(--text-main);
        display: flex; align-items: center; justify-content: center;
        cursor: pointer; transition: 0.3s;
    }
    .action-btn:hover { background: var(--primary); color: var(--text-on-primary); transform: rotate(15deg); }
    
    .menu-toggle { display: none; }

    /* SEARCH BAR */
    .search-container-desktop {
        position: relative; margin-right: 10px; display: flex; align-items: center;
    }
    .search-input {
        background: var(--muted-bg); border: 1px solid var(--glass-border); color: var(--text-main);
        border-radius: 20px; padding: 8px 16px 8px 36px; font-size: 0.9rem; width: 180px;
        transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1); outline: none;
    }
    .search-input:focus {
        width: 240px; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(255, 107, 0, 0.15); background: var(--surface);
    }
    .search-icon-inside {
        position: absolute; left: 12px; color: var(--text-sub); font-size: 16px; pointer-events: none; transition: 0.3s;
    }
    .search-input:focus + .search-icon-inside { color: var(--primary); }

    .mobile-search-btn { display: none; }
    .mobile-search-dropdown {
        position: absolute; top: 110%; left: 10px; right: 10px;
        background: var(--glass-material); backdrop-filter: blur(25px);
        padding: 12px; border-radius: 16px; border: 1px solid var(--glass-border);
        box-shadow: 0 10px 30px rgba(0,0,0,0.2); display: none;
        animation: slideDownSearch 0.3s ease; z-index: 999;
    }
    .mobile-search-dropdown.active { display: block; }
    @keyframes slideDownSearch { from {opacity:0; transform:translateY(-10px);} to {opacity:1; transform:translateY(0);} }
    .mobile-search-input {
        width: 100%; padding: 10px 40px 10px 16px; border-radius: 12px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main); font-size: 1rem;
    }
    .mobile-search-close {
        position: absolute; right: 12px; top: 50%; transform: translateY(-50%);
        color: var(--text-sub); font-size: 18px; cursor: pointer; background: transparent; border: none; padding: 4px;
    }

    /* --- 5. HERO SECTION --- */
    .hero {
        min-height: 100vh; padding-top: 120px; padding-bottom: 60px;
        display: flex; align-items: center; position: relative; overflow: hidden;
    }
    .hero-glow {
        position: absolute; width: 90vw; height: 90vw;
        background: radial-gradient(circle, rgba(255, 107, 0, 0.3) 0%, transparent 65%);
        top: -30%; right: -30%; filter: blur(100px); opacity: 0.6; z-index: -1;
        animation: float 10s ease-in-out infinite alternate;
    }
    @keyframes float { from {transform: translate(0,0);} to {transform: translate(-40px, 50px);} }

    .hero-grid { display: grid; grid-template-columns: 1.2fr 1fr; gap: 60px; align-items: center; }

    .hero-badge {
        display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px;
        border-radius: 100px; background: rgba(255, 107, 0, 0.1); color: var(--primary);
        font-weight: 700; font-size: 0.85rem; border: 1px solid rgba(255, 107, 0, 0.3);
        margin-bottom: 24px; box-shadow: 0 4px 20px rgba(255,107,0,0.1);
    }
    .hero-title {
        font-size: clamp(2.5rem, 5vw, 4rem);
        line-height: 1.05; font-weight: 800;
        margin-bottom: 24px; letter-spacing: -1.5px;
        color: var(--text-main);
    }
    .text-highlight {
        background: linear-gradient(135deg, var(--primary) 20%, var(--secondary) 100%);
        -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }

    /* MINI APPS */
    .mini-apps { display: grid; grid-template-columns: repeat(6, 1fr); gap: 10px; margin-top: 40px; }
    .app-item {
        display: flex; flex-direction: column; align-items: center; gap: 10px;
        cursor: pointer; transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .app-item:hover { transform: translateY(-12px) scale(1.05); }
    
    .app-icon {
        width: 68px; height: 68px; border-radius: 22px;
        background: var(--glass-material); border: 1px solid var(--glass-border);
        display: flex; align-items: center; justify-content: center;
        font-size: 26px; color: var(--primary); 
        box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        position: relative; overflow: hidden;
    }
    
    .app-item[data-accent="green"] .app-icon { color: var(--accent-green); }
    .app-item[data-accent="blue"] .app-icon { color: var(--accent-blue); }
    .app-item[data-accent="yellow"] .app-icon { color: var(--accent-yellow); }
    .app-item[data-accent="purple"] .app-icon { color: var(--accent-purple); }
    /* AI Styling */
    .app-item[data-accent="ai"] .app-icon { 
        background: linear-gradient(135deg, #1A1A1A, #000); 
        color: #fff;
        border: 1px solid rgba(255, 255, 255, 0.2);
    }
    .app-item[data-accent="ai"] .app-icon i {
        background: linear-gradient(to right, #4facfe 0%, #00f2fe 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-size: 28px;
    }
    /* Heart/Matchmaker Styling */
    .app-item[data-accent="love"] .app-icon { 
        background: linear-gradient(135deg, #fff0f0, #ffe6e6); 
        color: #ff3366;
    }

    .app-icon::after {
        content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
        background: linear-gradient(45deg, transparent, rgba(255,255,255,0.4), transparent);
        transform: rotate(45deg) translateY(-100%); transition: 0.5s;
    }
    .app-item:hover .app-icon::after { transform: rotate(45deg) translateY(100%); }
    .app-label { font-size: 0.75rem; font-weight: 600; color: var(--text-main); text-align: center; line-height: 1.2; }

    /* Calculator */
    .calc-box {
        padding: 32px; border-radius: 36px;
        transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
        box-shadow: var(--shadow-3d); transition: transform 0.1s linear; 
        border-top: 1px solid rgba(255,255,255,0.3);
    }
    
    .form-group { margin-bottom: 20px; }
    .form-label { font-size: 0.9rem; font-weight: 700; color: var(--text-sub); margin-bottom: 8px; display: block; }
    .form-input {
        width: 100%; padding: 1rem; border-radius: 18px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main); font-size: 1rem; font-weight: 600;
        transition: 0.3s;
    }
    .form-input:focus { background: var(--surface); border-color: var(--primary); box-shadow: 0 0 0 4px rgba(255, 107, 0, 0.2); }

    /* --- 6. SECTIONS --- */
    .section { padding: 80px 0; }
    .section-bg { background: var(--muted-bg); }
    
    .content-block { max-width: 860px; margin: 0 auto; }
    .content-block ul { padding-left: 20px; list-style: disc; color: var(--text-sub); margin-bottom: 20px; }
    .content-block li { margin-bottom: 10px; }
    .content-block p { text-align: justify; }

    /* --- 7. FOOTER --- */
    .footer { margin-top: 40px; }
    .footer-box { padding: 70px 50px; border-radius: 48px; position: relative; overflow: hidden; }
    .footer-bg-glow {
        position: absolute; bottom: -50%; left: 50%; transform: translateX(-50%);
        width: 120%; height: 120%; background: radial-gradient(circle, var(--primary) 0%, transparent 60%);
        opacity: 0.08; pointer-events: none;
    }
    
    .footer-grid { display: grid; gap: 50px; z-index: 1; position: relative; grid-template-columns: repeat(4, 1fr); }
    
    .f-col h4 {
        font-size: 1.2rem; font-weight: 800; margin-bottom: 24px; color: var(--text-main);
        display: flex; align-items: center; gap: 10px;
    }
    
    .f-link {
        display: flex; align-items: center; gap: 12px; margin-bottom: 16px;
        color: var(--text-sub); font-weight: 500; transition: 0.3s; font-size: 1rem;
    }
    .f-link:hover { color: var(--primary); transform: translateX(8px); }
    
    .f-svg-box {
        width: 32px; height: 32px; border-radius: 10px;
        background: var(--muted-bg); border: 1px solid var(--glass-border);
        display: flex; align-items: center; justify-content: center; color: var(--text-main);
        transition: 0.3s; flex-shrink: 0;
    }
    .f-link:hover .f-svg-box { background: var(--primary); color: var(--text-on-primary); border-color: var(--primary); }

    .footer-contact-info {
        text-align: center; color: var(--text-sub); font-size: 0.95rem;
        display: flex; flex-direction: column; gap: 8px; align-items: center;
        margin-bottom: 16px;
    }
    .fc-item { margin: 0; display: flex; align-items: center; gap: 8px; justify-content: center; }
    .fc-row { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
    
    @media (max-width: 768px) {
        .fc-row { flex-direction: column; gap: 8px; }
    }

    .social-btn {
        width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
        background: var(--muted-bg); color: var(--text-main); border: 1px solid var(--glass-border);
        font-size: 16px; transition: 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    .social-btn:hover { transform: translateY(-5px); color: #fff; border-color: transparent; }
    
    .social-fb:hover { background: #1877F2; }
    .social-ins:hover { background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%); }
    .social-pin:hover { background: #BD081C; }
    .social-me:hover { background: #00A98F; }
    .social-tik:hover { background: #000000; }

    /* --- 8. ULTRA APP MINI --- */
    .ultra-fab-wrapper {
        position: fixed; bottom: 30px; left: 20px; z-index: 999;
        display: flex; flex-direction: column-reverse; align-items: center; gap: 12px;
    }

    .ultra-main-btn {
        width: 60px; height: 60px; border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), #FF4500);
        color: #fff; border: none;
        display: flex; align-items: center; justify-content: center;
        font-size: 26px; cursor: pointer;
        box-shadow: 0 8px 30px rgba(255, 107, 0, 0.4);
        position: relative; z-index: 2;
        transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        animation: ultra-glow 2s infinite;
    }
    
    @keyframes ultra-glow {
        0% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0.7); transform: scale(1); }
        50% { transform: scale(1.05); }
        70% { box-shadow: 0 0 0 15px rgba(255, 107, 0, 0); }
        100% { box-shadow: 0 0 0 0 rgba(255, 107, 0, 0); transform: scale(1); }
    }
    
    @keyframes ultra-shake {
        0%, 100% { transform: rotate(0deg); }
        25% { transform: rotate(-10deg); }
        75% { transform: rotate(10deg); }
    }
    .ultra-main-btn.shaking { animation: ultra-shake 0.5s ease-in-out; }

    .ultra-main-btn i { transition: 0.3s; }
    .ultra-fab-wrapper.active .ultra-main-btn {
        transform: rotate(45deg); background: #333; box-shadow: 0 8px 30px rgba(0,0,0,0.3); animation: none;
    }

    .ultra-actions {
        position: absolute; bottom: 70px; left: 0; width: 60px;
        display: flex; flex-direction: column-reverse; gap: 12px; pointer-events: none;
    }

    .ultra-sub-btn {
        width: 50px; height: 50px; border-radius: 18px;
        background: var(--glass-material); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
        border: 1px solid var(--glass-border); color: var(--text-main);
        display: flex; align-items: center; justify-content: center; font-size: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1); cursor: pointer;
        opacity: 0; transform: translateY(20px) scale(0.8);
        transition: 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        margin: 0 auto; text-decoration: none; pointer-events: auto;
    }
    
    .u-backtop { display: none; }
    .u-backtop.show { display: flex; animation: popInBtn 0.3s ease; }
    @keyframes popInBtn { from {transform:scale(0);} to {transform:scale(1);} }

    .ultra-fab-wrapper.active .ultra-sub-btn { opacity: 1; transform: translateY(0) scale(1); }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(1) { transition-delay: 0.05s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(2) { transition-delay: 0.1s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(3) { transition-delay: 0.15s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(4) { transition-delay: 0.2s; }
    .ultra-fab-wrapper.active .ultra-sub-btn:nth-child(5) { transition-delay: 0.25s; }

    .ultra-sub-btn::after {
        content: attr(data-tooltip); position: absolute; left: 60px;
        background: rgba(0,0,0,0.8); color: white; padding: 4px 10px;
        border-radius: 8px; font-size: 12px; white-space: nowrap;
        opacity: 0; visibility: hidden; transition: 0.2s; pointer-events: none;
    }
    .ultra-sub-btn:hover::after { opacity: 1; visibility: visible; left: 65px; }

    .u-zalo { color: #0068FF; }
    .u-wa { color: #25D366; }
    .u-map { color: #FFB800; }
    .u-phone { color: var(--primary); }

    /* --- AI MODAL --- */
    .ai-modal-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.7); 
        z-index: 2000; opacity: 0; visibility: hidden; 
        transition: 0.3s; backdrop-filter: blur(5px);
    }
    .ai-modal {
        position: fixed; top: 50%; left: 50%; width: 90%; max-width: 500px; height: 70vh; max-height: 700px;
        transform: translate(-50%, -40%) scale(0.95); background: var(--surface);
        border: 1px solid var(--glass-border); border-radius: 32px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        display: flex; flex-direction: column; overflow: hidden;
        z-index: 2001; opacity: 0; visibility: hidden;
        transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
    }
    .ai-modal.active { opacity: 1; visibility: visible; transform: translate(-50%, -50%) scale(1); }
    .ai-modal-overlay.active { opacity: 1; visibility: visible; }

    .ai-header {
        padding: 20px; border-bottom: 1px solid var(--glass-border);
        display: flex; justify-content: space-between; align-items: center; background: var(--muted-bg);
    }
    .ai-header h3 { margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px; }
    .ai-close { cursor: pointer; background: none; border: none; font-size: 24px; color: var(--text-sub); transition: 0.2s; }
    .ai-close:hover { color: var(--text-main); transform: rotate(90deg); }

    .ai-chat-area {
        flex: 1; overflow-y: auto; padding: 20px;
        display: flex; flex-direction: column; gap: 16px; background: var(--bg-body);
    }
    .chat-msg {
        max-width: 85%; padding: 12px 16px; border-radius: 20px;
        font-size: 0.95rem; line-height: 1.5; position: relative; animation: popIn 0.3s ease-out;
    }
    @keyframes popIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    .msg-bot { align-self: flex-start; background: var(--surface); border: 1px solid var(--glass-border); border-bottom-left-radius: 4px; color: var(--text-main); }
    .msg-user { align-self: flex-end; background: linear-gradient(135deg, var(--primary), #FF8800); color: white; border-bottom-right-radius: 4px; box-shadow: 0 4px 15px rgba(255, 107, 0, 0.2); }
    .msg-bot strong { color: var(--primary); }

    .ai-input-area {
        padding: 16px; background: var(--surface); border-top: 1px solid var(--glass-border); display: flex; gap: 10px;
    }
    .ai-input {
        flex: 1; padding: 12px 16px; border-radius: 24px; border: 1px solid var(--glass-border);
        background: var(--muted-bg); color: var(--text-main);
    }
    .ai-send {
        width: 46px; height: 46px; border-radius: 50%; border: none;
        background: var(--text-main); color: var(--surface);
        display: flex; align-items: center; justify-content: center; cursor: pointer; transition: 0.2s;
    }
    .ai-send:hover { transform: scale(1.1); }
    .ai-send:disabled { opacity: 0.5; cursor: not-allowed; }

    /* Typing Dot */
    .typing-dots { display: inline-flex; gap: 4px; }
    .dot { width: 6px; height: 6px; background: var(--text-sub); border-radius: 50%; animation: bounce 1.4s infinite ease-in-out both; }
    .dot:nth-child(1) { animation-delay: -0.32s; }
    .dot:nth-child(2) { animation-delay: -0.16s; }
    @keyframes bounce { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }

    /* --- MOBILE MENU --- */
    .mobile-menu-overlay {
        position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 998;
        opacity: 0; visibility: hidden; transition: 0.3s; backdrop-filter: blur(8px);
    }
    .mobile-menu {
        position: fixed; bottom: 0; left: 0; width: 100%; max-height: 85vh;
        background: var(--surface); border-radius: 36px 36px 0 0;
        transform: translateY(100%); transition: 0.5s var(--ease-apple); z-index: 999;
        display: flex; flex-direction: column; overflow: hidden; border-top: 1px solid var(--glass-border);
    }
    .mobile-menu.active { transform: translateY(0); }
    .mobile-menu-overlay.active { opacity: 1; visibility: visible; }
    .drag-handle { width: 50px; height: 6px; background: #E5E5EA; border-radius: 10px; margin: 16px auto; }
    .menu-content { padding: 20px 24px 140px 24px; overflow-y: auto; }

    .menu-icon {
        width: 32px; height: 32px; border-radius: 10px;
        background: var(--muted-bg); display: flex; align-items: center; justify-content: center;
        color: var(--primary); margin-right: 12px;
    }
    
    .pulse { animation: pulseGlow 1s infinite; }
    @keyframes pulseGlow {
      0% { box-shadow: 0 0 0 rgba(255,107,0,0.6); }
      70% { box-shadow: 0 0 12px rgba(255,107,0,0.9); }
      100% { box-shadow: 0 0 0 rgba(255,107,0,0); }
    }

    /* --- RESPONSIVE --- */
    @media (max-width: 1024px) {
        .hero-title { font-size: 3.5rem; }
        .hero-grid { grid-template-columns: 1fr; gap: 50px; }
        .desktop-nav { display: none; }
        .menu-toggle { display: flex !important; }
        .footer-grid { grid-template-columns: repeat(2, 1fr); gap: 30px; }
        .status-widget { display: none; }
        .search-container-desktop { display: none; }
        .mobile-search-btn { display: flex; }
    }
    @media (max-width: 768px) {
        .hero { padding-top: 100px; padding-bottom: 40px; }
        .mini-apps { grid-template-columns: repeat(3, 1fr); gap: 12px; }
        .app-icon { width: 60px; height: 60px; font-size: 22px; }
        .footer-grid { grid-template-columns: 1fr; gap: 40px; }
        .footer-box { padding: 50px 30px; }
        .section { padding: 60px 0; }
        body { padding-bottom: calc(140px + env(safe-area-inset-bottom)) !important; }
        .ultra-fab-wrapper { left: 20px; bottom: calc(20px + env(safe-area-inset-bottom)); width: 50px; }
        .ultra-main-btn { width: 50px; height: 50px; font-size: 22px; }
        .ultra-actions { bottom: 60px; width: 100%; align-items: center; gap: 10px; }
        .ultra-sub-btn { width: 42px; height: 42px; font-size: 18px; margin: 0 auto; }
        .ultra-sub-btn::after { display: none !important; }
        .footer-box { padding-bottom: 30px; }
    }
</style>
</head>
<body id="top">

<!-- HEADER -->
<header class="header" id="header">
    <div class="container">
        <div class="nav-bar glass-panel">
            <div class="header-left">
                <a href="./" class="logo">
                    <img src="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0462.jpeg" class="logo-img" alt="logo Mr Tú Bike" width="44" height="44">
                    <div class="logo-text">
                        <!-- SEO ADJUSTMENT: H1 changed to DIV -->
                        <div class="logo-title">Mr Tú</div>
                        <span>Thuê Xe Máy Phố Cổ</span>
                    </div>
                </a>
                
                <div class="status-widget" id="status-widget">
                    <div class="status-dot" id="status-dot"></div>
                    <span class="status-text" id="status-text">Đang tải...</span>
                </div>
            </div>
            
            <nav class="desktop-nav" id="desktop-menu"></nav>

            <div class="header-actions">
                <div class="search-container-desktop">
                    <input type="text" class="search-input" id="search-desktop" placeholder="Tìm kiếm..." onkeydown="handleSearch(event, this)">
                    <i class="fa-solid fa-magnifying-glass search-icon-inside"></i>
                </div>

                <button class="action-btn mobile-search-btn" onclick="toggleMobileSearch()" aria-label="Tìm kiếm">
                    <span class="material-symbols-rounded">search</span>
                </button>

                <button class="action-btn" id="theme-btn" aria-label="Đổi giao diện sáng/tối">
                    <span class="material-symbols-rounded">light_mode</span>
                </button>
                <button class="action-btn menu-toggle" id="menu-btn" aria-label="Mở menu">
                    <span class="material-symbols-rounded">grid_view</span>
                </button>
            </div>
        </div>
        
        <div class="mobile-search-dropdown" id="mob-search-drop">
            <div style="position:relative;">
                <input type="text" class="mobile-search-input" id="search-mobile" placeholder="Nhập từ khóa tìm kiếm..." onkeydown="handleSearch(event, this)">
                <button class="mobile-search-close" onclick="toggleMobileSearch()" aria-label="Đóng tìm kiếm">
                     <i class="fa-solid fa-xmark"></i>
                </button>
            </div>
        </div>
    </div>
</header>

<!-- MOBILE MENU -->
<div class="mobile-menu-overlay" id="overlay"></div>
<div class="mobile-menu glass-panel" id="mobile-menu">
    <div class="drag-handle"></div>
    <div class="menu-content" id="mobile-list"></div>
</div>

<main>
    <!-- HERO SECTION -->
    <section class="hero">
        <div class="hero-glow"></div>
        <div class="container">
            <div class="hero-grid">
                
                <div class="fade-in-up">
                    <div class="hero-badge">
                        <span class="material-symbols-rounded" style="font-size:16px;">verified</span>
                        Thủ tục nhanh 5 phút
                    </div>
                    <!-- SEO: H1 TITLE KEPT AS REQUESTED -->
                    <h1 class="hero-title">
                        Thủ Tục Thuê Xe Máy Phố Cổ<br>
                        <span class="text-highlight">Nhanh Gọn, Minh Bạch - Mr Tú</span>
                    </h1>
                    
                    <p>
                        Quy trình thuê xe tại <strong>Mr Tú</strong> được tối ưu để bạn nhận xe nhanh nhất. Cam kết giấy tờ rõ ràng, không giữ bản gốc tùy thân, <a href="thutuc.html" class="seo-link">thủ tục thuê xe máy</a> đơn giản cho cả khách du lịch và người nước ngoài.
                    </p>

                    <div>
                        <div style="text-transform:uppercase; font-size:0.75rem; font-weight:800; color:var(--text-sub); letter-spacing:1px; margin-bottom:12px;">Tiện ích nhanh</div>
                        <div class="mini-apps">
                            <div class="app-item" data-accent="green" onclick="window.location.href='tel:+84816659199'">
                                <div class="app-icon"><i class="fa-solid fa-phone"></i></div>
                                <span class="app-label">Gọi Ngay</span>
                            </div>
                            <div class="app-item" data-accent="blue" onclick="window.open('https://zalo.me/0816659199', '_blank', 'noopener,noreferrer')">
                                <div class="app-icon"><i class="fa-solid fa-comment-dots"></i></div>
                                <span class="app-label">Zalo</span>
                            </div>
                            <div class="app-item" data-accent="yellow" onclick="window.location.href='banggia.html'">
                                <div class="app-icon"><i class="fa-solid fa-tag"></i></div>
                                <span class="app-label">Bảng Giá</span>
                            </div>
                            <div class="app-item" data-accent="purple" onclick="const ft = document.getElementById('footer-target'); if(ft) ft.scrollIntoView({behavior:'smooth'})">
                                <div class="app-icon"><i class="fa-solid fa-map-location-dot"></i></div>
                                <span class="app-label">Địa Điểm</span>
                            </div>
                            
                            <div class="app-item" data-accent="ai" onclick="AI_Guide.open()">
                                <div class="app-icon"><i class="fa-solid fa-wand-magic-sparkles"></i></div>
                                <span class="app-label">AI Guide ✨</span>
                            </div>

                            <div class="app-item" data-accent="love" onclick="AI_Matchmaker.open()">
                                <div class="app-icon"><i class="fa-solid fa-heart-pulse"></i></div>
                                <span class="app-label">Tìm Xe ✨</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CALCULATOR WIDGET (KEPT AS REQUESTED) -->
                <div class="calc-box glass-panel fade-in-up" id="tilt-box" style="transition-delay: 0.2s;">
                    <h3 style="display:flex; align-items:center; gap:10px; margin-top:0;">
                        <span class="material-symbols-rounded" style="color:var(--primary)">bolt</span>
                        Dự toán chi phí
                    </h3>

                    <div class="form-group">
                        <label class="form-label" for="c-type">Loại xe</label>
                        <select class="form-input" id="c-type">
                            <option value="120000">Xe số (Wave/Sirius) - 120k</option>
                            <option value="150000">Xe ga (Vision/Lead) - 150k</option>
                            <option value="200000">Xe ga (Airblade/SH) - 200k</option>
                            <option value="350000">Xe côn/PKL - 350k</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="c-days">Số ngày</label>
                        <input type="number" class="form-input" id="c-days" value="1" min="1">
                    </div>

                    <div style="display:flex; justify-content:space-between; align-items:center; margin-top:24px; padding-top:16px; border-top:1px dashed var(--glass-border);">
                        <span style="font-size:0.95rem; color:var(--text-sub); font-weight:600;">Tạm tính:</span>
                        <span style="font-size:1.6rem; font-weight:800; color:var(--primary)" id="c-total">120.000đ</span>
                    </div>

                    <button class="btn-3d" style="width:100%; margin-top:24px;" onclick="window.open('https://zalo.me/0816659199', '_blank', 'noopener,noreferrer')">
                        Đặt Xe Ngay <i class="fa-solid fa-arrow-right"></i>
                    </button>
                    <p style="text-align:center; font-size:0.75rem; color:var(--text-sub); margin-top:12px; opacity:0.7; margin-bottom:0;">*Không cần cọc online</p>
                </div>

            </div>
        </div>
    </section>

    <!-- MAIN CONTENT: THỦ TỤC CHI TIẾT -->
    <section class="section">
        <div class="container">
            <div class="content-block glass-panel" style="padding: 40px; border-radius: 32px;">
                
                <h2>1. Giấy tờ cần thiết khi thuê xe (Đơn giản nhất)</h2>
                <p>Khác với nhiều đơn vị yêu cầu giữ giấy tờ gốc rườm rà, tại <strong>Mr Tú</strong>, chúng tôi thấu hiểu tâm lý khách hàng khi đi du lịch hoặc công tác. Quy trình giấy tờ được tinh gọn tối đa để bạn yên tâm di chuyển.</p>
                
                <h3>A. Đối với khách du lịch trong nước</h3>
                <ul>
                    <li><strong>Căn cước công dân (CCCD) gắn chip:</strong> Bản gốc chính chủ. Chúng tôi chỉ chụp ảnh đối chiếu, không giữ lại thẻ nếu bạn có thêm giấy tờ khác thay thế.</li>
                    <li><strong>Bằng lái xe máy (GPLX):</strong> Bản gốc hoặc ảnh chụp (VNeID) để xác minh bạn đủ điều kiện lái xe an toàn.</li>
                    <li><strong>Vé máy bay khứ hồi / Booking khách sạn:</strong> Giấy tờ quan trọng để được miễn giảm tiền cọc.</li>
                </ul>

                <h3>B. Đối với khách nước ngoài (Foreigners)</h3>
                <ul>
                    <li><strong>Hộ chiếu (Passport):</strong> Bản gốc. Mr Tú sẽ giữ hộ chiếu hoặc tiền cọc tương đương nếu không muốn để lại hộ chiếu.</li>
                    <li><strong>Bằng lái xe quốc tế (IDP):</strong> Hợp lệ tại Việt Nam.</li>
                    <li><strong>Visa / Thị thực:</strong> Còn hạn sử dụng.</li>
                </ul>

                <h3>C. Đối với sinh viên và người đi làm tại Hà Nội</h3>
                <p>Nếu bạn thuê xe dài hạn theo tháng, vui lòng chuẩn bị:</p>
                <ul>
                    <li>CCCD gắn chip + Thẻ sinh viên (nếu có).</li>
                    <li>Sổ hộ khẩu (ảnh chụp) hoặc hợp đồng lao động để xác minh nơi cư trú/làm việc.</li>
                    <li>Xem thêm ưu đãi tại: <a href="thang.html" class="seo-link">Thuê xe máy theo tháng</a>.</li>
                </ul>

                <h2>2. Quy trình thuê xe 4 bước tại Mr Tú</h2>
                <p>Chúng tôi chuẩn hóa quy trình nhận xe chỉ trong vòng 5-10 phút để tiết kiệm thời gian quý báu của bạn.</p>
                
                <div style="background:var(--muted-bg); padding:24px; border-radius:20px; border:1px solid var(--glass-border); margin-bottom:24px;">
                    <p style="margin-bottom:10px;"><strong>Bước 1: Liên hệ & Đặt xe</strong><br>
                    Gọi Hotline 081.665.9199 hoặc nhắn Zalo để chọn mẫu xe ưng ý (Wave, Vision, Airblade...). Chốt thời gian và địa điểm nhận xe (Giao tận nơi hoặc nhận tại cửa hàng).</p>
                    
                    <p style="margin-bottom:10px;"><strong>Bước 2: Giao xe & Ký hợp đồng</strong><br>
                    Nhân viên Mr Tú sẽ mang xe đến tận nơi. Bạn kiểm tra xe, đọc kỹ hợp đồng thuê xe. Hợp đồng gồm 2 bản, mỗi bên giữ 1 bản có giá trị pháp lý như nhau.</p>
                    
                    <p style="margin-bottom:10px;"><strong>Bước 3: Nhận xe & Vi vu</strong><br>
                    Sau khi ký hợp đồng và thanh toán (tiền thuê + cọc nếu có), bạn nhận xe kèm 02 mũ bảo hiểm, 01 áo mưa và giấy tờ xe photo công chứng.</p>
                    
                    <p style="margin-bottom:0;"><strong>Bước 4: Trả xe & Hoàn cọc</strong><br>
                    Đến hạn trả, nhân viên sẽ kiểm tra lại xe. Nếu không có hư hại phát sinh, Mr Tú hoàn lại 100% tiền cọc (nếu có) ngay lập tức.</p>
                </div>

                <h2>3. Chính sách "Không Cọc" - Điểm khác biệt</h2>
                <p>Tại khu vực <a href="hoankiem.html" class="seo-link">Hoàn Kiếm</a> và Phố Cổ, Mr Tú tự hào là đơn vị tiên phong trong chính sách miễn đặt cọc cho khách du lịch uy tín.</p>
                <ul>
                    <li><strong>Miễn cọc 100%:</strong> Áp dụng cho khách du lịch có vé máy bay khứ hồi và booking khách sạn trùng khớp với thời gian thuê xe.</li>
                    <li><strong>Đặt cọc thấp:</strong> Với khách thuê xe số, chỉ cần cọc từ 1-2 triệu đồng (nếu không đủ giấy tờ tín chấp). Tiền cọc sẽ được ghi rõ trong biên lai.</li>
                </ul>

                <h2>4. Những lưu ý "Vàng" để tránh mất tiền oan</h2>
                <p>Để chuyến đi trọn vẹn và tránh tranh cãi khi trả xe, Mr Tú khuyên bạn:</p>
                <ul>
                    <li><strong>Kiểm tra ngoại quan:</strong> Quay video hoặc chụp ảnh hiện trạng xe (vết xước cũ, gương, đèn) trước khi nhận. Gửi ngay cho Mr Tú qua Zalo để làm bằng chứng.</li>
                    <li><strong>Kiểm tra động cơ:</strong> Đề nổ, bóp phanh, kiểm tra còi, xi-nhan. Nếu thấy phanh không ăn hoặc máy kêu lạ, yêu cầu đổi xe ngay lập tức.</li>
                    <li><strong>Giữ biên lai:</strong> Luôn giữ kỹ hợp đồng và biên lai thu tiền cọc.</li>
                    <li><strong>Hỗ trợ sự cố:</strong> Lưu ngay số Hotline của Mr Tú. Nếu xe thủng săm hay gặp sự cố trên đường, gọi ngay để được hướng dẫn xử lý, tránh bị các tiệm sửa xe ven đường "chặt chém". Tham khảo thêm: <a href="kinhnghiem.html" class="seo-link">Kinh nghiệm thuê xe máy</a>.</li>
                </ul>

                <h2>5. Câu hỏi thường gặp (FAQ)</h2>
                <p><strong>Q: Tôi bị mất giấy tờ khi đang thuê xe thì sao?</strong><br>
                A: Hãy bình tĩnh và gọi ngay cho Mr Tú. Chúng tôi sẽ hỗ trợ cung cấp ảnh chụp giấy tờ gốc để bạn làm việc với cơ quan chức năng.</p>
                
                <p><strong>Q: Có giao xe ngoài giờ hành chính không?</strong><br>
                A: Có. Mr Tú hỗ trợ giao xe 24/7. Tuy nhiên, nếu nhận xe quá khuya (sau 22h), vui lòng đặt lịch trước để nhân viên chuẩn bị.</p>
                
                <p><strong>Q: Thuê xe theo ngày tính như thế nào?</strong><br>
                A: 1 ngày được tính là 24h. Ví dụ bạn nhận xe lúc 9h sáng hôm nay, trả xe trước 9h sáng hôm sau là 1 ngày. Xem chi tiết: <a href="ngay.html" class="seo-link">Thuê xe máy theo ngày</a>.</p>
                
                <h3 style="text-align:center; margin-top:40px;">Bạn đã sẵn sàng cho chuyến đi?</h3>
                <div style="text-align:center;">
                    <button class="btn-3d" onclick="window.location.href='lienhe.html'">
                        Liên hệ Mr Tú ngay <i class="fa-solid fa-phone-volume"></i>
                    </button>
                </div>

            </div>
        </div>
    </section>

</main>

<!-- FOOTER -->
<footer class="footer" id="footer-target">
    <div class="container">
        <div class="footer-box glass-panel fade-in-up">
            <div class="footer-bg-glow"></div>
            <div class="footer-grid" id="footer-grid"></div>
            
            <div class="copyright" style="margin-top: 50px;">
                <img src="https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0462.jpeg" style="width:48px; margin-bottom:16px; filter: grayscale(1); opacity:0.8; border-radius:50%;" alt="Logo footer">
                
                <div class="footer-contact-info">
                     <p class="fc-item"><i class="fa-solid fa-map-location-dot"></i> 17 Phúc Tân, Hoàn Kiếm, Hà Nội, Việt Nam</p>
                     <div class="fc-row">
                         <p class="fc-item"><i class="fa-solid fa-phone-volume"></i> <a href="tel:+84816659199" style="text-decoration:none;color:inherit;">081.665.9199</a></p>
                         <p class="fc-item"><i class="fa-solid fa-envelope"></i> nguyentuantu2482@gmail.com</p>
                     </div>
                     <p class="fc-item" style="color:var(--primary);"><i class="fa-solid fa-headset"></i> Hotline & Kỹ thuật: 24/7</p>
                     <p class="fc-item"><i class="fa-regular fa-clock"></i> Cửa hàng: 08:00 – 17:00</p>
                </div>

                <p style="text-align:center; color:var(--text-sub); font-size:0.8rem; margin-top:20px; opacity:0.6;">
                    <a href="https://motoopen.github.io/thuexemayohoankiem/" target="_blank" rel="noopener noreferrer">Cho thuê xe máy Phố Cổ | Mr Tú</a>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- AI MODAL 1: TOUR GUIDE -->
<div class="ai-modal-overlay" id="ai-overlay"></div>
<div class="ai-modal" id="ai-modal" role="dialog" aria-modal="true" aria-labelledby="ai-modal-title">
    <div class="ai-header">
        <h3 id="ai-modal-title"><i class="fa-solid fa-wand-magic-sparkles" style="color:var(--primary)"></i> Mr Tú AI Guide ✨</h3>
        <button class="ai-close" id="ai-close" aria-label="Đóng"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="ai-chat-area" id="ai-chat-box" role="log" aria-live="polite">
        <div class="chat-msg msg-bot">
            Xin chào! Tôi là <strong>Mr Tú AI</strong>. Tôi có thể giúp bạn lên lịch trình đi phượt, tìm quán ăn ngon ở Phố Cổ, hay chọn xe phù hợp. Bạn cần giúp gì nào? 🛵🍜
        </div>
    </div>
    <div class="ai-input-area">
        <input type="text" id="ai-input" class="ai-input" placeholder="Hỏi tôi về địa điểm, món ăn...">
        <button id="ai-send" class="ai-send" aria-label="Gửi"><i class="fa-solid fa-paper-plane"></i></button>
    </div>
</div>

<!-- AI MODAL 2: BIKE MATCHMAKER -->
<div class="ai-modal-overlay" id="mm-overlay"></div>
<div class="ai-modal" id="mm-modal" role="dialog" aria-modal="true" aria-labelledby="mm-modal-title" style="height: auto; min-height: 400px;">
    <div class="ai-header">
        <h3 id="mm-modal-title"><i class="fa-solid fa-heart-pulse" style="color:#ff3366"></i> Tìm Xe Chân Ái ✨</h3>
        <button class="ai-close" id="mm-close" aria-label="Đóng"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="ai-chat-area" id="mm-content">
        <p style="font-size:0.9rem; color:var(--text-sub);">Trả lời 3 câu hỏi nhanh để AI tìm "người bạn đồng hành" hoàn hảo nhất cho chuyến đi của bạn!</p>
        
        <div class="form-group">
            <label class="form-label">1. Trình độ lái xe của bạn?</label>
            <select class="form-input" id="mm-exp">
                <option value="newbie">Lái mới (Newbie)</option>
                <option value="ok">Ổn định (Biết đi xe ga/số)</option>
                <option value="pro">Tay đua lụa (Thích côn tay/PKL)</option>
            </select>
        </div>

        <div class="form-group">
            <label class="form-label">2. Bạn định đi đâu?</label>
            <select class="form-input" id="mm-dest">
                <option value="city">Loanh quanh phố (Cafe, Hồ Tây)</option>
                <option value="trip">Phượt nhẹ (Bát Tràng, Ba Vì)</option>
                <option value="long">Đi xa / Leo núi (Hà Giang, Sapa)</option>
            </select>
        </div>
        
         <div class="form-group">
            <label class="form-label">3. Chiều cao của bạn?</label>
            <select class="form-input" id="mm-height">
                <option value="short">Dưới 1m60</option>
                <option value="mid">1m60 - 1m75</option>
                <option value="tall">Trên 1m75</option>
            </select>
        </div>
        
        <button class="btn-3d" id="mm-submit" style="width:100%; margin-top:10px;">
            <i class="fa-solid fa-magnifying-glass"></i> Tìm Xe Ngay
        </button>
        
        <div id="mm-result" style="margin-top:20px; display:none; border-top:1px dashed var(--glass-border); padding-top:16px;">
            <h4 style="color:var(--primary); margin:0 0 8px 0;">Kết quả:</h4>
            <div id="mm-result-text" style="font-size:0.95rem; line-height:1.6; color:var(--text-main);" role="log" aria-live="polite"></div>
        </div>
    </div>
</div>


<!-- ULTRA APP MINI (Expandable Button) -->
<div class="ultra-fab-wrapper" id="ultra-fab">
    <div class="ultra-actions">
        <!-- Buttons expanded from top down or bottom up depending on flex direction -->
        <a href="tel:+84816659199" class="ultra-sub-btn u-phone" data-tooltip="Gọi 081.665.9199" aria-label="Gọi ngay">
            <i class="fa-solid fa-phone"></i>
        </a>
        <a href="https://zalo.me/0816659199" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-zalo" data-tooltip="Chat Zalo" aria-label="Zalo">
            <i class="fa-solid fa-comment-dots"></i>
        </a>
        <a href="https://wa.me/84816659199" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-wa" data-tooltip="Chat WhatsApp" aria-label="WhatsApp">
            <i class="fa-brands fa-whatsapp"></i>
        </a>
        <a href="https://maps.app.goo.gl/UkBn4FgTNjk8ojM9A?g_st=ic" target="_blank" rel="noopener noreferrer" class="ultra-sub-btn u-map" data-tooltip="Chỉ đường" aria-label="Bản đồ">
            <i class="fa-solid fa-map-location-dot"></i>
        </a>
        
        <a href="#top" class="ultra-sub-btn u-backtop" id="u-backtop-btn" data-tooltip="Lên đầu trang" aria-label="Top">
            <i class="fa-solid fa-arrow-up"></i>
        </a>
    </div>
    
    <button class="ultra-main-btn" id="ultra-toggle" aria-label="Mở tiện ích">
        <i class="fa-solid fa-bolt"></i>
    </button>
</div>

<!-- JS ENGINE -->
<script>
// --- FALLBACK TO PREVENT RACE CONDITION ERRORS ---
window.AI_Guide = window.AI_Guide || { open: function () {
  const modal = document.getElementById('ai-modal');
  const overlay = document.getElementById('ai-overlay');
  if (modal && overlay) { modal.classList.add('active'); overlay.classList.add('active'); modal.querySelector('input')?.focus(); }
} };
window.AI_Matchmaker = window.AI_Matchmaker || { open: function () {
  const modal = document.getElementById('mm-modal');
  const overlay = document.getElementById('mm-overlay');
  if (modal && overlay) { modal.classList.add('active'); overlay.classList.add('active'); }
} };
</script>

<script>
    /* ===== MotoAI Local Smart Upgrade (Lite – Offline) ===== */
    const MOTO_AI_CTX = {
      purpose: null,
      days: null,
      people: null,
      asked: {}
    };

    let MOTO_AI_ACTION_LOCK = false;

    function motoAI_Action(type) {
      if (MOTO_AI_ACTION_LOCK) return; 

      const callBtn = document.querySelector('.u-phone, .fab-call');
      const zaloBtn = document.querySelector('.u-zalo, .fab-zalo');

      if (type === "call" && callBtn) {
        MOTO_AI_ACTION_LOCK = true; 
        callBtn.classList.add("pulse");
        callBtn.click();
      }

      if (type === "zalo" && zaloBtn) {
        MOTO_AI_ACTION_LOCK = true; 
        zaloBtn.classList.add("pulse");
        zaloBtn.click();
      }
    }

    function motoAI_Upgrade(userText) {
      const t = userText.toLowerCase();

      /* --- AUTO ACTION TRIGGER --- */
      if (/giữ xe|đặt xe|thuê luôn|lấy xe|chốt xe|lấy xe ngay|đồng ý/i.test(t)) {
          setTimeout(() => motoAI_Action("zalo"), 1000); 
      }
      if (/gọi|call|điện thoại/i.test(t)) {
          setTimeout(() => motoAI_Action("call"), 1000);
      }

      if (/du lịch|đi chơi|phượt/.test(t)) MOTO_AI_CTX.purpose = "travel";
      if (/đi làm|công việc|đi làm hằng ngày/.test(t)) MOTO_AI_CTX.purpose = "work";
      if (/2 người|hai người/.test(t)) MOTO_AI_CTX.people = 2;
      if (/\d+\s*(ngày|tháng)/.test(t)) {
        MOTO_AI_CTX.days = t.match(/\d+\s*(ngày|tháng)/)[0];
      }

      /* --- HỎI NGƯỢC THÔNG MINH --- */
      if (!MOTO_AI_CTX.purpose && !MOTO_AI_CTX.asked.purpose) {
        MOTO_AI_CTX.asked.purpose = true;
        return "Anh/chị thuê xe để đi làm hay du lịch ạ?";
      }

      if (!MOTO_AI_CTX.days && !MOTO_AI_CTX.asked.days) {
        MOTO_AI_CTX.asked.days = true;
        return "Mình dự định thuê xe trong bao lâu ạ (theo ngày hay tháng)?";
      }

      /* --- ĐỀ XUẤT XE --- */
      if (MOTO_AI_CTX.purpose === "travel") {
        return `MotoAI gợi ý:
    • Xe ga (Vision / Lead)
    • Êm, cốp rộng, phù hợp đi chơi
    • Giá từ 150.000đ/ngày

    Anh/chị muốn em giữ xe hôm nay không ạ?`;
      }

      if (MOTO_AI_CTX.purpose === "work") {
        return `MotoAI gợi ý:
    • Xe số (Wave / Sirius)
    • Tiết kiệm xăng, dễ đi hằng ngày
    • Giá từ 120.000đ/ngày

    Anh/chị cần em giữ xe hay gửi địa chỉ nhận xe ạ?`;
      }

      return "";
    }

    // --- ICONS (SVG) ---
    const ICONS = {
        home: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>',
        doc: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>',
        map: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>',
        tag: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line></svg>',
        mail: '<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>'
    };

    // --- CONFIG DATA ---
    const CONFIG = {
        MENU: [
            { t: "Trang chủ", l: "./", i: ICONS.home },
            { t: "Giới thiệu", l: "gioithieu.html", i: ICONS.doc },
            { 
                t: "Dịch vụ", l: "#", i: ICONS.tag,
                sub: [
                    {t: "Bảng giá 2025", l: "banggia.html", i: ICONS.tag},
                    {t: "Thuê xe theo ngày", l: "ngay.html", i: ICONS.doc},
                    {t: "Thuê xe theo tuần", l: "tuan.html", i: ICONS.doc},
                    {t: "Thuê xe theo tháng", l: "thang.html", i: ICONS.doc},
                    {t: "Thủ tục thuê xe", l: "thutuc.html", i: ICONS.doc},
                    {t: "Khuyến mãi", l: "uudai.html", i: ICONS.tag},
                    {t: "Kinh nghiệm", l: "kinhnghiem.html", i: ICONS.doc},
                    {t: "Mạng xã hội", l: "mangxahoi.html", i: ICONS.tag}
                ]
            },
            { 
                t: "Địa điểm", l: "#", i: ICONS.map,
                sub: [
                    {t: "Hoàn Kiếm", l: "hoankiem.html", i: ICONS.map},
                    {t: "Phố Cổ", l: "phoco.html", i: ICONS.map},
                    {t: "Tây Hồ", l: "tayho.html", i: ICONS.map},
                    {t: "Ba Đình", l: "badinh.html", i: ICONS.map},
                    {t: "Cầu Giấy", l: "caugiay.html", i: ICONS.map},
                    {t: "Đống Đa", l: "dongda.html", i: ICONS.map},
                    {t: "Thanh Xuân", l: "thanhxuan.html", i: ICONS.map},
                    {t: "Hai Bà Trưng", l: "haibatrung.html", i: ICONS.map},
                    {t: "Long Biên", l: "longbien.html", i: ICONS.map},
                    {t: "Ga Hà Nội", l: "gahn.html", i: ICONS.map}
                ]
            },
            { t: "FAQ", l: "faq.html", i: ICONS.doc },
            {
                t: "Chính sách", l: "#", i: ICONS.doc,
                sub: [
                    { t: "Chính sách bảo mật", l: "chinhsach.html", i: ICONS.doc },
                    { t: "Điều khoản sử dụng", l: "dieukhoan.html", i: ICONS.doc }
                ]
            },
            { t: "Liên hệ", l: "lienhe.html", i: ICONS.mail }
        ]
    };
    
    // FEATURE 2: SEARCH LOGIC
    function toggleMobileSearch() {
        const drop = document.getElementById('mob-search-drop');
        drop.classList.toggle('active');
        if(drop.classList.contains('active')) {
            setTimeout(() => document.getElementById('search-mobile').focus(), 100);
        }
    }

    // FIXED: Changed event to 'keydown' for better compatibility
    function handleSearch(e, input) {
        if(e.key === 'Enter') {
            const val = input.value.toLowerCase();
            if(!val) return;
            
            // Simple logic: Find headings matching text
            const headings = document.querySelectorAll('h1, h2, h3, h4, .feature-card h3');
            let found = false;
            
            for(let h of headings) {
                if(h.textContent.toLowerCase().includes(val)) {
                    h.scrollIntoView({behavior: 'smooth', block: 'center'});
                    h.style.color = 'var(--primary)'; // Highlight
                    setTimeout(() => h.style.color = '', 2000);
                    found = true;
                    // Close mobile search if open
                    document.getElementById('mob-search-drop').classList.remove('active');
                    break;
                }
            }
            
            if(!found) {
                alert('Không tìm thấy nội dung: ' + val);
            }
        }
    }

    const Render = {
        init() {
            this.nav();
            this.mobile();
            this.footer();
            this.calc();
            this.effects();
            this.statusWidget();
            this.setupPWA();
            this.ultraApp();
            this.setupAI();
            this.setupMatchmaker();
        },

        // --- CORE: FAKE "GEMINI" OFFLINE, KHÔNG CẦN API ---
        async callGeminiWithRetry(prompt, systemInstruction, onLoading, onSuccess, onError) {
            try {
                onLoading();

                const pRaw = String(prompt || "");
                const sRaw = String(systemInstruction || "");
                const text = (pRaw + " " + sRaw).toLowerCase();
                
                const smartReply = motoAI_Upgrade(text);
                if (smartReply) {
                    setTimeout(() => onSuccess(smartReply), 600);
                    return;
                }

                const delay = 500 + Math.floor(Math.random() * 700);

                function wrap(msg) {
                    return msg.replace(/\s+/g, " ").trim();
                }

                let answer = "";

                // Logic AI (Simulated)
                if (/hà giang|ha giang|sapa|sa pa|đi xa|highway|mountain|đèo|đi đèo/.test(text)) {
                    answer = wrap(
                        "Đi Hà Giang, Sa Pa hoặc cung đèo dài thì anh nên chạy xe số hoặc XR150: máy khỏe, phanh đầm, leo dốc an toàn. " +
                        "Nếu chở đồ nhiều, ưu tiên Wave / XR150, hạn chế xe ga yếu phanh và nhanh nóng máy."
                    );
                }
                else if (/phố cổ|pho co|old quarter|hoàn kiếm|hoan kiem|center|city center/.test(text)) {
                    answer = wrap(
                        "Chạy trong Phố Cổ, Hoàn Kiếm thì Vision hoặc Wave là hợp lý: xe nhỏ gọn, dễ luồn lách, gửi khách sạn cũng tiện. " +
                        "Đi 1–2 ngày chơi quanh phố thì chọn Vision nhìn lịch sự, Wave thì siêu tiết kiệm xăng."
                    );
                }
                else if (/hồ tây|ho tay|west lake|cafe|coffee|date|hẹn hò/.test(text)) {
                    answer = wrap(
                        "Đi chơi Hồ Tây, cafe, hẹn hò thì Vision hoặc Airblade là đẹp: dáng xe gọn, ngồi 2 người thoải mái, máy êm. " +
                        "Nếu thích êm ái dễ lái thì Vision, cần khỏe máy hơn chút thì Airblade 160."
                    );
                }
                else if (/ăn gì|ăn ở đâu|food|street food|đặc sản|mon an|món ăn|bún chả|phở|bun cha|pho/.test(text)) {
                    answer = wrap(
                        "Khu Phố Cổ anh thử combo: sáng phở Bát Đàn / Lý Quốc Sư, trưa bún chả Hàng Quạt hoặc Đắc Kim, tối bia / đồ nướng Tạ Hiện. " +
                        "Đi bằng xe máy thì gửi xe ở các bãi Trần Nhật Duật hoặc ven hồ Hoàn Kiếm rồi đi bộ vào cho đỡ đông."
                    );
                }
                else if (/giá|bao nhiêu|price|cost|bao nhieu|tầm bao nhiêu|budget|ngân sách/.test(text)) {
                    answer = wrap(
                        "Tạm tính: xe số khoảng 120.000/ngày, xe ga Vision ~150.000–180.000/ngày, xe ga cao cấp từ 230.000–250.000/ngày. " +
                        "Thuê nhiều ngày hoặc thuê theo tuần/tháng thì giá mềm hơn, anh có thể xem bảng giá trên trang hoặc nhắn Zalo 081.665.9199 để em chốt chuẩn theo lịch."
                    );
                }
                else {
                    answer = wrap(
                        "Em là trợ lý Mr Tú AI. Anh cho em biết: anh đi đâu, mấy ngày, thích xe số hay xe ga, em gợi ý luôn mẫu xe + tầm giá hợp lý, thêm vài gợi ý quán ăn/nghỉ cho tiện cung đường."
                    );
                }

                 if (/trình độ lái|tay đua lụa|newbie|tay ga|côn tay|xr150|vision|airblade|wave alpha/.test(text)) {
                      const destMatch = /điểm đến[^:]*:\s*([^\.\n]+)/i.exec(pRaw) || [];
                      
                      let bike = "Honda Vision";
                      let reason = "nhỏ gọn, dễ lái, rất hợp đi phố và người mới.";
                      
                      if (/xa|leo núi|hà giang|sapa/i.test(destMatch[1] || "")) { bike = "Honda XR150"; reason = "leo đèo khoẻ."; }
                      
                      answer = `Xe chân ái của bạn là: **${bike}**. Lý do: ${reason} Nếu cần em giữ sẵn 1 xe, anh nhắn Zalo **081.665.9199** là em hỗ trợ luôn.`;
                 }

                setTimeout(() => {
                    onSuccess(answer);
                }, delay);
            } catch (err) {
                if (onError) onError(err.message || "Local AI error");
            }
        },
        
        setupAI() {
            const modal = document.getElementById('ai-modal');
            const overlay = document.getElementById('ai-overlay');
            const closeBtn = document.getElementById('ai-close');
            const chatBox = document.getElementById('ai-chat-box');
            const input = document.getElementById('ai-input');
            const sendBtn = document.getElementById('ai-send');
            
            const focusableElements = 'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';
            
            window.AI_Guide = {
                open: () => {
                    modal.classList.add('active');
                    overlay.classList.add('active');
                    input.focus();
                }
            };

            const close = () => {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            };

            modal.addEventListener('keydown', (e) => {
                const isTabPressed = e.key === 'Tab' || e.keyCode === 9;
                if (e.key === 'Escape') close();
                if (!isTabPressed) return;
                
                const focusableContent = modal.querySelectorAll(focusableElements);
                if (!focusableContent || focusableContent.length === 0) return; 

                const firstFocusableElement = focusableContent[0];
                const lastFocusableElement = focusableContent[focusableContent.length - 1];

                if (e.shiftKey) { 
                    if (document.activeElement === firstFocusableElement) {
                        lastFocusableElement.focus();
                        e.preventDefault();
                    }
                } else { 
                    if (document.activeElement === lastFocusableElement) {
                        firstFocusableElement.focus();
                        e.preventDefault();
                    }
                }
            });

            closeBtn.addEventListener('click', close);
            overlay.addEventListener('click', close);

            const addMsg = (text, isUser = false) => {
                const div = document.createElement('div');
                div.className = `chat-msg ${isUser ? 'msg-user' : 'msg-bot'}`;
                
                if (isUser) {
                    div.textContent = text;
                } else {
                    const parts = text.split(/\*\*(.*?)\*\*/g);
                    parts.forEach((part, index) => {
                        if (index % 2 === 1) { 
                            const strong = document.createElement('strong');
                            strong.textContent = part;
                            div.appendChild(strong);
                        } else {
                            div.appendChild(document.createTextNode(part));
                        }
                    });
                }
                chatBox.appendChild(div);
                chatBox.scrollTop = chatBox.scrollHeight;
            };

            const showLoader = () => {
                const div = document.createElement('div');
                div.className = 'chat-msg msg-bot';
                div.id = 'ai-loader';
                const dots = document.createElement('div');
                dots.className = 'typing-dots';
                for(let i=0; i<3; i++) {
                    const dot = document.createElement('span');
                    dot.className = 'dot';
                    dots.appendChild(dot);
                }
                div.appendChild(dots);
                chatBox.appendChild(div);
                chatBox.scrollTop = chatBox.scrollHeight;
            };

            const removeLoader = () => {
                const loader = document.getElementById('ai-loader');
                if (loader) loader.remove();
            };

            const handleSend = () => {
                const text = input.value.trim();
                if (!text) return;
                addMsg(text, true);
                input.value = '';
                const systemPrompt = "Bạn là Mr Tú, hướng dẫn viên Hà Nội. Hotline Zalo là 081.665.9199. Hãy tư vấn ngắn gọn.";
                Render.callGeminiWithRetry(text, systemPrompt, showLoader, (response) => { removeLoader(); addMsg(response); }, (error) => { removeLoader(); addMsg("Mạng đang bận, bạn thử lại chút nữa nhé! 😅"); });
            };

            sendBtn.addEventListener('click', handleSend);
            input.addEventListener('keydown', (e) => { if (e.key === 'Enter') handleSend(); });
        },

        setupMatchmaker() {
            const modal = document.getElementById('mm-modal');
            const overlay = document.getElementById('mm-overlay');
            const closeBtn = document.getElementById('mm-close');
            const submitBtn = document.getElementById('mm-submit');
            const resultBox = document.getElementById('mm-result');
            const resultText = document.getElementById('mm-result-text');

            window.AI_Matchmaker = {
                open: () => {
                    modal.classList.add('active');
                    overlay.classList.add('active');
                }
            };

            const close = () => {
                modal.classList.remove('active');
                overlay.classList.remove('active');
            };
            
            window.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('active')) close();
            });

            closeBtn.addEventListener('click', close);
            overlay.addEventListener('click', close);

            submitBtn.addEventListener('click', () => {
                const exp = document.getElementById('mm-exp').options[document.getElementById('mm-exp').selectedIndex].text;
                const dest = document.getElementById('mm-dest').options[document.getElementById('mm-dest').selectedIndex].text;
                const height = document.getElementById('mm-height').options[document.getElementById('mm-height').selectedIndex].text;

                const userPrompt = `Người dùng có thông số sau: Trình độ lái: ${exp}. Điểm đến: ${dest}. Chiều cao: ${height}.`;
                const systemPrompt = "Tư vấn xe máy. Nhắn Zalo 081.665.9199.";

                resultBox.style.display = 'block';
                resultText.textContent = "Đang phân tích...";

                Render.callGeminiWithRetry(
                    userPrompt,
                    systemPrompt,
                    () => {}, 
                    (text) => {
                        resultText.innerHTML = ''; 
                        const parts = text.split(/\*\*(.*?)\*\*/g);
                        parts.forEach((part, index) => {
                            if (index % 2 === 1) {
                                const strong = document.createElement('strong');
                                strong.textContent = part;
                                resultText.appendChild(strong);
                            } else {
                                resultText.appendChild(document.createTextNode(part));
                            }
                        });
                    },
                    (error) => {
                        resultText.textContent = "Hệ thống đang bận, nhưng mình đoán là Honda Vision sẽ hợp với mọi người! 😂";
                    }
                );
            });
        },

        // --- ULTRA APP LOGIC (Updated with Backtop logic) ---
        ultraApp() {
            const toggle = document.getElementById('ultra-toggle');
            const wrapper = document.getElementById('ultra-fab');
            const icon = toggle.querySelector('i');
            const backTopBtn = document.getElementById('u-backtop-btn');

            if (!toggle || !wrapper) return;

            toggle.addEventListener('click', (e) => {
                e.stopPropagation();
                wrapper.classList.toggle('active');
                
                if (wrapper.classList.contains('active')) {
                    icon.classList.remove('fa-bolt');
                    icon.classList.add('fa-xmark');
                } else {
                    icon.classList.remove('fa-xmark');
                    icon.classList.add('fa-bolt');
                }
            });

            document.addEventListener('click', (e) => {
                if (wrapper.classList.contains('active') && !wrapper.contains(e.target)) {
                    wrapper.classList.remove('active');
                    icon.classList.remove('fa-xmark');
                    icon.classList.add('fa-bolt');
                }
            });

            // Feature 1: Logic to hide/show backtop button based on scroll
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    backTopBtn.classList.add('show');
                } else {
                    backTopBtn.classList.remove('show');
                }
            });

            let shakeCount = 0;
            const maxShakes = 5;

            const shakeInterval = setInterval(() => {
                if (document.hidden) return; 
                
                if (shakeCount >= maxShakes) {
                    clearInterval(shakeInterval);
                    return;
                }

                if (!wrapper.classList.contains('active')) {
                    toggle.classList.add('shaking');
                    setTimeout(() => toggle.classList.remove('shaking'), 500);
                    shakeCount++;
                }
            }, 5000);
        },

        nav() {
            const dNav = document.getElementById('desktop-menu');
            if (!dNav) return;
            dNav.innerHTML = ''; 

            CONFIG.MENU.forEach(item => {
                const a = document.createElement('a');
                a.href = item.l || (item.sub && item.sub[0] && item.sub[0].l) || '#';
                a.className = 'nav-link';
                a.textContent = item.t;
                dNav.appendChild(a);
            });
        },

        mobile() {
            const mList = document.getElementById('mobile-list');
            const overlay = document.getElementById('overlay');
            const menu = document.getElementById('mobile-menu');
            const btn = document.getElementById('menu-btn');

            if (!mList || !overlay || !menu || !btn) return;
            
            mList.innerHTML = ''; 

            const statusDiv = document.createElement('div');
            statusDiv.style.cssText = "margin-bottom:24px; padding:12px; background:var(--muted-bg); border-radius:16px; display:flex; align-items:center; gap:10px;";
            
            const dot = document.createElement('div');
            dot.id = 'mob-status-dot';
            dot.className = 'status-dot';
            dot.style.cssText = 'width:10px; height:10px;';
            
            const text = document.createElement('span');
            text.id = 'mob-status-text';
            text.style.cssText = 'font-weight:700; font-size:0.9rem;';
            text.textContent = 'Kiểm tra giờ...';

            statusDiv.appendChild(dot);
            statusDiv.appendChild(text);
            mList.appendChild(statusDiv);

            CONFIG.MENU.forEach(i => {
                if (i.sub) {
                    const group = document.createElement('div');
                    group.style.marginBottom = '16px';
                    
                    const titleDiv = document.createElement('div');
                    titleDiv.style.cssText = "display:flex;align-items:center;margin-bottom:12px;color:var(--text-main);";
                    
                    const iconDiv = document.createElement('div');
                    iconDiv.className = 'menu-icon';
                    iconDiv.style.color = 'var(--text-main)';
                    iconDiv.innerHTML = i.i; 
                    
                    const titleText = document.createElement('div');
                    titleText.style.cssText = "font-weight:800; font-size:1.15rem;";
                    titleText.textContent = i.t;
                    
                    titleDiv.appendChild(iconDiv);
                    titleDiv.appendChild(titleText);
                    group.appendChild(titleDiv);

                    const grid = document.createElement('div');
                    grid.style.cssText = "display:grid; grid-template-columns:1fr 1fr; gap:10px; padding-left:10px;";

                    i.sub.forEach(s => {
                        const subLink = document.createElement('a');
                        subLink.href = s.l;
                        subLink.style.cssText = "display:flex;align-items:center;gap:8px;padding:12px; background:var(--muted-bg); border-radius:14px; font-size:0.85rem; color:var(--text-sub); font-weight:600; text-decoration:none;";
                        
                        const sIcon = document.createElement('span');
                        sIcon.style.cssText = "color:var(--primary); transform:scale(0.8);";
                        sIcon.innerHTML = s.i; 
                        
                        subLink.appendChild(sIcon);
                        subLink.appendChild(document.createTextNode(s.t));
                        
                        grid.appendChild(subLink);
                    });
                    
                    group.appendChild(grid);
                    mList.appendChild(group);
                } else {
                    const link = document.createElement('a');
                    link.href = i.l;
                    link.style.cssText = "display:flex; align-items:center; gap:12px; font-size:1.15rem; font-weight:700; padding:16px 0; border-bottom:1px solid var(--glass-border); color:var(--text-main); text-decoration:none;";
                    
                    const iconDiv = document.createElement('div');
                    iconDiv.className = 'menu-icon';
                    iconDiv.innerHTML = i.i;
                    
                    link.appendChild(iconDiv);
                    link.appendChild(document.createTextNode(i.t));
                    mList.appendChild(link);
                }
            });

            const toggle = () => {
                menu.classList.toggle('active');
                overlay.classList.toggle('active');
            };
            
            btn.addEventListener('click', toggle);
            overlay.addEventListener('click', toggle);
        },

        footer() {
            const grid = document.getElementById('footer-grid');
            if (!grid) return;
            grid.innerHTML = ''; 

            const iconMapStr = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path><circle cx="12" cy="10" r="3"></circle></svg></div>`;
            const iconDocStr = `<div class="f-svg-box"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg></div>`;

            const createCol = (title, items, iconStr) => {
                const col = document.createElement('div');
                col.className = 'f-col';
                
                const h4 = document.createElement('h4');
                const h4Icon = document.createElement('span');
                h4Icon.className = 'material-symbols-rounded';
                h4Icon.textContent = 'map';
                h4.appendChild(h4Icon);
                h4.appendChild(document.createTextNode(' ' + title));
                col.appendChild(h4);

                items.forEach(item => {
                    const a = document.createElement('a');
                    a.href = item.l;
                    a.className = 'f-link';
                    
                    const iconWrapper = document.createElement('span');
                    iconWrapper.innerHTML = iconStr;
                    
                    a.appendChild(iconWrapper);
                    a.appendChild(document.createTextNode(' ' + item.t));
                    col.appendChild(a);
                });
                return col;
            };

            const col1 = document.createElement('div');
            col1.className = 'f-col';
            col1.innerHTML = `<h4><span class="material-symbols-rounded">info</span> Về Mr Tú</h4>
                <a href="gioithieu.html" class="f-link">${iconDocStr} Giới thiệu</a>
                <a href="chinhsach.html" class="f-link">${iconDocStr} Chính sách bảo mật</a>
                <a href="dieukhoan.html" class="f-link">${iconDocStr} Điều khoản sử dụng</a>
                <a href="lienhe.html" class="f-link">${iconDocStr} Liên hệ</a>
                <div style="margin-top:24px; display:flex; gap:12px; flex-wrap:wrap;">
                    <a href="https://m.facebook.com/chothuexemayphocohanoi/" target="_blank" rel="noopener noreferrer" class="social-btn social-fb" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/chothuexemayphoco" target="_blank" rel="noopener noreferrer" class="social-btn social-ins" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
                    <a href="https://www.pinterest.com/chothuexemayphoco/" target="_blank" rel="noopener noreferrer" class="social-btn social-pin" aria-label="Pinterest"><i class="fa-brands fa-pinterest"></i></a>
                    <a href="https://about.me/chothuexemayphoco" target="_blank" rel="noopener noreferrer" class="social-btn social-me" aria-label="About Me"><i class="fa-solid fa-address-card"></i></a>
                    <a href="https://www.tiktok.com/@thuexemayphoco" target="_blank" rel="noopener noreferrer" class="social-btn social-tik" aria-label="TikTok"><i class="fa-brands fa-tiktok"></i></a>
                </div>`;
            grid.appendChild(col1);

            const services = CONFIG.MENU.find(x => x.t === 'Dịch vụ')?.sub || [];
            const col2 = document.createElement('div');
            col2.className = 'f-col';
            col2.innerHTML = `<h4><span class="material-symbols-rounded">settings</span> Dịch vụ</h4>`;
            services.forEach(s => {
                const a = document.createElement('a');
                a.href = s.l; a.className = 'f-link';
                const span = document.createElement('span');
                span.innerHTML = iconDocStr;
                a.appendChild(span);
                a.appendChild(document.createTextNode(' ' + s.t));
                col2.appendChild(a);
            });
            grid.appendChild(col2);

            const locations = CONFIG.MENU.find(x => x.t === 'Địa điểm')?.sub || [];
            const halfLoc = Math.ceil(locations.length / 2);
            
            grid.appendChild(createCol('Khu vực 1', locations.slice(0, halfLoc), iconMapStr));
            grid.appendChild(createCol('Khu vực 2', locations.slice(halfLoc), iconMapStr));
        },

        statusWidget() {
            const checkTime = () => {
                const now = new Date();
                const hours = now.getHours();
                
                const isOpen = hours >= 8 && hours < 17;
                
                const updateUI = (dotId, textId) => {
                    const dot = document.getElementById(dotId);
                    const text = document.getElementById(textId);
                    if (!dot || !text) return;

                    if (isOpen) {
                         dot.className = 'status-dot open';
                         text.innerText = 'Cửa hàng đang mở (8h-17h)';
                         text.className = 'status-text text-open';
                    } else {
                         dot.className = 'status-dot online';
                         text.innerText = 'Hỗ trợ Online 24/7';
                         text.className = 'status-text text-online';
                    }
                };
                
                updateUI('status-dot', 'status-text');
                updateUI('mob-status-dot', 'mob-status-text');
            };
            checkTime();
            setInterval(checkTime, 60000);
        },

        calc() {
            const type = document.getElementById('c-type');
            const days = document.getElementById('c-days');
            const total = document.getElementById('c-total');

            const run = () => {
                let d = parseInt(days.value, 10) || 1;
                if (d < 1) d = 1;
                const price = (parseInt(type.value, 10) || 0) * d;
                total.innerText = price.toLocaleString('vi-VN') + 'đ';
            };
            
            if (type && days && total) {
                type.addEventListener('change', run);
                days.addEventListener('input', run);
                run();
            }
        },

        effects() {
            const header = document.getElementById('header');
            if (header) {
                window.addEventListener('scroll', () => {
                    header.classList.toggle('scrolled', window.scrollY > 50);
                });
            }

            const tBtn = document.getElementById('theme-btn');
            if (tBtn) {
                const setThemeIcon = (theme) => {
                    tBtn.innerHTML = theme === 'dark'
                        ? '<span class="material-symbols-rounded">light_mode</span>'
                        : '<span class="material-symbols-rounded">dark_mode</span>';
                };

                const current = document.documentElement.getAttribute('data-theme') || 'dark';
                setThemeIcon(current);

                tBtn.addEventListener('click', () => {
                    const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
                    const newTheme = isDark ? 'light' : 'dark';
                    document.documentElement.setAttribute('data-theme', newTheme);
                    setThemeIcon(newTheme);
                });
            }

            const obs = new IntersectionObserver((entries) => {
                entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
            }, {threshold: 0.1});
            
            setTimeout(() => {
                document.querySelectorAll('.fade-in-up').forEach(el => obs.observe(el));
            }, 500);

            const tiltBox = document.getElementById('tilt-box');
            if (tiltBox) {
                tiltBox.addEventListener('mousemove', (e) => {
                    if (window.innerWidth < 1024) return;
                    const rect = tiltBox.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    const rotateX = -1 * y / 20;
                    const rotateY = x / 20;
                    
                    requestAnimationFrame(() => {
                        tiltBox.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
                    });
                });

                tiltBox.addEventListener('mouseleave', () => {
                    tiltBox.style.transform = 'perspective(1000px) rotateY(-5deg) rotateX(5deg)';
                });
            }
        },

        setupPWA() {
            const manifest = {
                name: "Mr Tu",
                short_name: "NT Ultra",
                display: "standalone",
                start_url: "./",
                theme_color: "#000000",
                background_color: "#000000",
                icons: [{
                    src: "https://raw.githubusercontent.com/thuexemayhanoi/shop/main/IMG_0462.jpeg",
                    sizes: "192x192",
                    type: "image/jpeg"
                }]
            };
            const blob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
            const link = document.createElement('link');
            link.rel = 'manifest';
            const url = URL.createObjectURL(blob);
            link.href = url;
            document.head.appendChild(link);
            
            setTimeout(() => URL.revokeObjectURL(url), 60000);
        }
    };

    document.addEventListener('DOMContentLoaded', () => Render.init());
</script>
<script src="https://thuexemayhanoi.github.io/shop/motoai_v40_bm25plus_final.js" defer></script>
</body>
</html>
